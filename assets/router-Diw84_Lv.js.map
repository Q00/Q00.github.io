{"version":3,"file":"router-Diw84_Lv.js","sources":["../../../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js","../../../../node_modules/.pnpm/@tanstack+store@0.8.0/node_modules/@tanstack/store/dist/esm/scheduler.js","../../../../node_modules/.pnpm/@tanstack+store@0.8.0/node_modules/@tanstack/store/dist/esm/types.js","../../../../node_modules/.pnpm/@tanstack+store@0.8.0/node_modules/@tanstack/store/dist/esm/store.js","../../../../node_modules/.pnpm/@tanstack+history@1.145.7/node_modules/@tanstack/history/dist/esm/index.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/utils.js","../../../../node_modules/.pnpm/tiny-invariant@1.3.3/node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/lru-cache.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/new-process-route-tree.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/path.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/not-found.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/scroll-restoration.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/qss.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/searchParams.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/root.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/redirect.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/load-matches.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/rewrite.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/router.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/link.js","../../../../node_modules/.pnpm/@tanstack+router-core@1.145.7/node_modules/@tanstack/router-core/dist/esm/route.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/CatchBoundary.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/ClientOnly.js","../../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@18.3.1/node_modules/use-sync-external-store/shim/index.js","../../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@18.3.1/node_modules/use-sync-external-store/shim/with-selector.js","../../../../node_modules/.pnpm/@tanstack+react-store@0.8.0_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-store/dist/esm/index.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/routerContext.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useRouter.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useRouterState.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/matchContext.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useMatch.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useLoaderData.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useLoaderDeps.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useParams.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useSearch.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/utils.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useNavigate.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/link.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/route.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/fileRoute.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/Transitioner.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/not-found.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/SafeFragment.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/renderRouteNotFound.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/ScriptOnce.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/scroll-restoration.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/Match.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/Matches.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/router.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/RouterProvider.js","../../../../node_modules/.pnpm/@tanstack+react-router@1.145.7_react-dom@18.3.1_react@18.3.1/node_modules/@tanstack/react-router/dist/esm/useLocation.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","const __storeToDerived = /* @__PURE__ */ new WeakMap();\nconst __derivedToStore = /* @__PURE__ */ new WeakMap();\nconst __depsThatHaveWrittenThisTick = {\n  current: []\n};\nlet __isFlushing = false;\nlet __batchDepth = 0;\nconst __pendingUpdates = /* @__PURE__ */ new Set();\nconst __initialBatchValues = /* @__PURE__ */ new Map();\nfunction __flush_internals(relatedVals) {\n  for (const derived of relatedVals) {\n    if (__depsThatHaveWrittenThisTick.current.includes(derived)) {\n      continue;\n    }\n    __depsThatHaveWrittenThisTick.current.push(derived);\n    derived.recompute();\n    const stores = __derivedToStore.get(derived);\n    if (stores) {\n      for (const store of stores) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(store);\n        if (!(relatedLinkedDerivedVals == null ? void 0 : relatedLinkedDerivedVals.length)) continue;\n        __flush_internals(relatedLinkedDerivedVals);\n      }\n    }\n  }\n}\nfunction __notifyListeners(store) {\n  const value = {\n    prevVal: store.prevState,\n    currentVal: store.state\n  };\n  for (const listener of store.listeners) {\n    listener(value);\n  }\n}\nfunction __notifyDerivedListeners(derived) {\n  const value = {\n    prevVal: derived.prevState,\n    currentVal: derived.state\n  };\n  for (const listener of derived.listeners) {\n    listener(value);\n  }\n}\nfunction __flush(store) {\n  if (__batchDepth > 0 && !__initialBatchValues.has(store)) {\n    __initialBatchValues.set(store, store.prevState);\n  }\n  __pendingUpdates.add(store);\n  if (__batchDepth > 0) return;\n  if (__isFlushing) return;\n  try {\n    __isFlushing = true;\n    while (__pendingUpdates.size > 0) {\n      const stores = Array.from(__pendingUpdates);\n      __pendingUpdates.clear();\n      for (const store2 of stores) {\n        const prevState = __initialBatchValues.get(store2) ?? store2.prevState;\n        store2.prevState = prevState;\n        __notifyListeners(store2);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        __depsThatHaveWrittenThisTick.current.push(store2);\n        __flush_internals(derivedVals);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        for (const derived of derivedVals) {\n          __notifyDerivedListeners(derived);\n        }\n      }\n    }\n  } finally {\n    __isFlushing = false;\n    __depsThatHaveWrittenThisTick.current = [];\n    __initialBatchValues.clear();\n  }\n}\nfunction batch(fn) {\n  __batchDepth++;\n  try {\n    fn();\n  } finally {\n    __batchDepth--;\n    if (__batchDepth === 0) {\n      const pendingUpdateToFlush = __pendingUpdates.values().next().value;\n      if (pendingUpdateToFlush) {\n        __flush(pendingUpdateToFlush);\n      }\n    }\n  }\n}\nexport {\n  __depsThatHaveWrittenThisTick,\n  __derivedToStore,\n  __flush,\n  __storeToDerived,\n  batch\n};\n//# sourceMappingURL=scheduler.js.map\n","function isUpdaterFunction(updater) {\n  return typeof updater === \"function\";\n}\nexport {\n  isUpdaterFunction\n};\n//# sourceMappingURL=types.js.map\n","import { __flush } from \"./scheduler.js\";\nimport { isUpdaterFunction } from \"./types.js\";\nclass Store {\n  constructor(initialState, options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options) == null ? void 0 : _a.onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.prevState = initialState;\n    this.state = initialState;\n    this.options = options;\n  }\n  setState(updater) {\n    var _a, _b, _c;\n    this.prevState = this.state;\n    if ((_a = this.options) == null ? void 0 : _a.updateFn) {\n      this.state = this.options.updateFn(this.prevState)(updater);\n    } else {\n      if (isUpdaterFunction(updater)) {\n        this.state = updater(this.prevState);\n      } else {\n        this.state = updater;\n      }\n    }\n    (_c = (_b = this.options) == null ? void 0 : _b.onUpdate) == null ? void 0 : _c.call(_b);\n    __flush(this);\n  }\n}\nexport {\n  Store\n};\n//# sourceMappingURL=store.js.map\n","const stateIndexKey = \"__TSR_index\";\nconst popStateEvent = \"popstate\";\nconst beforeUnloadEvent = \"beforeunload\";\nfunction createHistory(opts) {\n  let location = opts.getLocation();\n  const subscribers = /* @__PURE__ */ new Set();\n  const notify = (action) => {\n    location = opts.getLocation();\n    subscribers.forEach((subscriber) => subscriber({ location, action }));\n  };\n  const handleIndexChange = (action) => {\n    if (opts.notifyOnIndexChange ?? true) notify(action);\n    else location = opts.getLocation();\n  };\n  const tryNavigation = async ({\n    task,\n    navigateOpts,\n    ...actionInfo\n  }) => {\n    const ignoreBlocker = navigateOpts?.ignoreBlocker ?? false;\n    if (ignoreBlocker) {\n      task();\n      return;\n    }\n    const blockers = opts.getBlockers?.() ?? [];\n    const isPushOrReplace = actionInfo.type === \"PUSH\" || actionInfo.type === \"REPLACE\";\n    if (typeof document !== \"undefined\" && blockers.length && isPushOrReplace) {\n      for (const blocker of blockers) {\n        const nextLocation = parseHref(actionInfo.path, actionInfo.state);\n        const isBlocked = await blocker.blockerFn({\n          currentLocation: location,\n          nextLocation,\n          action: actionInfo.type\n        });\n        if (isBlocked) {\n          opts.onBlocked?.();\n          return;\n        }\n      }\n    }\n    task();\n  };\n  return {\n    get location() {\n      return location;\n    },\n    get length() {\n      return opts.getLength();\n    },\n    subscribers,\n    subscribe: (cb) => {\n      subscribers.add(cb);\n      return () => {\n        subscribers.delete(cb);\n      };\n    },\n    push: (path, state, navigateOpts) => {\n      const currentIndex = location.state[stateIndexKey];\n      state = assignKeyAndIndex(currentIndex + 1, state);\n      tryNavigation({\n        task: () => {\n          opts.pushState(path, state);\n          notify({ type: \"PUSH\" });\n        },\n        navigateOpts,\n        type: \"PUSH\",\n        path,\n        state\n      });\n    },\n    replace: (path, state, navigateOpts) => {\n      const currentIndex = location.state[stateIndexKey];\n      state = assignKeyAndIndex(currentIndex, state);\n      tryNavigation({\n        task: () => {\n          opts.replaceState(path, state);\n          notify({ type: \"REPLACE\" });\n        },\n        navigateOpts,\n        type: \"REPLACE\",\n        path,\n        state\n      });\n    },\n    go: (index, navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.go(index);\n          handleIndexChange({ type: \"GO\", index });\n        },\n        navigateOpts,\n        type: \"GO\"\n      });\n    },\n    back: (navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.back(navigateOpts?.ignoreBlocker ?? false);\n          handleIndexChange({ type: \"BACK\" });\n        },\n        navigateOpts,\n        type: \"BACK\"\n      });\n    },\n    forward: (navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.forward(navigateOpts?.ignoreBlocker ?? false);\n          handleIndexChange({ type: \"FORWARD\" });\n        },\n        navigateOpts,\n        type: \"FORWARD\"\n      });\n    },\n    canGoBack: () => location.state[stateIndexKey] !== 0,\n    createHref: (str) => opts.createHref(str),\n    block: (blocker) => {\n      if (!opts.setBlockers) return () => {\n      };\n      const blockers = opts.getBlockers?.() ?? [];\n      opts.setBlockers([...blockers, blocker]);\n      return () => {\n        const blockers2 = opts.getBlockers?.() ?? [];\n        opts.setBlockers?.(blockers2.filter((b) => b !== blocker));\n      };\n    },\n    flush: () => opts.flush?.(),\n    destroy: () => opts.destroy?.(),\n    notify\n  };\n}\nfunction assignKeyAndIndex(index, state) {\n  if (!state) {\n    state = {};\n  }\n  const key = createRandomKey();\n  return {\n    ...state,\n    key,\n    // TODO: Remove in v2 - use __TSR_key instead\n    __TSR_key: key,\n    [stateIndexKey]: index\n  };\n}\nfunction createBrowserHistory(opts) {\n  const win = opts?.window ?? (typeof document !== \"undefined\" ? window : void 0);\n  const originalPushState = win.history.pushState;\n  const originalReplaceState = win.history.replaceState;\n  let blockers = [];\n  const _getBlockers = () => blockers;\n  const _setBlockers = (newBlockers) => blockers = newBlockers;\n  const createHref = opts?.createHref ?? ((path) => path);\n  const parseLocation = opts?.parseLocation ?? (() => parseHref(\n    `${win.location.pathname}${win.location.search}${win.location.hash}`,\n    win.history.state\n  ));\n  if (!win.history.state?.__TSR_key && !win.history.state?.key) {\n    const addedKey = createRandomKey();\n    win.history.replaceState(\n      {\n        [stateIndexKey]: 0,\n        key: addedKey,\n        // TODO: Remove in v2 - use __TSR_key instead\n        __TSR_key: addedKey\n      },\n      \"\"\n    );\n  }\n  let currentLocation = parseLocation();\n  let rollbackLocation;\n  let nextPopIsGo = false;\n  let ignoreNextPop = false;\n  let skipBlockerNextPop = false;\n  let ignoreNextBeforeUnload = false;\n  const getLocation = () => currentLocation;\n  let next;\n  let scheduled;\n  const flush = () => {\n    if (!next) {\n      return;\n    }\n    history._ignoreSubscribers = true;\n    (next.isPush ? win.history.pushState : win.history.replaceState)(\n      next.state,\n      \"\",\n      next.href\n    );\n    history._ignoreSubscribers = false;\n    next = void 0;\n    scheduled = void 0;\n    rollbackLocation = void 0;\n  };\n  const queueHistoryAction = (type, destHref, state) => {\n    const href = createHref(destHref);\n    if (!scheduled) {\n      rollbackLocation = currentLocation;\n    }\n    currentLocation = parseHref(destHref, state);\n    next = {\n      href,\n      state,\n      isPush: next?.isPush || type === \"push\"\n    };\n    if (!scheduled) {\n      scheduled = Promise.resolve().then(() => flush());\n    }\n  };\n  const onPushPop = (type) => {\n    currentLocation = parseLocation();\n    history.notify({ type });\n  };\n  const onPushPopEvent = async () => {\n    if (ignoreNextPop) {\n      ignoreNextPop = false;\n      return;\n    }\n    const nextLocation = parseLocation();\n    const delta = nextLocation.state[stateIndexKey] - currentLocation.state[stateIndexKey];\n    const isForward = delta === 1;\n    const isBack = delta === -1;\n    const isGo = !isForward && !isBack || nextPopIsGo;\n    nextPopIsGo = false;\n    const action = isGo ? \"GO\" : isBack ? \"BACK\" : \"FORWARD\";\n    const notify = isGo ? {\n      type: \"GO\",\n      index: delta\n    } : {\n      type: isBack ? \"BACK\" : \"FORWARD\"\n    };\n    if (skipBlockerNextPop) {\n      skipBlockerNextPop = false;\n    } else {\n      const blockers2 = _getBlockers();\n      if (typeof document !== \"undefined\" && blockers2.length) {\n        for (const blocker of blockers2) {\n          const isBlocked = await blocker.blockerFn({\n            currentLocation,\n            nextLocation,\n            action\n          });\n          if (isBlocked) {\n            ignoreNextPop = true;\n            win.history.go(1);\n            history.notify(notify);\n            return;\n          }\n        }\n      }\n    }\n    currentLocation = parseLocation();\n    history.notify(notify);\n  };\n  const onBeforeUnload = (e) => {\n    if (ignoreNextBeforeUnload) {\n      ignoreNextBeforeUnload = false;\n      return;\n    }\n    let shouldBlock = false;\n    const blockers2 = _getBlockers();\n    if (typeof document !== \"undefined\" && blockers2.length) {\n      for (const blocker of blockers2) {\n        const shouldHaveBeforeUnload = blocker.enableBeforeUnload ?? true;\n        if (shouldHaveBeforeUnload === true) {\n          shouldBlock = true;\n          break;\n        }\n        if (typeof shouldHaveBeforeUnload === \"function\" && shouldHaveBeforeUnload() === true) {\n          shouldBlock = true;\n          break;\n        }\n      }\n    }\n    if (shouldBlock) {\n      e.preventDefault();\n      return e.returnValue = \"\";\n    }\n    return;\n  };\n  const history = createHistory({\n    getLocation,\n    getLength: () => win.history.length,\n    pushState: (href, state) => queueHistoryAction(\"push\", href, state),\n    replaceState: (href, state) => queueHistoryAction(\"replace\", href, state),\n    back: (ignoreBlocker) => {\n      if (ignoreBlocker) skipBlockerNextPop = true;\n      ignoreNextBeforeUnload = true;\n      return win.history.back();\n    },\n    forward: (ignoreBlocker) => {\n      if (ignoreBlocker) skipBlockerNextPop = true;\n      ignoreNextBeforeUnload = true;\n      win.history.forward();\n    },\n    go: (n) => {\n      nextPopIsGo = true;\n      win.history.go(n);\n    },\n    createHref: (href) => createHref(href),\n    flush,\n    destroy: () => {\n      win.history.pushState = originalPushState;\n      win.history.replaceState = originalReplaceState;\n      win.removeEventListener(beforeUnloadEvent, onBeforeUnload, {\n        capture: true\n      });\n      win.removeEventListener(popStateEvent, onPushPopEvent);\n    },\n    onBlocked: () => {\n      if (rollbackLocation && currentLocation !== rollbackLocation) {\n        currentLocation = rollbackLocation;\n      }\n    },\n    getBlockers: _getBlockers,\n    setBlockers: _setBlockers,\n    notifyOnIndexChange: false\n  });\n  win.addEventListener(beforeUnloadEvent, onBeforeUnload, { capture: true });\n  win.addEventListener(popStateEvent, onPushPopEvent);\n  win.history.pushState = function(...args) {\n    const res = originalPushState.apply(win.history, args);\n    if (!history._ignoreSubscribers) onPushPop(\"PUSH\");\n    return res;\n  };\n  win.history.replaceState = function(...args) {\n    const res = originalReplaceState.apply(win.history, args);\n    if (!history._ignoreSubscribers) onPushPop(\"REPLACE\");\n    return res;\n  };\n  return history;\n}\nfunction createHashHistory(opts) {\n  const win = opts?.window ?? (typeof document !== \"undefined\" ? window : void 0);\n  return createBrowserHistory({\n    window: win,\n    parseLocation: () => {\n      const hashSplit = win.location.hash.split(\"#\").slice(1);\n      const pathPart = hashSplit[0] ?? \"/\";\n      const searchPart = win.location.search;\n      const hashEntries = hashSplit.slice(1);\n      const hashPart = hashEntries.length === 0 ? \"\" : `#${hashEntries.join(\"#\")}`;\n      const hashHref = `${pathPart}${searchPart}${hashPart}`;\n      return parseHref(hashHref, win.history.state);\n    },\n    createHref: (href) => `${win.location.pathname}${win.location.search}#${href}`\n  });\n}\nfunction createMemoryHistory(opts = {\n  initialEntries: [\"/\"]\n}) {\n  const entries = opts.initialEntries;\n  let index = opts.initialIndex ? Math.min(Math.max(opts.initialIndex, 0), entries.length - 1) : entries.length - 1;\n  const states = entries.map(\n    (_entry, index2) => assignKeyAndIndex(index2, void 0)\n  );\n  const getLocation = () => parseHref(entries[index], states[index]);\n  return createHistory({\n    getLocation,\n    getLength: () => entries.length,\n    pushState: (path, state) => {\n      if (index < entries.length - 1) {\n        entries.splice(index + 1);\n        states.splice(index + 1);\n      }\n      states.push(state);\n      entries.push(path);\n      index = Math.max(entries.length - 1, 0);\n    },\n    replaceState: (path, state) => {\n      states[index] = state;\n      entries[index] = path;\n    },\n    back: () => {\n      index = Math.max(index - 1, 0);\n    },\n    forward: () => {\n      index = Math.min(index + 1, entries.length - 1);\n    },\n    go: (n) => {\n      index = Math.min(Math.max(index + n, 0), entries.length - 1);\n    },\n    createHref: (path) => path\n  });\n}\nfunction sanitizePath(path) {\n  let sanitized = path.replace(/[\\x00-\\x1f\\x7f]/g, \"\");\n  if (sanitized.startsWith(\"//\")) {\n    sanitized = \"/\" + sanitized.replace(/^\\/+/, \"\");\n  }\n  return sanitized;\n}\nfunction parseHref(href, state) {\n  const sanitizedHref = sanitizePath(href);\n  const hashIndex = sanitizedHref.indexOf(\"#\");\n  const searchIndex = sanitizedHref.indexOf(\"?\");\n  const addedKey = createRandomKey();\n  return {\n    href: sanitizedHref,\n    pathname: sanitizedHref.substring(\n      0,\n      hashIndex > 0 ? searchIndex > 0 ? Math.min(hashIndex, searchIndex) : hashIndex : searchIndex > 0 ? searchIndex : sanitizedHref.length\n    ),\n    hash: hashIndex > -1 ? sanitizedHref.substring(hashIndex) : \"\",\n    search: searchIndex > -1 ? sanitizedHref.slice(\n      searchIndex,\n      hashIndex === -1 ? void 0 : hashIndex\n    ) : \"\",\n    state: state || { [stateIndexKey]: 0, key: addedKey, __TSR_key: addedKey }\n  };\n}\nfunction createRandomKey() {\n  return (Math.random() + 1).toString(36).substring(7);\n}\nexport {\n  createBrowserHistory,\n  createHashHistory,\n  createHistory,\n  createMemoryHistory,\n  parseHref\n};\n//# sourceMappingURL=index.js.map\n","function last(arr) {\n  return arr[arr.length - 1];\n}\nfunction isFunction(d) {\n  return typeof d === \"function\";\n}\nfunction functionalUpdate(updater, previous) {\n  if (isFunction(updater)) {\n    return updater(previous);\n  }\n  return updater;\n}\nconst hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(prev, _next) {\n  if (prev === _next) {\n    return prev;\n  }\n  const next = _next;\n  const array = isPlainArray(prev) && isPlainArray(next);\n  if (!array && !(isPlainObject(prev) && isPlainObject(next))) return next;\n  const prevItems = array ? prev : getEnumerableOwnKeys(prev);\n  if (!prevItems) return next;\n  const nextItems = array ? next : getEnumerableOwnKeys(next);\n  if (!nextItems) return next;\n  const prevSize = prevItems.length;\n  const nextSize = nextItems.length;\n  const copy = array ? new Array(nextSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < nextSize; i++) {\n    const key = array ? i : nextItems[i];\n    const p = prev[key];\n    const n = next[key];\n    if (p === n) {\n      copy[key] = p;\n      if (array ? i < prevSize : hasOwn.call(prev, key)) equalItems++;\n      continue;\n    }\n    if (p === null || n === null || typeof p !== \"object\" || typeof n !== \"object\") {\n      copy[key] = n;\n      continue;\n    }\n    const v = replaceEqualDeep(p, n);\n    copy[key] = v;\n    if (v === p) equalItems++;\n  }\n  return prevSize === nextSize && equalItems === prevSize ? prev : copy;\n}\nfunction getEnumerableOwnKeys(o) {\n  const keys = [];\n  const names = Object.getOwnPropertyNames(o);\n  for (const name of names) {\n    if (!Object.prototype.propertyIsEnumerable.call(o, name)) return false;\n    keys.push(name);\n  }\n  const symbols = Object.getOwnPropertySymbols(o);\n  for (const symbol of symbols) {\n    if (!Object.prototype.propertyIsEnumerable.call(o, symbol)) return false;\n    keys.push(symbol);\n  }\n  return keys;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (typeof ctor === \"undefined\") {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction deepEqual(a, b, opts) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    for (let i = 0, l = a.length; i < l; i++) {\n      if (!deepEqual(a[i], b[i], opts)) return false;\n    }\n    return true;\n  }\n  if (isPlainObject(a) && isPlainObject(b)) {\n    const ignoreUndefined = opts?.ignoreUndefined ?? true;\n    if (opts?.partial) {\n      for (const k in b) {\n        if (!ignoreUndefined || b[k] !== void 0) {\n          if (!deepEqual(a[k], b[k], opts)) return false;\n        }\n      }\n      return true;\n    }\n    let aCount = 0;\n    if (!ignoreUndefined) {\n      aCount = Object.keys(a).length;\n    } else {\n      for (const k in a) {\n        if (a[k] !== void 0) aCount++;\n      }\n    }\n    let bCount = 0;\n    for (const k in b) {\n      if (!ignoreUndefined || b[k] !== void 0) {\n        bCount++;\n        if (bCount > aCount || !deepEqual(a[k], b[k], opts)) return false;\n      }\n    }\n    return aCount === bCount;\n  }\n  return false;\n}\nfunction createControlledPromise(onResolve) {\n  let resolveLoadPromise;\n  let rejectLoadPromise;\n  const controlledPromise = new Promise((resolve, reject) => {\n    resolveLoadPromise = resolve;\n    rejectLoadPromise = reject;\n  });\n  controlledPromise.status = \"pending\";\n  controlledPromise.resolve = (value) => {\n    controlledPromise.status = \"resolved\";\n    controlledPromise.value = value;\n    resolveLoadPromise(value);\n    onResolve?.(value);\n  };\n  controlledPromise.reject = (e) => {\n    controlledPromise.status = \"rejected\";\n    rejectLoadPromise(e);\n  };\n  return controlledPromise;\n}\nfunction isModuleNotFoundError(error) {\n  if (typeof error?.message !== \"string\") return false;\n  return error.message.startsWith(\"Failed to fetch dynamically imported module\") || error.message.startsWith(\"error loading dynamically imported module\") || error.message.startsWith(\"Importing a module script failed\");\n}\nfunction isPromise(value) {\n  return Boolean(\n    value && typeof value === \"object\" && typeof value.then === \"function\"\n  );\n}\nfunction findLast(array, predicate) {\n  for (let i = array.length - 1; i >= 0; i--) {\n    const item = array[i];\n    if (predicate(item)) return item;\n  }\n  return void 0;\n}\nfunction sanitizePathSegment(segment) {\n  return segment.replace(/[\\x00-\\x1f\\x7f]/g, \"\");\n}\nfunction decodeSegment(segment) {\n  let decoded;\n  try {\n    decoded = decodeURI(segment);\n  } catch {\n    decoded = segment.replaceAll(/%[0-9A-F]{2}/gi, (match) => {\n      try {\n        return decodeURI(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n  return sanitizePathSegment(decoded);\n}\nfunction decodePath(path, decodeIgnore) {\n  if (!path) return path;\n  const re = decodeIgnore ? new RegExp(`${decodeIgnore.join(\"|\")}`, \"gi\") : /%25|%5C/gi;\n  let cursor = 0;\n  let result = \"\";\n  let match;\n  while (null !== (match = re.exec(path))) {\n    result += decodeSegment(path.slice(cursor, match.index)) + match[0];\n    cursor = re.lastIndex;\n  }\n  result = result + decodeSegment(cursor ? path.slice(cursor) : path);\n  if (result.startsWith(\"//\")) {\n    result = \"/\" + result.replace(/^\\/+/, \"\");\n  }\n  return result;\n}\nexport {\n  createControlledPromise,\n  decodePath,\n  deepEqual,\n  findLast,\n  functionalUpdate,\n  isModuleNotFoundError,\n  isPlainArray,\n  isPlainObject,\n  isPromise,\n  last,\n  replaceEqualDeep\n};\n//# sourceMappingURL=utils.js.map\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","function createLRUCache(max) {\n  const cache = /* @__PURE__ */ new Map();\n  let oldest;\n  let newest;\n  const touch = (entry) => {\n    if (!entry.next) return;\n    if (!entry.prev) {\n      entry.next.prev = void 0;\n      oldest = entry.next;\n      entry.next = void 0;\n      if (newest) {\n        entry.prev = newest;\n        newest.next = entry;\n      }\n    } else {\n      entry.prev.next = entry.next;\n      entry.next.prev = entry.prev;\n      entry.next = void 0;\n      if (newest) {\n        newest.next = entry;\n        entry.prev = newest;\n      }\n    }\n    newest = entry;\n  };\n  return {\n    get(key) {\n      const entry = cache.get(key);\n      if (!entry) return void 0;\n      touch(entry);\n      return entry.value;\n    },\n    set(key, value) {\n      if (cache.size >= max && oldest) {\n        const toDelete = oldest;\n        cache.delete(toDelete.key);\n        if (toDelete.next) {\n          oldest = toDelete.next;\n          toDelete.next.prev = void 0;\n        }\n        if (toDelete === newest) {\n          newest = void 0;\n        }\n      }\n      const existing = cache.get(key);\n      if (existing) {\n        existing.value = value;\n        touch(existing);\n      } else {\n        const entry = { key, value, prev: newest };\n        if (newest) newest.next = entry;\n        newest = entry;\n        if (!oldest) oldest = entry;\n        cache.set(key, entry);\n      }\n    },\n    clear() {\n      cache.clear();\n      oldest = void 0;\n      newest = void 0;\n    }\n  };\n}\nexport {\n  createLRUCache\n};\n//# sourceMappingURL=lru-cache.js.map\n","import invariant from \"tiny-invariant\";\nimport { createLRUCache } from \"./lru-cache.js\";\nimport { last } from \"./utils.js\";\nconst SEGMENT_TYPE_PATHNAME = 0;\nconst SEGMENT_TYPE_PARAM = 1;\nconst SEGMENT_TYPE_WILDCARD = 2;\nconst SEGMENT_TYPE_OPTIONAL_PARAM = 3;\nconst SEGMENT_TYPE_INDEX = 4;\nconst PARAM_W_CURLY_BRACES_RE = /^([^{]*)\\{\\$([a-zA-Z_$][a-zA-Z0-9_$]*)\\}([^}]*)$/;\nconst OPTIONAL_PARAM_W_CURLY_BRACES_RE = /^([^{]*)\\{-\\$([a-zA-Z_$][a-zA-Z0-9_$]*)\\}([^}]*)$/;\nconst WILDCARD_W_CURLY_BRACES_RE = /^([^{]*)\\{\\$\\}([^}]*)$/;\nfunction parseSegment(path, start, output = new Uint16Array(6)) {\n  const next = path.indexOf(\"/\", start);\n  const end = next === -1 ? path.length : next;\n  const part = path.substring(start, end);\n  if (!part || !part.includes(\"$\")) {\n    output[0] = SEGMENT_TYPE_PATHNAME;\n    output[1] = start;\n    output[2] = start;\n    output[3] = end;\n    output[4] = end;\n    output[5] = end;\n    return output;\n  }\n  if (part === \"$\") {\n    const total = path.length;\n    output[0] = SEGMENT_TYPE_WILDCARD;\n    output[1] = start;\n    output[2] = start;\n    output[3] = total;\n    output[4] = total;\n    output[5] = total;\n    return output;\n  }\n  if (part.charCodeAt(0) === 36) {\n    output[0] = SEGMENT_TYPE_PARAM;\n    output[1] = start;\n    output[2] = start + 1;\n    output[3] = end;\n    output[4] = end;\n    output[5] = end;\n    return output;\n  }\n  const wildcardBracesMatch = part.match(WILDCARD_W_CURLY_BRACES_RE);\n  if (wildcardBracesMatch) {\n    const prefix = wildcardBracesMatch[1];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_WILDCARD;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 1;\n    output[3] = start + pLength + 2;\n    output[4] = start + pLength + 3;\n    output[5] = path.length;\n    return output;\n  }\n  const optionalParamBracesMatch = part.match(OPTIONAL_PARAM_W_CURLY_BRACES_RE);\n  if (optionalParamBracesMatch) {\n    const prefix = optionalParamBracesMatch[1];\n    const paramName = optionalParamBracesMatch[2];\n    const suffix = optionalParamBracesMatch[3];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_OPTIONAL_PARAM;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 3;\n    output[3] = start + pLength + 3 + paramName.length;\n    output[4] = end - suffix.length;\n    output[5] = end;\n    return output;\n  }\n  const paramBracesMatch = part.match(PARAM_W_CURLY_BRACES_RE);\n  if (paramBracesMatch) {\n    const prefix = paramBracesMatch[1];\n    const paramName = paramBracesMatch[2];\n    const suffix = paramBracesMatch[3];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_PARAM;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 2;\n    output[3] = start + pLength + 2 + paramName.length;\n    output[4] = end - suffix.length;\n    output[5] = end;\n    return output;\n  }\n  output[0] = SEGMENT_TYPE_PATHNAME;\n  output[1] = start;\n  output[2] = start;\n  output[3] = end;\n  output[4] = end;\n  output[5] = end;\n  return output;\n}\nfunction parseSegments(defaultCaseSensitive, data, route, start, node, depth, onRoute) {\n  onRoute?.(route);\n  let cursor = start;\n  {\n    const path = route.fullPath ?? route.from;\n    const length = path.length;\n    const caseSensitive = route.options?.caseSensitive ?? defaultCaseSensitive;\n    while (cursor < length) {\n      const segment = parseSegment(path, cursor, data);\n      let nextNode;\n      const start2 = cursor;\n      const end = segment[5];\n      cursor = end + 1;\n      depth++;\n      const kind = segment[0];\n      switch (kind) {\n        case SEGMENT_TYPE_PATHNAME: {\n          const value = path.substring(segment[2], segment[3]);\n          if (caseSensitive) {\n            const existingNode = node.static?.get(value);\n            if (existingNode) {\n              nextNode = existingNode;\n            } else {\n              node.static ??= /* @__PURE__ */ new Map();\n              const next = createStaticNode(\n                route.fullPath ?? route.from\n              );\n              next.parent = node;\n              next.depth = depth;\n              nextNode = next;\n              node.static.set(value, next);\n            }\n          } else {\n            const name = value.toLowerCase();\n            const existingNode = node.staticInsensitive?.get(name);\n            if (existingNode) {\n              nextNode = existingNode;\n            } else {\n              node.staticInsensitive ??= /* @__PURE__ */ new Map();\n              const next = createStaticNode(\n                route.fullPath ?? route.from\n              );\n              next.parent = node;\n              next.depth = depth;\n              nextNode = next;\n              node.staticInsensitive.set(name, next);\n            }\n          }\n          break;\n        }\n        case SEGMENT_TYPE_PARAM: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const existingNode = node.dynamic?.find(\n            (s) => s.caseSensitive === actuallyCaseSensitive && s.prefix === prefix && s.suffix === suffix\n          );\n          if (existingNode) {\n            nextNode = existingNode;\n          } else {\n            const next = createDynamicNode(\n              SEGMENT_TYPE_PARAM,\n              route.fullPath ?? route.from,\n              actuallyCaseSensitive,\n              prefix,\n              suffix\n            );\n            nextNode = next;\n            next.depth = depth;\n            next.parent = node;\n            node.dynamic ??= [];\n            node.dynamic.push(next);\n          }\n          break;\n        }\n        case SEGMENT_TYPE_OPTIONAL_PARAM: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const existingNode = node.optional?.find(\n            (s) => s.caseSensitive === actuallyCaseSensitive && s.prefix === prefix && s.suffix === suffix\n          );\n          if (existingNode) {\n            nextNode = existingNode;\n          } else {\n            const next = createDynamicNode(\n              SEGMENT_TYPE_OPTIONAL_PARAM,\n              route.fullPath ?? route.from,\n              actuallyCaseSensitive,\n              prefix,\n              suffix\n            );\n            nextNode = next;\n            next.parent = node;\n            next.depth = depth;\n            node.optional ??= [];\n            node.optional.push(next);\n          }\n          break;\n        }\n        case SEGMENT_TYPE_WILDCARD: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const next = createDynamicNode(\n            SEGMENT_TYPE_WILDCARD,\n            route.fullPath ?? route.from,\n            actuallyCaseSensitive,\n            prefix,\n            suffix\n          );\n          nextNode = next;\n          next.parent = node;\n          next.depth = depth;\n          node.wildcard ??= [];\n          node.wildcard.push(next);\n        }\n      }\n      node = nextNode;\n    }\n    const isLeaf = (route.path || !route.children) && !route.isRoot;\n    if (isLeaf && path.endsWith(\"/\")) {\n      const indexNode = createStaticNode(\n        route.fullPath ?? route.from\n      );\n      indexNode.kind = SEGMENT_TYPE_INDEX;\n      indexNode.parent = node;\n      depth++;\n      indexNode.depth = depth;\n      node.index = indexNode;\n      node = indexNode;\n    }\n    if (isLeaf && !node.route) {\n      node.route = route;\n      node.fullPath = route.fullPath ?? route.from;\n    }\n  }\n  if (route.children)\n    for (const child of route.children) {\n      parseSegments(\n        defaultCaseSensitive,\n        data,\n        child,\n        cursor,\n        node,\n        depth,\n        onRoute\n      );\n    }\n}\nfunction sortDynamic(a, b) {\n  if (a.prefix && b.prefix && a.prefix !== b.prefix) {\n    if (a.prefix.startsWith(b.prefix)) return -1;\n    if (b.prefix.startsWith(a.prefix)) return 1;\n  }\n  if (a.suffix && b.suffix && a.suffix !== b.suffix) {\n    if (a.suffix.endsWith(b.suffix)) return -1;\n    if (b.suffix.endsWith(a.suffix)) return 1;\n  }\n  if (a.prefix && !b.prefix) return -1;\n  if (!a.prefix && b.prefix) return 1;\n  if (a.suffix && !b.suffix) return -1;\n  if (!a.suffix && b.suffix) return 1;\n  if (a.caseSensitive && !b.caseSensitive) return -1;\n  if (!a.caseSensitive && b.caseSensitive) return 1;\n  return 0;\n}\nfunction sortTreeNodes(node) {\n  if (node.static) {\n    for (const child of node.static.values()) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.staticInsensitive) {\n    for (const child of node.staticInsensitive.values()) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.dynamic?.length) {\n    node.dynamic.sort(sortDynamic);\n    for (const child of node.dynamic) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.optional?.length) {\n    node.optional.sort(sortDynamic);\n    for (const child of node.optional) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.wildcard?.length) {\n    node.wildcard.sort(sortDynamic);\n    for (const child of node.wildcard) {\n      sortTreeNodes(child);\n    }\n  }\n}\nfunction createStaticNode(fullPath) {\n  return {\n    kind: SEGMENT_TYPE_PATHNAME,\n    depth: 0,\n    index: null,\n    static: null,\n    staticInsensitive: null,\n    dynamic: null,\n    optional: null,\n    wildcard: null,\n    route: null,\n    fullPath,\n    parent: null\n  };\n}\nfunction createDynamicNode(kind, fullPath, caseSensitive, prefix, suffix) {\n  return {\n    kind,\n    depth: 0,\n    index: null,\n    static: null,\n    staticInsensitive: null,\n    dynamic: null,\n    optional: null,\n    wildcard: null,\n    route: null,\n    fullPath,\n    parent: null,\n    caseSensitive,\n    prefix,\n    suffix\n  };\n}\nfunction processRouteMasks(routeList, processedTree) {\n  const segmentTree = createStaticNode(\"/\");\n  const data = new Uint16Array(6);\n  for (const route of routeList) {\n    parseSegments(false, data, route, 1, segmentTree, 0);\n  }\n  sortTreeNodes(segmentTree);\n  processedTree.masksTree = segmentTree;\n  processedTree.flatCache = createLRUCache(1e3);\n}\nfunction findFlatMatch(path, processedTree) {\n  path ||= \"/\";\n  const cached = processedTree.flatCache.get(path);\n  if (cached) return cached;\n  const result = findMatch(path, processedTree.masksTree);\n  processedTree.flatCache.set(path, result);\n  return result;\n}\nfunction findSingleMatch(from, caseSensitive, fuzzy, path, processedTree) {\n  from ||= \"/\";\n  path ||= \"/\";\n  const key = caseSensitive ? `case\\0${from}` : from;\n  let tree = processedTree.singleCache.get(key);\n  if (!tree) {\n    tree = createStaticNode(\"/\");\n    const data = new Uint16Array(6);\n    parseSegments(caseSensitive, data, { from }, 1, tree, 0);\n    processedTree.singleCache.set(key, tree);\n  }\n  return findMatch(path, tree, fuzzy);\n}\nfunction findRouteMatch(path, processedTree, fuzzy = false) {\n  const key = fuzzy ? path : `nofuzz\\0${path}`;\n  const cached = processedTree.matchCache.get(key);\n  if (cached !== void 0) return cached;\n  path ||= \"/\";\n  const result = findMatch(\n    path,\n    processedTree.segmentTree,\n    fuzzy\n  );\n  if (result) result.branch = buildRouteBranch(result.route);\n  processedTree.matchCache.set(key, result);\n  return result;\n}\nfunction trimPathRight(path) {\n  return path === \"/\" ? path : path.replace(/\\/{1,}$/, \"\");\n}\nfunction processRouteTree(routeTree, caseSensitive = false, initRoute) {\n  const segmentTree = createStaticNode(routeTree.fullPath);\n  const data = new Uint16Array(6);\n  const routesById = {};\n  const routesByPath = {};\n  let index = 0;\n  parseSegments(caseSensitive, data, routeTree, 1, segmentTree, 0, (route) => {\n    initRoute?.(route, index);\n    invariant(\n      !(route.id in routesById),\n      `Duplicate routes found with id: ${String(route.id)}`\n    );\n    routesById[route.id] = route;\n    if (index !== 0 && route.path) {\n      const trimmedFullPath = trimPathRight(route.fullPath);\n      if (!routesByPath[trimmedFullPath] || route.fullPath.endsWith(\"/\")) {\n        routesByPath[trimmedFullPath] = route;\n      }\n    }\n    index++;\n  });\n  sortTreeNodes(segmentTree);\n  const processedTree = {\n    segmentTree,\n    singleCache: createLRUCache(1e3),\n    matchCache: createLRUCache(1e3),\n    flatCache: null,\n    masksTree: null\n  };\n  return {\n    processedTree,\n    routesById,\n    routesByPath\n  };\n}\nfunction findMatch(path, segmentTree, fuzzy = false) {\n  const parts = path.split(\"/\");\n  const leaf = getNodeMatch(path, parts, segmentTree, fuzzy);\n  if (!leaf) return null;\n  const params = extractParams(path, parts, leaf);\n  if (\"**\" in leaf) params[\"**\"] = leaf[\"**\"];\n  const route = leaf.node.route;\n  return {\n    route,\n    params\n  };\n}\nfunction extractParams(path, parts, leaf) {\n  const list = buildBranch(leaf.node);\n  let nodeParts = null;\n  const params = {};\n  for (let partIndex = 0, nodeIndex = 0, pathIndex = 0; nodeIndex < list.length; partIndex++, nodeIndex++, pathIndex++) {\n    const node = list[nodeIndex];\n    const part = parts[partIndex];\n    const currentPathIndex = pathIndex;\n    if (part) pathIndex += part.length;\n    if (node.kind === SEGMENT_TYPE_PARAM) {\n      nodeParts ??= leaf.node.fullPath.split(\"/\");\n      const nodePart = nodeParts[nodeIndex];\n      const preLength = node.prefix?.length ?? 0;\n      const isCurlyBraced = nodePart.charCodeAt(preLength) === 123;\n      if (isCurlyBraced) {\n        const sufLength = node.suffix?.length ?? 0;\n        const name = nodePart.substring(\n          preLength + 2,\n          nodePart.length - sufLength - 1\n        );\n        const value = part.substring(preLength, part.length - sufLength);\n        params[name] = decodeURIComponent(value);\n      } else {\n        const name = nodePart.substring(1);\n        params[name] = decodeURIComponent(part);\n      }\n    } else if (node.kind === SEGMENT_TYPE_OPTIONAL_PARAM) {\n      if (leaf.skipped & 1 << nodeIndex) {\n        partIndex--;\n        continue;\n      }\n      nodeParts ??= leaf.node.fullPath.split(\"/\");\n      const nodePart = nodeParts[nodeIndex];\n      const preLength = node.prefix?.length ?? 0;\n      const sufLength = node.suffix?.length ?? 0;\n      const name = nodePart.substring(\n        preLength + 3,\n        nodePart.length - sufLength - 1\n      );\n      const value = node.suffix || node.prefix ? part.substring(preLength, part.length - sufLength) : part;\n      if (value) params[name] = decodeURIComponent(value);\n    } else if (node.kind === SEGMENT_TYPE_WILDCARD) {\n      const n = node;\n      const value = path.substring(\n        currentPathIndex + (n.prefix?.length ?? 0),\n        path.length - (n.suffix?.length ?? 0)\n      );\n      const splat = decodeURIComponent(value);\n      params[\"*\"] = splat;\n      params._splat = splat;\n      break;\n    }\n  }\n  return params;\n}\nfunction buildRouteBranch(route) {\n  const list = [route];\n  while (route.parentRoute) {\n    route = route.parentRoute;\n    list.push(route);\n  }\n  list.reverse();\n  return list;\n}\nfunction buildBranch(node) {\n  const list = Array(node.depth + 1);\n  do {\n    list[node.depth] = node;\n    node = node.parent;\n  } while (node);\n  return list;\n}\nfunction getNodeMatch(path, parts, segmentTree, fuzzy) {\n  if (path === \"/\" && segmentTree.index)\n    return { node: segmentTree.index, skipped: 0 };\n  const trailingSlash = !last(parts);\n  const pathIsIndex = trailingSlash && path !== \"/\";\n  const partsLength = parts.length - (trailingSlash ? 1 : 0);\n  const stack = [\n    {\n      node: segmentTree,\n      index: 1,\n      skipped: 0,\n      depth: 1,\n      statics: 1,\n      dynamics: 0,\n      optionals: 0\n    }\n  ];\n  let wildcardMatch = null;\n  let bestFuzzy = null;\n  let bestMatch = null;\n  while (stack.length) {\n    const frame = stack.pop();\n    let { node, index, skipped, depth, statics, dynamics, optionals } = frame;\n    if (fuzzy && node.route && node.kind !== SEGMENT_TYPE_INDEX && isFrameMoreSpecific(bestFuzzy, frame)) {\n      bestFuzzy = frame;\n    }\n    const isBeyondPath = index === partsLength;\n    if (isBeyondPath) {\n      if (node.route && !pathIsIndex && isFrameMoreSpecific(bestMatch, frame)) {\n        bestMatch = frame;\n      }\n      if (!node.optional && !node.wildcard && !node.index) continue;\n    }\n    const part = isBeyondPath ? void 0 : parts[index];\n    let lowerPart;\n    if (isBeyondPath && node.index) {\n      const indexFrame = {\n        node: node.index,\n        index,\n        skipped,\n        depth: depth + 1,\n        statics,\n        dynamics,\n        optionals\n      };\n      if (statics === partsLength && !dynamics && !optionals && !skipped) {\n        return indexFrame;\n      }\n      if (isFrameMoreSpecific(bestMatch, indexFrame)) {\n        bestMatch = indexFrame;\n      }\n    }\n    if (node.wildcard && isFrameMoreSpecific(wildcardMatch, frame)) {\n      for (const segment of node.wildcard) {\n        const { prefix, suffix } = segment;\n        if (prefix) {\n          if (isBeyondPath) continue;\n          const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n          if (!casePart.startsWith(prefix)) continue;\n        }\n        if (suffix) {\n          if (isBeyondPath) continue;\n          const end = parts.slice(index).join(\"/\").slice(-suffix.length);\n          const casePart = segment.caseSensitive ? end : end.toLowerCase();\n          if (casePart !== suffix) continue;\n        }\n        wildcardMatch = {\n          node: segment,\n          index: partsLength,\n          skipped,\n          depth,\n          statics,\n          dynamics,\n          optionals\n        };\n        break;\n      }\n    }\n    if (node.optional) {\n      const nextSkipped = skipped | 1 << depth;\n      const nextDepth = depth + 1;\n      for (let i = node.optional.length - 1; i >= 0; i--) {\n        const segment = node.optional[i];\n        stack.push({\n          node: segment,\n          index,\n          skipped: nextSkipped,\n          depth: nextDepth,\n          statics,\n          dynamics,\n          optionals\n        });\n      }\n      if (!isBeyondPath) {\n        for (let i = node.optional.length - 1; i >= 0; i--) {\n          const segment = node.optional[i];\n          const { prefix, suffix } = segment;\n          if (prefix || suffix) {\n            const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n            if (prefix && !casePart.startsWith(prefix)) continue;\n            if (suffix && !casePart.endsWith(suffix)) continue;\n          }\n          stack.push({\n            node: segment,\n            index: index + 1,\n            skipped,\n            depth: nextDepth,\n            statics,\n            dynamics,\n            optionals: optionals + 1\n          });\n        }\n      }\n    }\n    if (!isBeyondPath && node.dynamic && part) {\n      for (let i = node.dynamic.length - 1; i >= 0; i--) {\n        const segment = node.dynamic[i];\n        const { prefix, suffix } = segment;\n        if (prefix || suffix) {\n          const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n          if (prefix && !casePart.startsWith(prefix)) continue;\n          if (suffix && !casePart.endsWith(suffix)) continue;\n        }\n        stack.push({\n          node: segment,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics,\n          dynamics: dynamics + 1,\n          optionals\n        });\n      }\n    }\n    if (!isBeyondPath && node.staticInsensitive) {\n      const match = node.staticInsensitive.get(\n        lowerPart ??= part.toLowerCase()\n      );\n      if (match) {\n        stack.push({\n          node: match,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics: statics + 1,\n          dynamics,\n          optionals\n        });\n      }\n    }\n    if (!isBeyondPath && node.static) {\n      const match = node.static.get(part);\n      if (match) {\n        stack.push({\n          node: match,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics: statics + 1,\n          dynamics,\n          optionals\n        });\n      }\n    }\n  }\n  if (bestMatch && wildcardMatch) {\n    return isFrameMoreSpecific(wildcardMatch, bestMatch) ? bestMatch : wildcardMatch;\n  }\n  if (bestMatch) return bestMatch;\n  if (wildcardMatch) return wildcardMatch;\n  if (fuzzy && bestFuzzy) {\n    let sliceIndex = bestFuzzy.index;\n    for (let i = 0; i < bestFuzzy.index; i++) {\n      sliceIndex += parts[i].length;\n    }\n    const splat = sliceIndex === path.length ? \"/\" : path.slice(sliceIndex);\n    return {\n      node: bestFuzzy.node,\n      skipped: bestFuzzy.skipped,\n      \"**\": decodeURIComponent(splat)\n    };\n  }\n  return null;\n}\nfunction isFrameMoreSpecific(prev, next) {\n  if (!prev) return true;\n  return next.statics > prev.statics || next.statics === prev.statics && (next.dynamics > prev.dynamics || next.dynamics === prev.dynamics && (next.optionals > prev.optionals || next.optionals === prev.optionals && ((next.node.kind === SEGMENT_TYPE_INDEX) > (prev.node.kind === SEGMENT_TYPE_INDEX) || next.node.kind === SEGMENT_TYPE_INDEX === (prev.node.kind === SEGMENT_TYPE_INDEX) && next.depth > prev.depth)));\n}\nexport {\n  SEGMENT_TYPE_OPTIONAL_PARAM,\n  SEGMENT_TYPE_PARAM,\n  SEGMENT_TYPE_PATHNAME,\n  SEGMENT_TYPE_WILDCARD,\n  findFlatMatch,\n  findRouteMatch,\n  findSingleMatch,\n  parseSegment,\n  processRouteMasks,\n  processRouteTree,\n  trimPathRight\n};\n//# sourceMappingURL=new-process-route-tree.js.map\n","import { last } from \"./utils.js\";\nimport { parseSegment, SEGMENT_TYPE_PATHNAME, SEGMENT_TYPE_WILDCARD, SEGMENT_TYPE_PARAM, SEGMENT_TYPE_OPTIONAL_PARAM } from \"./new-process-route-tree.js\";\nfunction joinPaths(paths) {\n  return cleanPath(\n    paths.filter((val) => {\n      return val !== void 0;\n    }).join(\"/\")\n  );\n}\nfunction cleanPath(path) {\n  return path.replace(/\\/{2,}/g, \"/\");\n}\nfunction trimPathLeft(path) {\n  return path === \"/\" ? path : path.replace(/^\\/{1,}/, \"\");\n}\nfunction trimPathRight(path) {\n  const len = path.length;\n  return len > 1 && path[len - 1] === \"/\" ? path.replace(/\\/{1,}$/, \"\") : path;\n}\nfunction trimPath(path) {\n  return trimPathRight(trimPathLeft(path));\n}\nfunction removeTrailingSlash(value, basepath) {\n  if (value?.endsWith(\"/\") && value !== \"/\" && value !== `${basepath}/`) {\n    return value.slice(0, -1);\n  }\n  return value;\n}\nfunction exactPathTest(pathName1, pathName2, basepath) {\n  return removeTrailingSlash(pathName1, basepath) === removeTrailingSlash(pathName2, basepath);\n}\nfunction resolvePath({\n  base,\n  to,\n  trailingSlash = \"never\",\n  cache\n}) {\n  const isAbsolute = to.startsWith(\"/\");\n  const isBase = !isAbsolute && to === \".\";\n  let key;\n  if (cache) {\n    key = isAbsolute ? to : isBase ? base : base + \"\\0\" + to;\n    const cached = cache.get(key);\n    if (cached) return cached;\n  }\n  let baseSegments;\n  if (isBase) {\n    baseSegments = base.split(\"/\");\n  } else if (isAbsolute) {\n    baseSegments = to.split(\"/\");\n  } else {\n    baseSegments = base.split(\"/\");\n    while (baseSegments.length > 1 && last(baseSegments) === \"\") {\n      baseSegments.pop();\n    }\n    const toSegments = to.split(\"/\");\n    for (let index = 0, length = toSegments.length; index < length; index++) {\n      const value = toSegments[index];\n      if (value === \"\") {\n        if (!index) {\n          baseSegments = [value];\n        } else if (index === length - 1) {\n          baseSegments.push(value);\n        } else ;\n      } else if (value === \"..\") {\n        baseSegments.pop();\n      } else if (value === \".\") ;\n      else {\n        baseSegments.push(value);\n      }\n    }\n  }\n  if (baseSegments.length > 1) {\n    if (last(baseSegments) === \"\") {\n      if (trailingSlash === \"never\") {\n        baseSegments.pop();\n      }\n    } else if (trailingSlash === \"always\") {\n      baseSegments.push(\"\");\n    }\n  }\n  let segment;\n  let joined = \"\";\n  for (let i = 0; i < baseSegments.length; i++) {\n    if (i > 0) joined += \"/\";\n    const part = baseSegments[i];\n    if (!part) continue;\n    segment = parseSegment(part, 0, segment);\n    const kind = segment[0];\n    if (kind === SEGMENT_TYPE_PATHNAME) {\n      joined += part;\n      continue;\n    }\n    const end = segment[5];\n    const prefix = part.substring(0, segment[1]);\n    const suffix = part.substring(segment[4], end);\n    const value = part.substring(segment[2], segment[3]);\n    if (kind === SEGMENT_TYPE_PARAM) {\n      joined += prefix || suffix ? `${prefix}{$${value}}${suffix}` : `$${value}`;\n    } else if (kind === SEGMENT_TYPE_WILDCARD) {\n      joined += prefix || suffix ? `${prefix}{$}${suffix}` : \"$\";\n    } else {\n      joined += `${prefix}{-$${value}}${suffix}`;\n    }\n  }\n  joined = cleanPath(joined);\n  const result = joined || \"/\";\n  if (key && cache) cache.set(key, result);\n  return result;\n}\nfunction encodeParam(key, params, decodeCharMap) {\n  const value = params[key];\n  if (typeof value !== \"string\") return value;\n  if (key === \"_splat\") {\n    return encodeURI(value);\n  } else {\n    return encodePathParam(value, decodeCharMap);\n  }\n}\nfunction interpolatePath({\n  path,\n  params,\n  decodeCharMap\n}) {\n  let isMissingParams = false;\n  const usedParams = {};\n  if (!path || path === \"/\")\n    return { interpolatedPath: \"/\", usedParams, isMissingParams };\n  if (!path.includes(\"$\"))\n    return { interpolatedPath: path, usedParams, isMissingParams };\n  const length = path.length;\n  let cursor = 0;\n  let segment;\n  let joined = \"\";\n  while (cursor < length) {\n    const start = cursor;\n    segment = parseSegment(path, start, segment);\n    const end = segment[5];\n    cursor = end + 1;\n    if (start === end) continue;\n    const kind = segment[0];\n    if (kind === SEGMENT_TYPE_PATHNAME) {\n      joined += \"/\" + path.substring(start, end);\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_WILDCARD) {\n      const splat = params._splat;\n      usedParams._splat = splat;\n      usedParams[\"*\"] = splat;\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      if (!splat) {\n        isMissingParams = true;\n        if (prefix || suffix) {\n          joined += \"/\" + prefix + suffix;\n        }\n        continue;\n      }\n      const value = encodeParam(\"_splat\", params, decodeCharMap);\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_PARAM) {\n      const key = path.substring(segment[2], segment[3]);\n      if (!isMissingParams && !(key in params)) {\n        isMissingParams = true;\n      }\n      usedParams[key] = params[key];\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      const value = encodeParam(key, params, decodeCharMap) ?? \"undefined\";\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_OPTIONAL_PARAM) {\n      const key = path.substring(segment[2], segment[3]);\n      const valueRaw = params[key];\n      if (valueRaw == null) continue;\n      usedParams[key] = valueRaw;\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      const value = encodeParam(key, params, decodeCharMap) ?? \"\";\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n  }\n  if (path.endsWith(\"/\")) joined += \"/\";\n  const interpolatedPath = joined || \"/\";\n  return { usedParams, interpolatedPath, isMissingParams };\n}\nfunction encodePathParam(value, decodeCharMap) {\n  let encoded = encodeURIComponent(value);\n  if (decodeCharMap) {\n    for (const [encodedChar, char] of decodeCharMap) {\n      encoded = encoded.replaceAll(encodedChar, char);\n    }\n  }\n  return encoded;\n}\nexport {\n  cleanPath,\n  exactPathTest,\n  interpolatePath,\n  joinPaths,\n  removeTrailingSlash,\n  resolvePath,\n  trimPath,\n  trimPathLeft,\n  trimPathRight\n};\n//# sourceMappingURL=path.js.map\n","function notFound(options = {}) {\n  options.isNotFound = true;\n  if (options.throw) throw options;\n  return options;\n}\nfunction isNotFound(obj) {\n  return !!obj?.isNotFound;\n}\nexport {\n  isNotFound,\n  notFound\n};\n//# sourceMappingURL=not-found.js.map\n","import { functionalUpdate } from \"./utils.js\";\nfunction getSafeSessionStorage() {\n  try {\n    if (typeof window !== \"undefined\" && typeof window.sessionStorage === \"object\") {\n      return window.sessionStorage;\n    }\n  } catch {\n  }\n  return void 0;\n}\nconst storageKey = \"tsr-scroll-restoration-v1_3\";\nconst throttle = (fn, wait) => {\n  let timeout;\n  return (...args) => {\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        fn(...args);\n        timeout = null;\n      }, wait);\n    }\n  };\n};\nfunction createScrollRestorationCache() {\n  const safeSessionStorage = getSafeSessionStorage();\n  if (!safeSessionStorage) {\n    return null;\n  }\n  const persistedState = safeSessionStorage.getItem(storageKey);\n  let state = persistedState ? JSON.parse(persistedState) : {};\n  return {\n    state,\n    // This setter is simply to make sure that we set the sessionStorage right\n    // after the state is updated. It doesn't necessarily need to be a functional\n    // update.\n    set: (updater) => {\n      state = functionalUpdate(updater, state) || state;\n      try {\n        safeSessionStorage.setItem(storageKey, JSON.stringify(state));\n      } catch {\n        console.warn(\n          \"[ts-router] Could not persist scroll restoration state to sessionStorage.\"\n        );\n      }\n    }\n  };\n}\nconst scrollRestorationCache = createScrollRestorationCache();\nconst defaultGetScrollRestorationKey = (location) => {\n  return location.state.__TSR_key || location.href;\n};\nfunction getCssSelector(el) {\n  const path = [];\n  let parent;\n  while (parent = el.parentNode) {\n    path.push(\n      `${el.tagName}:nth-child(${Array.prototype.indexOf.call(parent.children, el) + 1})`\n    );\n    el = parent;\n  }\n  return `${path.reverse().join(\" > \")}`.toLowerCase();\n}\nlet ignoreScroll = false;\nfunction restoreScroll({\n  storageKey: storageKey2,\n  key,\n  behavior,\n  shouldScrollRestoration,\n  scrollToTopSelectors,\n  location\n}) {\n  let byKey;\n  try {\n    byKey = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n  } catch (error) {\n    console.error(error);\n    return;\n  }\n  const resolvedKey = key || window.history.state?.__TSR_key;\n  const elementEntries = byKey[resolvedKey];\n  ignoreScroll = true;\n  scroll: {\n    if (shouldScrollRestoration && elementEntries && Object.keys(elementEntries).length > 0) {\n      for (const elementSelector in elementEntries) {\n        const entry = elementEntries[elementSelector];\n        if (elementSelector === \"window\") {\n          window.scrollTo({\n            top: entry.scrollY,\n            left: entry.scrollX,\n            behavior\n          });\n        } else if (elementSelector) {\n          const element = document.querySelector(elementSelector);\n          if (element) {\n            element.scrollLeft = entry.scrollX;\n            element.scrollTop = entry.scrollY;\n          }\n        }\n      }\n      break scroll;\n    }\n    const hash = (location ?? window.location).hash.split(\"#\", 2)[1];\n    if (hash) {\n      const hashScrollIntoViewOptions = window.history.state?.__hashScrollIntoViewOptions ?? true;\n      if (hashScrollIntoViewOptions) {\n        const el = document.getElementById(hash);\n        if (el) {\n          el.scrollIntoView(hashScrollIntoViewOptions);\n        }\n      }\n      break scroll;\n    }\n    const scrollOptions = { top: 0, left: 0, behavior };\n    window.scrollTo(scrollOptions);\n    if (scrollToTopSelectors) {\n      for (const selector of scrollToTopSelectors) {\n        if (selector === \"window\") continue;\n        const element = typeof selector === \"function\" ? selector() : document.querySelector(selector);\n        if (element) element.scrollTo(scrollOptions);\n      }\n    }\n  }\n  ignoreScroll = false;\n}\nfunction setupScrollRestoration(router, force) {\n  if (!scrollRestorationCache && !router.isServer) {\n    return;\n  }\n  const shouldScrollRestoration = force ?? router.options.scrollRestoration ?? false;\n  if (shouldScrollRestoration) {\n    router.isScrollRestoring = true;\n  }\n  if (router.isServer || router.isScrollRestorationSetup || !scrollRestorationCache) {\n    return;\n  }\n  router.isScrollRestorationSetup = true;\n  ignoreScroll = false;\n  const getKey = router.options.getScrollRestorationKey || defaultGetScrollRestorationKey;\n  window.history.scrollRestoration = \"manual\";\n  const onScroll = (event) => {\n    if (ignoreScroll || !router.isScrollRestoring) {\n      return;\n    }\n    let elementSelector = \"\";\n    if (event.target === document || event.target === window) {\n      elementSelector = \"window\";\n    } else {\n      const attrId = event.target.getAttribute(\n        \"data-scroll-restoration-id\"\n      );\n      if (attrId) {\n        elementSelector = `[data-scroll-restoration-id=\"${attrId}\"]`;\n      } else {\n        elementSelector = getCssSelector(event.target);\n      }\n    }\n    const restoreKey = getKey(router.state.location);\n    scrollRestorationCache.set((state) => {\n      const keyEntry = state[restoreKey] ||= {};\n      const elementEntry = keyEntry[elementSelector] ||= {};\n      if (elementSelector === \"window\") {\n        elementEntry.scrollX = window.scrollX || 0;\n        elementEntry.scrollY = window.scrollY || 0;\n      } else if (elementSelector) {\n        const element = document.querySelector(elementSelector);\n        if (element) {\n          elementEntry.scrollX = element.scrollLeft || 0;\n          elementEntry.scrollY = element.scrollTop || 0;\n        }\n      }\n      return state;\n    });\n  };\n  if (typeof document !== \"undefined\") {\n    document.addEventListener(\"scroll\", throttle(onScroll, 100), true);\n  }\n  router.subscribe(\"onRendered\", (event) => {\n    const cacheKey = getKey(event.toLocation);\n    if (!router.resetNextScroll) {\n      router.resetNextScroll = true;\n      return;\n    }\n    if (typeof router.options.scrollRestoration === \"function\") {\n      const shouldRestore = router.options.scrollRestoration({\n        location: router.latestLocation\n      });\n      if (!shouldRestore) {\n        return;\n      }\n    }\n    restoreScroll({\n      storageKey,\n      key: cacheKey,\n      behavior: router.options.scrollRestorationBehavior,\n      shouldScrollRestoration: router.isScrollRestoring,\n      scrollToTopSelectors: router.options.scrollToTopSelectors,\n      location: router.history.location\n    });\n    if (router.isScrollRestoring) {\n      scrollRestorationCache.set((state) => {\n        state[cacheKey] ||= {};\n        return state;\n      });\n    }\n  });\n}\nfunction handleHashScroll(router) {\n  if (typeof document !== \"undefined\" && document.querySelector) {\n    const hashScrollIntoViewOptions = router.state.location.state.__hashScrollIntoViewOptions ?? true;\n    if (hashScrollIntoViewOptions && router.state.location.hash !== \"\") {\n      const el = document.getElementById(router.state.location.hash);\n      if (el) {\n        el.scrollIntoView(hashScrollIntoViewOptions);\n      }\n    }\n  }\n}\nexport {\n  defaultGetScrollRestorationKey,\n  getCssSelector,\n  handleHashScroll,\n  restoreScroll,\n  scrollRestorationCache,\n  setupScrollRestoration,\n  storageKey\n};\n//# sourceMappingURL=scroll-restoration.js.map\n","function encode(obj, stringify = String) {\n  const result = new URLSearchParams();\n  for (const key in obj) {\n    const val = obj[key];\n    if (val !== void 0) {\n      result.set(key, stringify(val));\n    }\n  }\n  return result.toString();\n}\nfunction toValue(str) {\n  if (!str) return \"\";\n  if (str === \"false\") return false;\n  if (str === \"true\") return true;\n  return +str * 0 === 0 && +str + \"\" === str ? +str : str;\n}\nfunction decode(str) {\n  const searchParams = new URLSearchParams(str);\n  const result = {};\n  for (const [key, value] of searchParams.entries()) {\n    const previousValue = result[key];\n    if (previousValue == null) {\n      result[key] = toValue(value);\n    } else if (Array.isArray(previousValue)) {\n      previousValue.push(toValue(value));\n    } else {\n      result[key] = [previousValue, toValue(value)];\n    }\n  }\n  return result;\n}\nexport {\n  decode,\n  encode\n};\n//# sourceMappingURL=qss.js.map\n","import { decode, encode } from \"./qss.js\";\nconst defaultParseSearch = parseSearchWith(JSON.parse);\nconst defaultStringifySearch = stringifySearchWith(\n  JSON.stringify,\n  JSON.parse\n);\nfunction parseSearchWith(parser) {\n  return (searchStr) => {\n    if (searchStr[0] === \"?\") {\n      searchStr = searchStr.substring(1);\n    }\n    const query = decode(searchStr);\n    for (const key in query) {\n      const value = query[key];\n      if (typeof value === \"string\") {\n        try {\n          query[key] = parser(value);\n        } catch (_err) {\n        }\n      }\n    }\n    return query;\n  };\n}\nfunction stringifySearchWith(stringify, parser) {\n  const hasParser = typeof parser === \"function\";\n  function stringifyValue(val) {\n    if (typeof val === \"object\" && val !== null) {\n      try {\n        return stringify(val);\n      } catch (_err) {\n      }\n    } else if (hasParser && typeof val === \"string\") {\n      try {\n        parser(val);\n        return stringify(val);\n      } catch (_err) {\n      }\n    }\n    return val;\n  }\n  return (search) => {\n    const searchStr = encode(search, stringifyValue);\n    return searchStr ? `?${searchStr}` : \"\";\n  };\n}\nexport {\n  defaultParseSearch,\n  defaultStringifySearch,\n  parseSearchWith,\n  stringifySearchWith\n};\n//# sourceMappingURL=searchParams.js.map\n","const rootRouteId = \"__root__\";\nexport {\n  rootRouteId\n};\n//# sourceMappingURL=root.js.map\n","function redirect(opts) {\n  opts.statusCode = opts.statusCode || opts.code || 307;\n  if (!opts.reloadDocument && typeof opts.href === \"string\") {\n    try {\n      new URL(opts.href);\n      opts.reloadDocument = true;\n    } catch {\n    }\n  }\n  const headers = new Headers(opts.headers);\n  if (opts.href && headers.get(\"Location\") === null) {\n    headers.set(\"Location\", opts.href);\n  }\n  const response = new Response(null, {\n    status: opts.statusCode,\n    headers\n  });\n  response.options = opts;\n  if (opts.throw) {\n    throw response;\n  }\n  return response;\n}\nfunction isRedirect(obj) {\n  return obj instanceof Response && !!obj.options;\n}\nfunction isResolvedRedirect(obj) {\n  return isRedirect(obj) && !!obj.options.href;\n}\nfunction parseRedirect(obj) {\n  if (obj !== null && typeof obj === \"object\" && obj.isSerializedRedirect) {\n    return redirect(obj);\n  }\n  return void 0;\n}\nexport {\n  isRedirect,\n  isResolvedRedirect,\n  parseRedirect,\n  redirect\n};\n//# sourceMappingURL=redirect.js.map\n","import { batch } from \"@tanstack/store\";\nimport invariant from \"tiny-invariant\";\nimport { isPromise, createControlledPromise } from \"./utils.js\";\nimport { isNotFound } from \"./not-found.js\";\nimport { rootRouteId } from \"./root.js\";\nimport { isRedirect } from \"./redirect.js\";\nconst triggerOnReady = (inner) => {\n  if (!inner.rendered) {\n    inner.rendered = true;\n    return inner.onReady?.();\n  }\n};\nconst resolvePreload = (inner, matchId) => {\n  return !!(inner.preload && !inner.router.state.matches.some((d) => d.id === matchId));\n};\nconst buildMatchContext = (inner, index, includeCurrentMatch = true) => {\n  const context = {\n    ...inner.router.options.context ?? {}\n  };\n  const end = includeCurrentMatch ? index : index - 1;\n  for (let i = 0; i <= end; i++) {\n    const innerMatch = inner.matches[i];\n    if (!innerMatch) continue;\n    const m = inner.router.getMatch(innerMatch.id);\n    if (!m) continue;\n    Object.assign(context, m.__routeContext, m.__beforeLoadContext);\n  }\n  return context;\n};\nconst _handleNotFound = (inner, err) => {\n  const routeCursor = inner.router.routesById[err.routeId ?? \"\"] ?? inner.router.routeTree;\n  if (!routeCursor.options.notFoundComponent && inner.router.options?.defaultNotFoundComponent) {\n    routeCursor.options.notFoundComponent = inner.router.options.defaultNotFoundComponent;\n  }\n  invariant(\n    routeCursor.options.notFoundComponent,\n    \"No notFoundComponent found. Please set a notFoundComponent on your route or provide a defaultNotFoundComponent to the router.\"\n  );\n  const matchForRoute = inner.matches.find((m) => m.routeId === routeCursor.id);\n  invariant(matchForRoute, \"Could not find match for route: \" + routeCursor.id);\n  inner.updateMatch(matchForRoute.id, (prev) => ({\n    ...prev,\n    status: \"notFound\",\n    error: err,\n    isFetching: false\n  }));\n  if (err.routerCode === \"BEFORE_LOAD\" && routeCursor.parentRoute) {\n    err.routeId = routeCursor.parentRoute.id;\n    _handleNotFound(inner, err);\n  }\n};\nconst handleRedirectAndNotFound = (inner, match, err) => {\n  if (!isRedirect(err) && !isNotFound(err)) return;\n  if (isRedirect(err) && err.redirectHandled && !err.options.reloadDocument) {\n    throw err;\n  }\n  if (match) {\n    match._nonReactive.beforeLoadPromise?.resolve();\n    match._nonReactive.loaderPromise?.resolve();\n    match._nonReactive.beforeLoadPromise = void 0;\n    match._nonReactive.loaderPromise = void 0;\n    const status = isRedirect(err) ? \"redirected\" : \"notFound\";\n    match._nonReactive.error = err;\n    inner.updateMatch(match.id, (prev) => ({\n      ...prev,\n      status,\n      isFetching: false,\n      error: err\n    }));\n    if (isNotFound(err) && !err.routeId) {\n      err.routeId = match.routeId;\n    }\n    match._nonReactive.loadPromise?.resolve();\n  }\n  if (isRedirect(err)) {\n    inner.rendered = true;\n    err.options._fromLocation = inner.location;\n    err.redirectHandled = true;\n    err = inner.router.resolveRedirect(err);\n    throw err;\n  } else {\n    _handleNotFound(inner, err);\n    throw err;\n  }\n};\nconst shouldSkipLoader = (inner, matchId) => {\n  const match = inner.router.getMatch(matchId);\n  if (!inner.router.isServer && match._nonReactive.dehydrated) {\n    return true;\n  }\n  if (inner.router.isServer && match.ssr === false) {\n    return true;\n  }\n  return false;\n};\nconst handleSerialError = (inner, index, err, routerCode) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  const route = inner.router.looseRoutesById[routeId];\n  if (err instanceof Promise) {\n    throw err;\n  }\n  err.routerCode = routerCode;\n  inner.firstBadMatchIndex ??= index;\n  handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), err);\n  try {\n    route.options.onError?.(err);\n  } catch (errorHandlerErr) {\n    err = errorHandlerErr;\n    handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), err);\n  }\n  inner.updateMatch(matchId, (prev) => {\n    prev._nonReactive.beforeLoadPromise?.resolve();\n    prev._nonReactive.beforeLoadPromise = void 0;\n    prev._nonReactive.loadPromise?.resolve();\n    return {\n      ...prev,\n      error: err,\n      status: \"error\",\n      isFetching: false,\n      updatedAt: Date.now(),\n      abortController: new AbortController()\n    };\n  });\n};\nconst isBeforeLoadSsr = (inner, matchId, index, route) => {\n  const existingMatch = inner.router.getMatch(matchId);\n  const parentMatchId = inner.matches[index - 1]?.id;\n  const parentMatch = parentMatchId ? inner.router.getMatch(parentMatchId) : void 0;\n  if (inner.router.isShell()) {\n    existingMatch.ssr = route.id === rootRouteId;\n    return;\n  }\n  if (parentMatch?.ssr === false) {\n    existingMatch.ssr = false;\n    return;\n  }\n  const parentOverride = (tempSsr2) => {\n    if (tempSsr2 === true && parentMatch?.ssr === \"data-only\") {\n      return \"data-only\";\n    }\n    return tempSsr2;\n  };\n  const defaultSsr = inner.router.options.defaultSsr ?? true;\n  if (route.options.ssr === void 0) {\n    existingMatch.ssr = parentOverride(defaultSsr);\n    return;\n  }\n  if (typeof route.options.ssr !== \"function\") {\n    existingMatch.ssr = parentOverride(route.options.ssr);\n    return;\n  }\n  const { search, params } = existingMatch;\n  const ssrFnContext = {\n    search: makeMaybe(search, existingMatch.searchError),\n    params: makeMaybe(params, existingMatch.paramsError),\n    location: inner.location,\n    matches: inner.matches.map((match) => ({\n      index: match.index,\n      pathname: match.pathname,\n      fullPath: match.fullPath,\n      staticData: match.staticData,\n      id: match.id,\n      routeId: match.routeId,\n      search: makeMaybe(match.search, match.searchError),\n      params: makeMaybe(match.params, match.paramsError),\n      ssr: match.ssr\n    }))\n  };\n  const tempSsr = route.options.ssr(ssrFnContext);\n  if (isPromise(tempSsr)) {\n    return tempSsr.then((ssr) => {\n      existingMatch.ssr = parentOverride(ssr ?? defaultSsr);\n    });\n  }\n  existingMatch.ssr = parentOverride(tempSsr ?? defaultSsr);\n  return;\n};\nconst setupPendingTimeout = (inner, matchId, route, match) => {\n  if (match._nonReactive.pendingTimeout !== void 0) return;\n  const pendingMs = route.options.pendingMs ?? inner.router.options.defaultPendingMs;\n  const shouldPending = !!(inner.onReady && !inner.router.isServer && !resolvePreload(inner, matchId) && (route.options.loader || route.options.beforeLoad || routeNeedsPreload(route)) && typeof pendingMs === \"number\" && pendingMs !== Infinity && (route.options.pendingComponent ?? inner.router.options?.defaultPendingComponent));\n  if (shouldPending) {\n    const pendingTimeout = setTimeout(() => {\n      triggerOnReady(inner);\n    }, pendingMs);\n    match._nonReactive.pendingTimeout = pendingTimeout;\n  }\n};\nconst preBeforeLoadSetup = (inner, matchId, route) => {\n  const existingMatch = inner.router.getMatch(matchId);\n  if (!existingMatch._nonReactive.beforeLoadPromise && !existingMatch._nonReactive.loaderPromise)\n    return;\n  setupPendingTimeout(inner, matchId, route, existingMatch);\n  const then = () => {\n    const match = inner.router.getMatch(matchId);\n    if (match.preload && (match.status === \"redirected\" || match.status === \"notFound\")) {\n      handleRedirectAndNotFound(inner, match, match.error);\n    }\n  };\n  return existingMatch._nonReactive.beforeLoadPromise ? existingMatch._nonReactive.beforeLoadPromise.then(then) : then();\n};\nconst executeBeforeLoad = (inner, matchId, index, route) => {\n  const match = inner.router.getMatch(matchId);\n  const prevLoadPromise = match._nonReactive.loadPromise;\n  match._nonReactive.loadPromise = createControlledPromise(() => {\n    prevLoadPromise?.resolve();\n  });\n  const { paramsError, searchError } = match;\n  if (paramsError) {\n    handleSerialError(inner, index, paramsError, \"PARSE_PARAMS\");\n  }\n  if (searchError) {\n    handleSerialError(inner, index, searchError, \"VALIDATE_SEARCH\");\n  }\n  setupPendingTimeout(inner, matchId, route, match);\n  const abortController = new AbortController();\n  const parentMatchId = inner.matches[index - 1]?.id;\n  const parentMatch = parentMatchId ? inner.router.getMatch(parentMatchId) : void 0;\n  parentMatch?.context ?? inner.router.options.context ?? void 0;\n  let isPending = false;\n  const pending = () => {\n    if (isPending) return;\n    isPending = true;\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: \"beforeLoad\",\n      fetchCount: prev.fetchCount + 1,\n      abortController\n      // Note: We intentionally don't update context here.\n      // Context should only be updated after beforeLoad resolves to avoid\n      // components seeing incomplete context during async beforeLoad execution.\n    }));\n  };\n  const resolve = () => {\n    match._nonReactive.beforeLoadPromise?.resolve();\n    match._nonReactive.beforeLoadPromise = void 0;\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: false\n    }));\n  };\n  if (!route.options.beforeLoad) {\n    batch(() => {\n      pending();\n      resolve();\n    });\n    return;\n  }\n  match._nonReactive.beforeLoadPromise = createControlledPromise();\n  const context = {\n    ...buildMatchContext(inner, index, false),\n    ...match.__routeContext\n  };\n  const { search, params, cause } = match;\n  const preload = resolvePreload(inner, matchId);\n  const beforeLoadFnContext = {\n    search,\n    abortController,\n    params,\n    preload,\n    context,\n    location: inner.location,\n    navigate: (opts) => inner.router.navigate({\n      ...opts,\n      _fromLocation: inner.location\n    }),\n    buildLocation: inner.router.buildLocation,\n    cause: preload ? \"preload\" : cause,\n    matches: inner.matches,\n    ...inner.router.options.additionalContext\n  };\n  const updateContext = (beforeLoadContext2) => {\n    if (beforeLoadContext2 === void 0) {\n      batch(() => {\n        pending();\n        resolve();\n      });\n      return;\n    }\n    if (isRedirect(beforeLoadContext2) || isNotFound(beforeLoadContext2)) {\n      pending();\n      handleSerialError(inner, index, beforeLoadContext2, \"BEFORE_LOAD\");\n    }\n    batch(() => {\n      pending();\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        __beforeLoadContext: beforeLoadContext2\n      }));\n      resolve();\n    });\n  };\n  let beforeLoadContext;\n  try {\n    beforeLoadContext = route.options.beforeLoad(beforeLoadFnContext);\n    if (isPromise(beforeLoadContext)) {\n      pending();\n      return beforeLoadContext.catch((err) => {\n        handleSerialError(inner, index, err, \"BEFORE_LOAD\");\n      }).then(updateContext);\n    }\n  } catch (err) {\n    pending();\n    handleSerialError(inner, index, err, \"BEFORE_LOAD\");\n  }\n  updateContext(beforeLoadContext);\n  return;\n};\nconst handleBeforeLoad = (inner, index) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  const route = inner.router.looseRoutesById[routeId];\n  const serverSsr = () => {\n    if (inner.router.isServer) {\n      const maybePromise = isBeforeLoadSsr(inner, matchId, index, route);\n      if (isPromise(maybePromise)) return maybePromise.then(queueExecution);\n    }\n    return queueExecution();\n  };\n  const execute = () => executeBeforeLoad(inner, matchId, index, route);\n  const queueExecution = () => {\n    if (shouldSkipLoader(inner, matchId)) return;\n    const result = preBeforeLoadSetup(inner, matchId, route);\n    return isPromise(result) ? result.then(execute) : execute();\n  };\n  return serverSsr();\n};\nconst executeHead = (inner, matchId, route) => {\n  const match = inner.router.getMatch(matchId);\n  if (!match) {\n    return;\n  }\n  if (!route.options.head && !route.options.scripts && !route.options.headers) {\n    return;\n  }\n  const assetContext = {\n    matches: inner.matches,\n    match,\n    params: match.params,\n    loaderData: match.loaderData\n  };\n  return Promise.all([\n    route.options.head?.(assetContext),\n    route.options.scripts?.(assetContext),\n    route.options.headers?.(assetContext)\n  ]).then(([headFnContent, scripts, headers]) => {\n    const meta = headFnContent?.meta;\n    const links = headFnContent?.links;\n    const headScripts = headFnContent?.scripts;\n    const styles = headFnContent?.styles;\n    return {\n      meta,\n      links,\n      headScripts,\n      headers,\n      scripts,\n      styles\n    };\n  });\n};\nconst getLoaderContext = (inner, matchId, index, route) => {\n  const parentMatchPromise = inner.matchPromises[index - 1];\n  const { params, loaderDeps, abortController, cause } = inner.router.getMatch(matchId);\n  const context = buildMatchContext(inner, index);\n  const preload = resolvePreload(inner, matchId);\n  return {\n    params,\n    deps: loaderDeps,\n    preload: !!preload,\n    parentMatchPromise,\n    abortController,\n    context,\n    location: inner.location,\n    navigate: (opts) => inner.router.navigate({\n      ...opts,\n      _fromLocation: inner.location\n    }),\n    cause: preload ? \"preload\" : cause,\n    route,\n    ...inner.router.options.additionalContext\n  };\n};\nconst runLoader = async (inner, matchId, index, route) => {\n  try {\n    const match = inner.router.getMatch(matchId);\n    try {\n      if (!inner.router.isServer || match.ssr === true) {\n        loadRouteChunk(route);\n      }\n      const loaderResult = route.options.loader?.(\n        getLoaderContext(inner, matchId, index, route)\n      );\n      const loaderResultIsPromise = route.options.loader && isPromise(loaderResult);\n      const willLoadSomething = !!(loaderResultIsPromise || route._lazyPromise || route._componentsPromise || route.options.head || route.options.scripts || route.options.headers || match._nonReactive.minPendingPromise);\n      if (willLoadSomething) {\n        inner.updateMatch(matchId, (prev) => ({\n          ...prev,\n          isFetching: \"loader\"\n        }));\n      }\n      if (route.options.loader) {\n        const loaderData = loaderResultIsPromise ? await loaderResult : loaderResult;\n        handleRedirectAndNotFound(\n          inner,\n          inner.router.getMatch(matchId),\n          loaderData\n        );\n        if (loaderData !== void 0) {\n          inner.updateMatch(matchId, (prev) => ({\n            ...prev,\n            loaderData\n          }));\n        }\n      }\n      if (route._lazyPromise) await route._lazyPromise;\n      const pendingPromise = match._nonReactive.minPendingPromise;\n      if (pendingPromise) await pendingPromise;\n      if (route._componentsPromise) await route._componentsPromise;\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        error: void 0,\n        status: \"success\",\n        isFetching: false,\n        updatedAt: Date.now()\n      }));\n    } catch (e) {\n      let error = e;\n      const pendingPromise = match._nonReactive.minPendingPromise;\n      if (pendingPromise) await pendingPromise;\n      if (isNotFound(e)) {\n        await route.options.notFoundComponent?.preload?.();\n      }\n      handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), e);\n      try {\n        route.options.onError?.(e);\n      } catch (onErrorError) {\n        error = onErrorError;\n        handleRedirectAndNotFound(\n          inner,\n          inner.router.getMatch(matchId),\n          onErrorError\n        );\n      }\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        error,\n        status: \"error\",\n        isFetching: false\n      }));\n    }\n  } catch (err) {\n    const match = inner.router.getMatch(matchId);\n    if (match) {\n      match._nonReactive.loaderPromise = void 0;\n    }\n    handleRedirectAndNotFound(inner, match, err);\n  }\n};\nconst loadRouteMatch = async (inner, index) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  let loaderShouldRunAsync = false;\n  let loaderIsRunningAsync = false;\n  const route = inner.router.looseRoutesById[routeId];\n  const commitContext = () => {\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      context: buildMatchContext(inner, index)\n    }));\n  };\n  if (shouldSkipLoader(inner, matchId)) {\n    if (inner.router.isServer) {\n      return inner.router.getMatch(matchId);\n    }\n  } else {\n    const prevMatch = inner.router.getMatch(matchId);\n    if (prevMatch._nonReactive.loaderPromise) {\n      if (prevMatch.status === \"success\" && !inner.sync && !prevMatch.preload) {\n        return prevMatch;\n      }\n      await prevMatch._nonReactive.loaderPromise;\n      const match2 = inner.router.getMatch(matchId);\n      const error = match2._nonReactive.error || match2.error;\n      if (error) {\n        handleRedirectAndNotFound(inner, match2, error);\n      }\n    } else {\n      const age = Date.now() - prevMatch.updatedAt;\n      const preload = resolvePreload(inner, matchId);\n      const staleAge = preload ? route.options.preloadStaleTime ?? inner.router.options.defaultPreloadStaleTime ?? 3e4 : route.options.staleTime ?? inner.router.options.defaultStaleTime ?? 0;\n      const shouldReloadOption = route.options.shouldReload;\n      const shouldReload = typeof shouldReloadOption === \"function\" ? shouldReloadOption(getLoaderContext(inner, matchId, index, route)) : shouldReloadOption;\n      const nextPreload = !!preload && !inner.router.state.matches.some((d) => d.id === matchId);\n      const match2 = inner.router.getMatch(matchId);\n      match2._nonReactive.loaderPromise = createControlledPromise();\n      if (nextPreload !== match2.preload) {\n        inner.updateMatch(matchId, (prev) => ({\n          ...prev,\n          preload: nextPreload\n        }));\n      }\n      const { status, invalid } = match2;\n      loaderShouldRunAsync = status === \"success\" && (invalid || (shouldReload ?? age > staleAge));\n      if (preload && route.options.preload === false) ;\n      else if (loaderShouldRunAsync && !inner.sync) {\n        loaderIsRunningAsync = true;\n        (async () => {\n          try {\n            await runLoader(inner, matchId, index, route);\n            commitContext();\n            const match3 = inner.router.getMatch(matchId);\n            match3._nonReactive.loaderPromise?.resolve();\n            match3._nonReactive.loadPromise?.resolve();\n            match3._nonReactive.loaderPromise = void 0;\n          } catch (err) {\n            if (isRedirect(err)) {\n              await inner.router.navigate(err.options);\n            }\n          }\n        })();\n      } else if (status !== \"success\" || loaderShouldRunAsync && inner.sync) {\n        await runLoader(inner, matchId, index, route);\n      }\n    }\n  }\n  const match = inner.router.getMatch(matchId);\n  if (!loaderIsRunningAsync) {\n    match._nonReactive.loaderPromise?.resolve();\n    match._nonReactive.loadPromise?.resolve();\n  }\n  clearTimeout(match._nonReactive.pendingTimeout);\n  match._nonReactive.pendingTimeout = void 0;\n  if (!loaderIsRunningAsync) match._nonReactive.loaderPromise = void 0;\n  match._nonReactive.dehydrated = void 0;\n  if (!loaderIsRunningAsync) {\n    commitContext();\n  }\n  const nextIsFetching = loaderIsRunningAsync ? match.isFetching : false;\n  if (nextIsFetching !== match.isFetching || match.invalid !== false) {\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: nextIsFetching,\n      invalid: false\n    }));\n    return inner.router.getMatch(matchId);\n  } else {\n    return match;\n  }\n};\nasync function loadMatches(arg) {\n  const inner = Object.assign(arg, {\n    matchPromises: []\n  });\n  if (!inner.router.isServer && inner.router.state.matches.some((d) => d._forcePending)) {\n    triggerOnReady(inner);\n  }\n  try {\n    for (let i = 0; i < inner.matches.length; i++) {\n      const beforeLoad = handleBeforeLoad(inner, i);\n      if (isPromise(beforeLoad)) await beforeLoad;\n    }\n    const max = inner.firstBadMatchIndex ?? inner.matches.length;\n    for (let i = 0; i < max; i++) {\n      inner.matchPromises.push(loadRouteMatch(inner, i));\n    }\n    const results = await Promise.allSettled(inner.matchPromises);\n    const failures = results.filter(\n      (result) => result.status === \"rejected\"\n    ).map((result) => result.reason);\n    let firstNotFound;\n    for (const err of failures) {\n      if (isRedirect(err)) {\n        throw err;\n      }\n      if (!firstNotFound && isNotFound(err)) {\n        firstNotFound = err;\n      }\n    }\n    for (const match of inner.matches) {\n      const { id: matchId, routeId } = match;\n      const route = inner.router.looseRoutesById[routeId];\n      try {\n        const headResult = executeHead(inner, matchId, route);\n        if (headResult) {\n          const head = await headResult;\n          inner.updateMatch(matchId, (prev) => ({\n            ...prev,\n            ...head\n          }));\n        }\n      } catch (err) {\n        console.error(`Error executing head for route ${routeId}:`, err);\n      }\n    }\n    if (firstNotFound) {\n      throw firstNotFound;\n    }\n    const readyPromise = triggerOnReady(inner);\n    if (isPromise(readyPromise)) await readyPromise;\n  } catch (err) {\n    if (isNotFound(err) && !inner.preload) {\n      const readyPromise = triggerOnReady(inner);\n      if (isPromise(readyPromise)) await readyPromise;\n      throw err;\n    }\n    if (isRedirect(err)) {\n      throw err;\n    }\n  }\n  return inner.matches;\n}\nasync function loadRouteChunk(route) {\n  if (!route._lazyLoaded && route._lazyPromise === void 0) {\n    if (route.lazyFn) {\n      route._lazyPromise = route.lazyFn().then((lazyRoute) => {\n        const { id: _id, ...options } = lazyRoute.options;\n        Object.assign(route.options, options);\n        route._lazyLoaded = true;\n        route._lazyPromise = void 0;\n      });\n    } else {\n      route._lazyLoaded = true;\n    }\n  }\n  if (!route._componentsLoaded && route._componentsPromise === void 0) {\n    const loadComponents = () => {\n      const preloads = [];\n      for (const type of componentTypes) {\n        const preload = route.options[type]?.preload;\n        if (preload) preloads.push(preload());\n      }\n      if (preloads.length)\n        return Promise.all(preloads).then(() => {\n          route._componentsLoaded = true;\n          route._componentsPromise = void 0;\n        });\n      route._componentsLoaded = true;\n      route._componentsPromise = void 0;\n      return;\n    };\n    route._componentsPromise = route._lazyPromise ? route._lazyPromise.then(loadComponents) : loadComponents();\n  }\n  return route._componentsPromise;\n}\nfunction makeMaybe(value, error) {\n  if (error) {\n    return { status: \"error\", error };\n  }\n  return { status: \"success\", value };\n}\nfunction routeNeedsPreload(route) {\n  for (const componentType of componentTypes) {\n    if (route.options[componentType]?.preload) {\n      return true;\n    }\n  }\n  return false;\n}\nconst componentTypes = [\n  \"component\",\n  \"errorComponent\",\n  \"pendingComponent\",\n  \"notFoundComponent\"\n];\nexport {\n  componentTypes,\n  loadMatches,\n  loadRouteChunk,\n  routeNeedsPreload\n};\n//# sourceMappingURL=load-matches.js.map\n","import { trimPath, joinPaths } from \"./path.js\";\nfunction composeRewrites(rewrites) {\n  return {\n    input: ({ url }) => {\n      for (const rewrite of rewrites) {\n        url = executeRewriteInput(rewrite, url);\n      }\n      return url;\n    },\n    output: ({ url }) => {\n      for (let i = rewrites.length - 1; i >= 0; i--) {\n        url = executeRewriteOutput(rewrites[i], url);\n      }\n      return url;\n    }\n  };\n}\nfunction rewriteBasepath(opts) {\n  const trimmedBasepath = trimPath(opts.basepath);\n  const normalizedBasepath = `/${trimmedBasepath}`;\n  const normalizedBasepathWithSlash = `${normalizedBasepath}/`;\n  const checkBasepath = opts.caseSensitive ? normalizedBasepath : normalizedBasepath.toLowerCase();\n  const checkBasepathWithSlash = opts.caseSensitive ? normalizedBasepathWithSlash : normalizedBasepathWithSlash.toLowerCase();\n  return {\n    input: ({ url }) => {\n      const pathname = opts.caseSensitive ? url.pathname : url.pathname.toLowerCase();\n      if (pathname === checkBasepath) {\n        url.pathname = \"/\";\n      } else if (pathname.startsWith(checkBasepathWithSlash)) {\n        url.pathname = url.pathname.slice(normalizedBasepath.length);\n      }\n      return url;\n    },\n    output: ({ url }) => {\n      url.pathname = joinPaths([\"/\", trimmedBasepath, url.pathname]);\n      return url;\n    }\n  };\n}\nfunction executeRewriteInput(rewrite, url) {\n  const res = rewrite?.input?.({ url });\n  if (res) {\n    if (typeof res === \"string\") {\n      return new URL(res);\n    } else if (res instanceof URL) {\n      return res;\n    }\n  }\n  return url;\n}\nfunction executeRewriteOutput(rewrite, url) {\n  const res = rewrite?.output?.({ url });\n  if (res) {\n    if (typeof res === \"string\") {\n      return new URL(res);\n    } else if (res instanceof URL) {\n      return res;\n    }\n  }\n  return url;\n}\nexport {\n  composeRewrites,\n  executeRewriteInput,\n  executeRewriteOutput,\n  rewriteBasepath\n};\n//# sourceMappingURL=rewrite.js.map\n","import { Store, batch } from \"@tanstack/store\";\nimport { createBrowserHistory, parseHref } from \"@tanstack/history\";\nimport { createControlledPromise, deepEqual, replaceEqualDeep, decodePath, functionalUpdate, last, findLast } from \"./utils.js\";\nimport { processRouteTree, processRouteMasks, findSingleMatch, findRouteMatch, findFlatMatch } from \"./new-process-route-tree.js\";\nimport { trimPath, resolvePath, cleanPath, trimPathRight, interpolatePath } from \"./path.js\";\nimport { createLRUCache } from \"./lru-cache.js\";\nimport { isNotFound } from \"./not-found.js\";\nimport { setupScrollRestoration } from \"./scroll-restoration.js\";\nimport { defaultParseSearch, defaultStringifySearch } from \"./searchParams.js\";\nimport { rootRouteId } from \"./root.js\";\nimport { redirect, isRedirect } from \"./redirect.js\";\nimport { loadMatches, loadRouteChunk, routeNeedsPreload } from \"./load-matches.js\";\nimport { rewriteBasepath, composeRewrites, executeRewriteInput, executeRewriteOutput } from \"./rewrite.js\";\nfunction defaultSerializeError(err) {\n  if (err instanceof Error) {\n    const obj = {\n      name: err.name,\n      message: err.message\n    };\n    if (process.env.NODE_ENV === \"development\") {\n      obj.stack = err.stack;\n    }\n    return obj;\n  }\n  return {\n    data: err\n  };\n}\nconst trailingSlashOptions = {\n  always: \"always\",\n  never: \"never\",\n  preserve: \"preserve\"\n};\nfunction getLocationChangeInfo(routerState) {\n  const fromLocation = routerState.resolvedLocation;\n  const toLocation = routerState.location;\n  const pathChanged = fromLocation?.pathname !== toLocation.pathname;\n  const hrefChanged = fromLocation?.href !== toLocation.href;\n  const hashChanged = fromLocation?.hash !== toLocation.hash;\n  return { fromLocation, toLocation, pathChanged, hrefChanged, hashChanged };\n}\nclass RouterCore {\n  /**\n   * @deprecated Use the `createRouter` function instead\n   */\n  constructor(options) {\n    this.tempLocationKey = `${Math.round(\n      Math.random() * 1e7\n    )}`;\n    this.resetNextScroll = true;\n    this.shouldViewTransition = void 0;\n    this.isViewTransitionTypesSupported = void 0;\n    this.subscribers = /* @__PURE__ */ new Set();\n    this.isScrollRestoring = false;\n    this.isScrollRestorationSetup = false;\n    this.startTransition = (fn) => fn();\n    this.update = (newOptions) => {\n      if (newOptions.notFoundRoute) {\n        console.warn(\n          \"The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.\"\n        );\n      }\n      const prevOptions = this.options;\n      const prevBasepath = this.basepath ?? prevOptions?.basepath ?? \"/\";\n      const basepathWasUnset = this.basepath === void 0;\n      const prevRewriteOption = prevOptions?.rewrite;\n      this.options = {\n        ...prevOptions,\n        ...newOptions\n      };\n      this.isServer = this.options.isServer ?? typeof document === \"undefined\";\n      this.pathParamsDecodeCharMap = this.options.pathParamsAllowedCharacters ? new Map(\n        this.options.pathParamsAllowedCharacters.map((char) => [\n          encodeURIComponent(char),\n          char\n        ])\n      ) : void 0;\n      if (!this.history || this.options.history && this.options.history !== this.history) {\n        if (!this.options.history) {\n          if (!this.isServer) {\n            this.history = createBrowserHistory();\n          }\n        } else {\n          this.history = this.options.history;\n        }\n      }\n      this.origin = this.options.origin;\n      if (!this.origin) {\n        if (!this.isServer && window?.origin && window.origin !== \"null\") {\n          this.origin = window.origin;\n        } else {\n          this.origin = \"http://localhost\";\n        }\n      }\n      if (this.history) {\n        this.updateLatestLocation();\n      }\n      if (this.options.routeTree !== this.routeTree) {\n        this.routeTree = this.options.routeTree;\n        this.buildRouteTree();\n      }\n      if (!this.__store && this.latestLocation) {\n        this.__store = new Store(getInitialRouterState(this.latestLocation), {\n          onUpdate: () => {\n            this.__store.state = {\n              ...this.state,\n              cachedMatches: this.state.cachedMatches.filter(\n                (d) => ![\"redirected\"].includes(d.status)\n              )\n            };\n          }\n        });\n        setupScrollRestoration(this);\n      }\n      let needsLocationUpdate = false;\n      const nextBasepath = this.options.basepath ?? \"/\";\n      const nextRewriteOption = this.options.rewrite;\n      const basepathChanged = basepathWasUnset || prevBasepath !== nextBasepath;\n      const rewriteChanged = prevRewriteOption !== nextRewriteOption;\n      if (basepathChanged || rewriteChanged) {\n        this.basepath = nextBasepath;\n        const rewrites = [];\n        if (trimPath(nextBasepath) !== \"\") {\n          rewrites.push(\n            rewriteBasepath({\n              basepath: nextBasepath\n            })\n          );\n        }\n        if (nextRewriteOption) {\n          rewrites.push(nextRewriteOption);\n        }\n        this.rewrite = rewrites.length === 0 ? void 0 : rewrites.length === 1 ? rewrites[0] : composeRewrites(rewrites);\n        if (this.history) {\n          this.updateLatestLocation();\n        }\n        needsLocationUpdate = true;\n      }\n      if (needsLocationUpdate && this.__store) {\n        this.__store.state = {\n          ...this.state,\n          location: this.latestLocation\n        };\n      }\n      if (typeof window !== \"undefined\" && \"CSS\" in window && typeof window.CSS?.supports === \"function\") {\n        this.isViewTransitionTypesSupported = window.CSS.supports(\n          \"selector(:active-view-transition-type(a)\"\n        );\n      }\n    };\n    this.updateLatestLocation = () => {\n      this.latestLocation = this.parseLocation(\n        this.history.location,\n        this.latestLocation\n      );\n    };\n    this.buildRouteTree = () => {\n      const { routesById, routesByPath, processedTree } = processRouteTree(\n        this.routeTree,\n        this.options.caseSensitive,\n        (route, i) => {\n          route.init({\n            originalIndex: i\n          });\n        }\n      );\n      if (this.options.routeMasks) {\n        processRouteMasks(this.options.routeMasks, processedTree);\n      }\n      this.routesById = routesById;\n      this.routesByPath = routesByPath;\n      this.processedTree = processedTree;\n      const notFoundRoute = this.options.notFoundRoute;\n      if (notFoundRoute) {\n        notFoundRoute.init({\n          originalIndex: 99999999999\n        });\n        this.routesById[notFoundRoute.id] = notFoundRoute;\n      }\n    };\n    this.subscribe = (eventType, fn) => {\n      const listener = {\n        eventType,\n        fn\n      };\n      this.subscribers.add(listener);\n      return () => {\n        this.subscribers.delete(listener);\n      };\n    };\n    this.emit = (routerEvent) => {\n      this.subscribers.forEach((listener) => {\n        if (listener.eventType === routerEvent.type) {\n          listener.fn(routerEvent);\n        }\n      });\n    };\n    this.parseLocation = (locationToParse, previousLocation) => {\n      const parse = ({\n        href,\n        state\n      }) => {\n        const fullUrl = new URL(href, this.origin);\n        const url = executeRewriteInput(this.rewrite, fullUrl);\n        const parsedSearch = this.options.parseSearch(url.search);\n        const searchStr = this.options.stringifySearch(parsedSearch);\n        url.search = searchStr;\n        const fullPath = url.href.replace(url.origin, \"\");\n        return {\n          href: fullPath,\n          publicHref: href,\n          url,\n          pathname: decodePath(url.pathname),\n          searchStr,\n          search: replaceEqualDeep(previousLocation?.search, parsedSearch),\n          hash: url.hash.split(\"#\").reverse()[0] ?? \"\",\n          state: replaceEqualDeep(previousLocation?.state, state)\n        };\n      };\n      const location = parse(locationToParse);\n      const { __tempLocation, __tempKey } = location.state;\n      if (__tempLocation && (!__tempKey || __tempKey === this.tempLocationKey)) {\n        const parsedTempLocation = parse(__tempLocation);\n        parsedTempLocation.state.key = location.state.key;\n        parsedTempLocation.state.__TSR_key = location.state.__TSR_key;\n        delete parsedTempLocation.state.__tempLocation;\n        return {\n          ...parsedTempLocation,\n          maskedLocation: location\n        };\n      }\n      return location;\n    };\n    this.resolvePathCache = createLRUCache(1e3);\n    this.resolvePathWithBase = (from, path) => {\n      const resolvedPath = resolvePath({\n        base: from,\n        to: cleanPath(path),\n        trailingSlash: this.options.trailingSlash,\n        cache: this.resolvePathCache\n      });\n      return resolvedPath;\n    };\n    this.matchRoutes = (pathnameOrNext, locationSearchOrOpts, opts) => {\n      if (typeof pathnameOrNext === \"string\") {\n        return this.matchRoutesInternal(\n          {\n            pathname: pathnameOrNext,\n            search: locationSearchOrOpts\n          },\n          opts\n        );\n      }\n      return this.matchRoutesInternal(pathnameOrNext, locationSearchOrOpts);\n    };\n    this.getMatchedRoutes = (pathname) => {\n      return getMatchedRoutes({\n        pathname,\n        routesById: this.routesById,\n        processedTree: this.processedTree\n      });\n    };\n    this.cancelMatch = (id) => {\n      const match = this.getMatch(id);\n      if (!match) return;\n      match.abortController.abort();\n      clearTimeout(match._nonReactive.pendingTimeout);\n      match._nonReactive.pendingTimeout = void 0;\n    };\n    this.cancelMatches = () => {\n      const currentPendingMatches = this.state.matches.filter(\n        (match) => match.status === \"pending\"\n      );\n      const currentLoadingMatches = this.state.matches.filter(\n        (match) => match.isFetching === \"loader\"\n      );\n      const matchesToCancelArray = /* @__PURE__ */ new Set([\n        ...this.state.pendingMatches ?? [],\n        ...currentPendingMatches,\n        ...currentLoadingMatches\n      ]);\n      matchesToCancelArray.forEach((match) => {\n        this.cancelMatch(match.id);\n      });\n    };\n    this.buildLocation = (opts) => {\n      const build = (dest = {}) => {\n        const currentLocation = dest._fromLocation || this.pendingBuiltLocation || this.latestLocation;\n        const allCurrentLocationMatches = this.matchRoutes(currentLocation, {\n          _buildLocation: true\n        });\n        const lastMatch = last(allCurrentLocationMatches);\n        if (dest.from && process.env.NODE_ENV !== \"production\" && dest._isNavigate) {\n          const allFromMatches = this.getMatchedRoutes(dest.from).matchedRoutes;\n          const matchedFrom = findLast(allCurrentLocationMatches, (d) => {\n            return comparePaths(d.fullPath, dest.from);\n          });\n          const matchedCurrent = findLast(allFromMatches, (d) => {\n            return comparePaths(d.fullPath, lastMatch.fullPath);\n          });\n          if (!matchedFrom && !matchedCurrent) {\n            console.warn(`Could not find match for from: ${dest.from}`);\n          }\n        }\n        const defaultedFromPath = dest.unsafeRelative === \"path\" ? currentLocation.pathname : dest.from ?? lastMatch.fullPath;\n        const fromPath = this.resolvePathWithBase(defaultedFromPath, \".\");\n        const fromSearch = lastMatch.search;\n        const fromParams = { ...lastMatch.params };\n        const nextTo = dest.to ? this.resolvePathWithBase(fromPath, `${dest.to}`) : this.resolvePathWithBase(fromPath, \".\");\n        const nextParams = dest.params === false || dest.params === null ? {} : (dest.params ?? true) === true ? fromParams : Object.assign(\n          fromParams,\n          functionalUpdate(dest.params, fromParams)\n        );\n        const interpolatedNextTo = interpolatePath({\n          path: nextTo,\n          params: nextParams\n        }).interpolatedPath;\n        const destRoutes = this.matchRoutes(interpolatedNextTo, void 0, {\n          _buildLocation: true\n        }).map((d) => this.looseRoutesById[d.routeId]);\n        if (Object.keys(nextParams).length > 0) {\n          for (const route of destRoutes) {\n            const fn = route.options.params?.stringify ?? route.options.stringifyParams;\n            if (fn) {\n              Object.assign(nextParams, fn(nextParams));\n            }\n          }\n        }\n        const nextPathname = opts.leaveParams ? (\n          // Use the original template path for interpolation\n          // This preserves the original parameter syntax including optional parameters\n          nextTo\n        ) : decodePath(\n          interpolatePath({\n            path: nextTo,\n            params: nextParams,\n            decodeCharMap: this.pathParamsDecodeCharMap\n          }).interpolatedPath\n        );\n        let nextSearch = fromSearch;\n        if (opts._includeValidateSearch && this.options.search?.strict) {\n          const validatedSearch = {};\n          destRoutes.forEach((route) => {\n            if (route.options.validateSearch) {\n              try {\n                Object.assign(\n                  validatedSearch,\n                  validateSearch(route.options.validateSearch, {\n                    ...validatedSearch,\n                    ...nextSearch\n                  })\n                );\n              } catch {\n              }\n            }\n          });\n          nextSearch = validatedSearch;\n        }\n        nextSearch = applySearchMiddleware({\n          search: nextSearch,\n          dest,\n          destRoutes,\n          _includeValidateSearch: opts._includeValidateSearch\n        });\n        nextSearch = replaceEqualDeep(fromSearch, nextSearch);\n        const searchStr = this.options.stringifySearch(nextSearch);\n        const hash = dest.hash === true ? currentLocation.hash : dest.hash ? functionalUpdate(dest.hash, currentLocation.hash) : void 0;\n        const hashStr = hash ? `#${hash}` : \"\";\n        let nextState = dest.state === true ? currentLocation.state : dest.state ? functionalUpdate(dest.state, currentLocation.state) : {};\n        nextState = replaceEqualDeep(currentLocation.state, nextState);\n        const fullPath = `${nextPathname}${searchStr}${hashStr}`;\n        const url = new URL(fullPath, this.origin);\n        const rewrittenUrl = executeRewriteOutput(this.rewrite, url);\n        return {\n          publicHref: rewrittenUrl.pathname + rewrittenUrl.search + rewrittenUrl.hash,\n          href: fullPath,\n          url: rewrittenUrl,\n          pathname: nextPathname,\n          search: nextSearch,\n          searchStr,\n          state: nextState,\n          hash: hash ?? \"\",\n          unmaskOnReload: dest.unmaskOnReload\n        };\n      };\n      const buildWithMatches = (dest = {}, maskedDest) => {\n        const next = build(dest);\n        let maskedNext = maskedDest ? build(maskedDest) : void 0;\n        if (!maskedNext) {\n          const params = {};\n          if (this.options.routeMasks) {\n            const match = findFlatMatch(\n              next.pathname,\n              this.processedTree\n            );\n            if (match) {\n              Object.assign(params, match.params);\n              const {\n                from: _from,\n                params: maskParams,\n                ...maskProps\n              } = match.route;\n              const nextParams = maskParams === false || maskParams === null ? {} : (maskParams ?? true) === true ? params : Object.assign(params, functionalUpdate(maskParams, params));\n              maskedDest = {\n                from: opts.from,\n                ...maskProps,\n                params: nextParams\n              };\n              maskedNext = build(maskedDest);\n            }\n          }\n        }\n        if (maskedNext) {\n          next.maskedLocation = maskedNext;\n        }\n        return next;\n      };\n      if (opts.mask) {\n        return buildWithMatches(opts, {\n          from: opts.from,\n          ...opts.mask\n        });\n      }\n      return buildWithMatches(opts);\n    };\n    this.commitLocation = ({\n      viewTransition,\n      ignoreBlocker,\n      ...next\n    }) => {\n      const isSameState = () => {\n        const ignoredProps = [\n          \"key\",\n          // TODO: Remove in v2 - use __TSR_key instead\n          \"__TSR_key\",\n          \"__TSR_index\",\n          \"__hashScrollIntoViewOptions\"\n        ];\n        ignoredProps.forEach((prop) => {\n          next.state[prop] = this.latestLocation.state[prop];\n        });\n        const isEqual = deepEqual(next.state, this.latestLocation.state);\n        ignoredProps.forEach((prop) => {\n          delete next.state[prop];\n        });\n        return isEqual;\n      };\n      const isSameUrl = trimPathRight(this.latestLocation.href) === trimPathRight(next.href);\n      const previousCommitPromise = this.commitLocationPromise;\n      this.commitLocationPromise = createControlledPromise(() => {\n        previousCommitPromise?.resolve();\n      });\n      if (isSameUrl && isSameState()) {\n        this.load();\n      } else {\n        let {\n          // eslint-disable-next-line prefer-const\n          maskedLocation,\n          // eslint-disable-next-line prefer-const\n          hashScrollIntoView,\n          // don't pass url into history since it is a URL instance that cannot be serialized\n          // eslint-disable-next-line prefer-const\n          url: _url,\n          ...nextHistory\n        } = next;\n        if (maskedLocation) {\n          nextHistory = {\n            ...maskedLocation,\n            state: {\n              ...maskedLocation.state,\n              __tempKey: void 0,\n              __tempLocation: {\n                ...nextHistory,\n                search: nextHistory.searchStr,\n                state: {\n                  ...nextHistory.state,\n                  __tempKey: void 0,\n                  __tempLocation: void 0,\n                  __TSR_key: void 0,\n                  key: void 0\n                  // TODO: Remove in v2 - use __TSR_key instead\n                }\n              }\n            }\n          };\n          if (nextHistory.unmaskOnReload ?? this.options.unmaskOnReload ?? false) {\n            nextHistory.state.__tempKey = this.tempLocationKey;\n          }\n        }\n        nextHistory.state.__hashScrollIntoViewOptions = hashScrollIntoView ?? this.options.defaultHashScrollIntoView ?? true;\n        this.shouldViewTransition = viewTransition;\n        this.history[next.replace ? \"replace\" : \"push\"](\n          nextHistory.publicHref,\n          nextHistory.state,\n          { ignoreBlocker }\n        );\n      }\n      this.resetNextScroll = next.resetScroll ?? true;\n      if (!this.history.subscribers.size) {\n        this.load();\n      }\n      return this.commitLocationPromise;\n    };\n    this.buildAndCommitLocation = ({\n      replace,\n      resetScroll,\n      hashScrollIntoView,\n      viewTransition,\n      ignoreBlocker,\n      href,\n      ...rest\n    } = {}) => {\n      if (href) {\n        const currentIndex = this.history.location.state.__TSR_index;\n        const parsed = parseHref(href, {\n          __TSR_index: replace ? currentIndex : currentIndex + 1\n        });\n        rest.to = parsed.pathname;\n        rest.search = this.options.parseSearch(parsed.search);\n        rest.hash = parsed.hash.slice(1);\n      }\n      const location = this.buildLocation({\n        ...rest,\n        _includeValidateSearch: true\n      });\n      this.pendingBuiltLocation = location;\n      const commitPromise = this.commitLocation({\n        ...location,\n        viewTransition,\n        replace,\n        resetScroll,\n        hashScrollIntoView,\n        ignoreBlocker\n      });\n      Promise.resolve().then(() => {\n        if (this.pendingBuiltLocation === location) {\n          this.pendingBuiltLocation = void 0;\n        }\n      });\n      return commitPromise;\n    };\n    this.navigate = async ({\n      to,\n      reloadDocument,\n      href,\n      publicHref,\n      ...rest\n    }) => {\n      let hrefIsUrl = false;\n      if (href) {\n        try {\n          new URL(`${href}`);\n          hrefIsUrl = true;\n        } catch {\n        }\n      }\n      if (hrefIsUrl && !reloadDocument) {\n        reloadDocument = true;\n      }\n      if (reloadDocument) {\n        if (!href || !publicHref && !hrefIsUrl) {\n          const location = this.buildLocation({ to, ...rest });\n          href = href ?? location.url.href;\n          publicHref = publicHref ?? location.url.href;\n        }\n        const reloadHref = !hrefIsUrl && publicHref ? publicHref : href;\n        if (!rest.ignoreBlocker) {\n          const historyWithBlockers = this.history;\n          const blockers = historyWithBlockers.getBlockers?.() ?? [];\n          for (const blocker of blockers) {\n            if (blocker?.blockerFn) {\n              const shouldBlock = await blocker.blockerFn({\n                currentLocation: this.latestLocation,\n                nextLocation: this.latestLocation,\n                // External URLs don't have a next location in our router\n                action: \"PUSH\"\n              });\n              if (shouldBlock) {\n                return Promise.resolve();\n              }\n            }\n          }\n        }\n        if (rest.replace) {\n          window.location.replace(reloadHref);\n        } else {\n          window.location.href = reloadHref;\n        }\n        return Promise.resolve();\n      }\n      return this.buildAndCommitLocation({\n        ...rest,\n        href,\n        to,\n        _isNavigate: true\n      });\n    };\n    this.beforeLoad = () => {\n      this.cancelMatches();\n      this.updateLatestLocation();\n      if (this.isServer) {\n        const nextLocation = this.buildLocation({\n          to: this.latestLocation.pathname,\n          search: true,\n          params: true,\n          hash: true,\n          state: true,\n          _includeValidateSearch: true\n        });\n        if (this.latestLocation.publicHref !== nextLocation.publicHref || nextLocation.url.origin !== this.origin) {\n          const href = this.getParsedLocationHref(nextLocation);\n          throw redirect({ href });\n        }\n      }\n      const pendingMatches = this.matchRoutes(this.latestLocation);\n      this.__store.setState((s) => ({\n        ...s,\n        status: \"pending\",\n        statusCode: 200,\n        isLoading: true,\n        location: this.latestLocation,\n        pendingMatches,\n        // If a cached moved to pendingMatches, remove it from cachedMatches\n        cachedMatches: s.cachedMatches.filter(\n          (d) => !pendingMatches.some((e) => e.id === d.id)\n        )\n      }));\n    };\n    this.load = async (opts) => {\n      let redirect2;\n      let notFound;\n      let loadPromise;\n      loadPromise = new Promise((resolve) => {\n        this.startTransition(async () => {\n          try {\n            this.beforeLoad();\n            const next = this.latestLocation;\n            const prevLocation = this.state.resolvedLocation;\n            if (!this.state.redirect) {\n              this.emit({\n                type: \"onBeforeNavigate\",\n                ...getLocationChangeInfo({\n                  resolvedLocation: prevLocation,\n                  location: next\n                })\n              });\n            }\n            this.emit({\n              type: \"onBeforeLoad\",\n              ...getLocationChangeInfo({\n                resolvedLocation: prevLocation,\n                location: next\n              })\n            });\n            await loadMatches({\n              router: this,\n              sync: opts?.sync,\n              matches: this.state.pendingMatches,\n              location: next,\n              updateMatch: this.updateMatch,\n              // eslint-disable-next-line @typescript-eslint/require-await\n              onReady: async () => {\n                this.startTransition(() => {\n                  this.startViewTransition(async () => {\n                    let exitingMatches = [];\n                    let enteringMatches = [];\n                    let stayingMatches = [];\n                    batch(() => {\n                      this.__store.setState((s) => {\n                        const previousMatches = s.matches;\n                        const newMatches = s.pendingMatches || s.matches;\n                        exitingMatches = previousMatches.filter(\n                          (match) => !newMatches.some((d) => d.id === match.id)\n                        );\n                        enteringMatches = newMatches.filter(\n                          (match) => !previousMatches.some((d) => d.id === match.id)\n                        );\n                        stayingMatches = newMatches.filter(\n                          (match) => previousMatches.some((d) => d.id === match.id)\n                        );\n                        return {\n                          ...s,\n                          isLoading: false,\n                          loadedAt: Date.now(),\n                          matches: newMatches,\n                          pendingMatches: void 0,\n                          /**\n                           * When committing new matches, cache any exiting matches that are still usable.\n                           * Routes that resolved with `status: 'error'` or `status: 'notFound'` are\n                           * deliberately excluded from `cachedMatches` so that subsequent invalidations\n                           * or reloads re-run their loaders instead of reusing the failed/not-found data.\n                           */\n                          cachedMatches: [\n                            ...s.cachedMatches,\n                            ...exitingMatches.filter(\n                              (d) => d.status !== \"error\" && d.status !== \"notFound\"\n                            )\n                          ]\n                        };\n                      });\n                      this.clearExpiredCache();\n                    });\n                    [\n                      [exitingMatches, \"onLeave\"],\n                      [enteringMatches, \"onEnter\"],\n                      [stayingMatches, \"onStay\"]\n                    ].forEach(([matches, hook]) => {\n                      matches.forEach((match) => {\n                        this.looseRoutesById[match.routeId].options[hook]?.(\n                          match\n                        );\n                      });\n                    });\n                  });\n                });\n              }\n            });\n          } catch (err) {\n            if (isRedirect(err)) {\n              redirect2 = err;\n              if (!this.isServer) {\n                this.navigate({\n                  ...redirect2.options,\n                  replace: true,\n                  ignoreBlocker: true\n                });\n              }\n            } else if (isNotFound(err)) {\n              notFound = err;\n            }\n            this.__store.setState((s) => ({\n              ...s,\n              statusCode: redirect2 ? redirect2.status : notFound ? 404 : s.matches.some((d) => d.status === \"error\") ? 500 : 200,\n              redirect: redirect2\n            }));\n          }\n          if (this.latestLoadPromise === loadPromise) {\n            this.commitLocationPromise?.resolve();\n            this.latestLoadPromise = void 0;\n            this.commitLocationPromise = void 0;\n          }\n          resolve();\n        });\n      });\n      this.latestLoadPromise = loadPromise;\n      await loadPromise;\n      while (this.latestLoadPromise && loadPromise !== this.latestLoadPromise) {\n        await this.latestLoadPromise;\n      }\n      let newStatusCode = void 0;\n      if (this.hasNotFoundMatch()) {\n        newStatusCode = 404;\n      } else if (this.__store.state.matches.some((d) => d.status === \"error\")) {\n        newStatusCode = 500;\n      }\n      if (newStatusCode !== void 0) {\n        this.__store.setState((s) => ({\n          ...s,\n          statusCode: newStatusCode\n        }));\n      }\n    };\n    this.startViewTransition = (fn) => {\n      const shouldViewTransition = this.shouldViewTransition ?? this.options.defaultViewTransition;\n      delete this.shouldViewTransition;\n      if (shouldViewTransition && typeof document !== \"undefined\" && \"startViewTransition\" in document && typeof document.startViewTransition === \"function\") {\n        let startViewTransitionParams;\n        if (typeof shouldViewTransition === \"object\" && this.isViewTransitionTypesSupported) {\n          const next = this.latestLocation;\n          const prevLocation = this.state.resolvedLocation;\n          const resolvedViewTransitionTypes = typeof shouldViewTransition.types === \"function\" ? shouldViewTransition.types(\n            getLocationChangeInfo({\n              resolvedLocation: prevLocation,\n              location: next\n            })\n          ) : shouldViewTransition.types;\n          if (resolvedViewTransitionTypes === false) {\n            fn();\n            return;\n          }\n          startViewTransitionParams = {\n            update: fn,\n            types: resolvedViewTransitionTypes\n          };\n        } else {\n          startViewTransitionParams = fn;\n        }\n        document.startViewTransition(startViewTransitionParams);\n      } else {\n        fn();\n      }\n    };\n    this.updateMatch = (id, updater) => {\n      this.startTransition(() => {\n        const matchesKey = this.state.pendingMatches?.some((d) => d.id === id) ? \"pendingMatches\" : this.state.matches.some((d) => d.id === id) ? \"matches\" : this.state.cachedMatches.some((d) => d.id === id) ? \"cachedMatches\" : \"\";\n        if (matchesKey) {\n          this.__store.setState((s) => ({\n            ...s,\n            [matchesKey]: s[matchesKey]?.map(\n              (d) => d.id === id ? updater(d) : d\n            )\n          }));\n        }\n      });\n    };\n    this.getMatch = (matchId) => {\n      const findFn = (d) => d.id === matchId;\n      return this.state.cachedMatches.find(findFn) ?? this.state.pendingMatches?.find(findFn) ?? this.state.matches.find(findFn);\n    };\n    this.invalidate = (opts) => {\n      const invalidate = (d) => {\n        if (opts?.filter?.(d) ?? true) {\n          return {\n            ...d,\n            invalid: true,\n            ...opts?.forcePending || d.status === \"error\" || d.status === \"notFound\" ? { status: \"pending\", error: void 0 } : void 0\n          };\n        }\n        return d;\n      };\n      this.__store.setState((s) => ({\n        ...s,\n        matches: s.matches.map(invalidate),\n        cachedMatches: s.cachedMatches.map(invalidate),\n        pendingMatches: s.pendingMatches?.map(invalidate)\n      }));\n      this.shouldViewTransition = false;\n      return this.load({ sync: opts?.sync });\n    };\n    this.getParsedLocationHref = (location) => {\n      let href = location.url.href;\n      if (this.origin && location.url.origin === this.origin) {\n        href = href.replace(this.origin, \"\") || \"/\";\n      }\n      return href;\n    };\n    this.resolveRedirect = (redirect2) => {\n      if (!redirect2.options.href) {\n        const location = this.buildLocation(redirect2.options);\n        const href = this.getParsedLocationHref(location);\n        redirect2.options.href = location.href;\n        redirect2.headers.set(\"Location\", href);\n      }\n      if (!redirect2.headers.get(\"Location\")) {\n        redirect2.headers.set(\"Location\", redirect2.options.href);\n      }\n      return redirect2;\n    };\n    this.clearCache = (opts) => {\n      const filter = opts?.filter;\n      if (filter !== void 0) {\n        this.__store.setState((s) => {\n          return {\n            ...s,\n            cachedMatches: s.cachedMatches.filter(\n              (m) => !filter(m)\n            )\n          };\n        });\n      } else {\n        this.__store.setState((s) => {\n          return {\n            ...s,\n            cachedMatches: []\n          };\n        });\n      }\n    };\n    this.clearExpiredCache = () => {\n      const filter = (d) => {\n        const route = this.looseRoutesById[d.routeId];\n        if (!route.options.loader) {\n          return true;\n        }\n        const gcTime = (d.preload ? route.options.preloadGcTime ?? this.options.defaultPreloadGcTime : route.options.gcTime ?? this.options.defaultGcTime) ?? 5 * 60 * 1e3;\n        const isError = d.status === \"error\";\n        if (isError) return true;\n        const gcEligible = Date.now() - d.updatedAt >= gcTime;\n        return gcEligible;\n      };\n      this.clearCache({ filter });\n    };\n    this.loadRouteChunk = loadRouteChunk;\n    this.preloadRoute = async (opts) => {\n      const next = this.buildLocation(opts);\n      let matches = this.matchRoutes(next, {\n        throwOnError: true,\n        preload: true,\n        dest: opts\n      });\n      const activeMatchIds = new Set(\n        [...this.state.matches, ...this.state.pendingMatches ?? []].map(\n          (d) => d.id\n        )\n      );\n      const loadedMatchIds = /* @__PURE__ */ new Set([\n        ...activeMatchIds,\n        ...this.state.cachedMatches.map((d) => d.id)\n      ]);\n      batch(() => {\n        matches.forEach((match) => {\n          if (!loadedMatchIds.has(match.id)) {\n            this.__store.setState((s) => ({\n              ...s,\n              cachedMatches: [...s.cachedMatches, match]\n            }));\n          }\n        });\n      });\n      try {\n        matches = await loadMatches({\n          router: this,\n          matches,\n          location: next,\n          preload: true,\n          updateMatch: (id, updater) => {\n            if (activeMatchIds.has(id)) {\n              matches = matches.map((d) => d.id === id ? updater(d) : d);\n            } else {\n              this.updateMatch(id, updater);\n            }\n          }\n        });\n        return matches;\n      } catch (err) {\n        if (isRedirect(err)) {\n          if (err.options.reloadDocument) {\n            return void 0;\n          }\n          return await this.preloadRoute({\n            ...err.options,\n            _fromLocation: next\n          });\n        }\n        if (!isNotFound(err)) {\n          console.error(err);\n        }\n        return void 0;\n      }\n    };\n    this.matchRoute = (location, opts) => {\n      const matchLocation = {\n        ...location,\n        to: location.to ? this.resolvePathWithBase(\n          location.from || \"\",\n          location.to\n        ) : void 0,\n        params: location.params || {},\n        leaveParams: true\n      };\n      const next = this.buildLocation(matchLocation);\n      if (opts?.pending && this.state.status !== \"pending\") {\n        return false;\n      }\n      const pending = opts?.pending === void 0 ? !this.state.isLoading : opts.pending;\n      const baseLocation = pending ? this.latestLocation : this.state.resolvedLocation || this.state.location;\n      const match = findSingleMatch(\n        next.pathname,\n        opts?.caseSensitive ?? false,\n        opts?.fuzzy ?? false,\n        baseLocation.pathname,\n        this.processedTree\n      );\n      if (!match) {\n        return false;\n      }\n      if (location.params) {\n        if (!deepEqual(match.params, location.params, { partial: true })) {\n          return false;\n        }\n      }\n      if (opts?.includeSearch ?? true) {\n        return deepEqual(baseLocation.search, next.search, { partial: true }) ? match.params : false;\n      }\n      return match.params;\n    };\n    this.hasNotFoundMatch = () => {\n      return this.__store.state.matches.some(\n        (d) => d.status === \"notFound\" || d.globalNotFound\n      );\n    };\n    this.update({\n      defaultPreloadDelay: 50,\n      defaultPendingMs: 1e3,\n      defaultPendingMinMs: 500,\n      context: void 0,\n      ...options,\n      caseSensitive: options.caseSensitive ?? false,\n      notFoundMode: options.notFoundMode ?? \"fuzzy\",\n      stringifySearch: options.stringifySearch ?? defaultStringifySearch,\n      parseSearch: options.parseSearch ?? defaultParseSearch\n    });\n    if (typeof document !== \"undefined\") {\n      self.__TSR_ROUTER__ = this;\n    }\n  }\n  isShell() {\n    return !!this.options.isShell;\n  }\n  isPrerendering() {\n    return !!this.options.isPrerendering;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  get looseRoutesById() {\n    return this.routesById;\n  }\n  matchRoutesInternal(next, opts) {\n    const matchedRoutesResult = this.getMatchedRoutes(next.pathname);\n    const { foundRoute, routeParams } = matchedRoutesResult;\n    let { matchedRoutes } = matchedRoutesResult;\n    let isGlobalNotFound = false;\n    if (\n      // If we found a route, and it's not an index route and we have left over path\n      foundRoute ? foundRoute.path !== \"/\" && routeParams[\"**\"] : (\n        // Or if we didn't find a route and we have left over path\n        trimPathRight(next.pathname)\n      )\n    ) {\n      if (this.options.notFoundRoute) {\n        matchedRoutes = [...matchedRoutes, this.options.notFoundRoute];\n      } else {\n        isGlobalNotFound = true;\n      }\n    }\n    const globalNotFoundRouteId = (() => {\n      if (!isGlobalNotFound) {\n        return void 0;\n      }\n      if (this.options.notFoundMode !== \"root\") {\n        for (let i = matchedRoutes.length - 1; i >= 0; i--) {\n          const route = matchedRoutes[i];\n          if (route.children) {\n            return route.id;\n          }\n        }\n      }\n      return rootRouteId;\n    })();\n    const matches = [];\n    const getParentContext = (parentMatch) => {\n      const parentMatchId = parentMatch?.id;\n      const parentContext = !parentMatchId ? this.options.context ?? void 0 : parentMatch.context ?? this.options.context ?? void 0;\n      return parentContext;\n    };\n    matchedRoutes.forEach((route, index) => {\n      const parentMatch = matches[index - 1];\n      const [preMatchSearch, strictMatchSearch, searchError] = (() => {\n        const parentSearch = parentMatch?.search ?? next.search;\n        const parentStrictSearch = parentMatch?._strictSearch ?? void 0;\n        try {\n          const strictSearch = validateSearch(route.options.validateSearch, { ...parentSearch }) ?? void 0;\n          return [\n            {\n              ...parentSearch,\n              ...strictSearch\n            },\n            { ...parentStrictSearch, ...strictSearch },\n            void 0\n          ];\n        } catch (err) {\n          let searchParamError = err;\n          if (!(err instanceof SearchParamError)) {\n            searchParamError = new SearchParamError(err.message, {\n              cause: err\n            });\n          }\n          if (opts?.throwOnError) {\n            throw searchParamError;\n          }\n          return [parentSearch, {}, searchParamError];\n        }\n      })();\n      const loaderDeps = route.options.loaderDeps?.({\n        search: preMatchSearch\n      }) ?? \"\";\n      const loaderDepsHash = loaderDeps ? JSON.stringify(loaderDeps) : \"\";\n      const { interpolatedPath, usedParams } = interpolatePath({\n        path: route.fullPath,\n        params: routeParams,\n        decodeCharMap: this.pathParamsDecodeCharMap\n      });\n      const matchId = (\n        // route.id for disambiguation\n        route.id + // interpolatedPath for param changes\n        interpolatedPath + // explicit deps\n        loaderDepsHash\n      );\n      const existingMatch = this.getMatch(matchId);\n      const previousMatch = this.state.matches.find(\n        (d) => d.routeId === route.id\n      );\n      const strictParams = existingMatch?._strictParams ?? usedParams;\n      let paramsError = void 0;\n      if (!existingMatch) {\n        const strictParseParams = route.options.params?.parse ?? route.options.parseParams;\n        if (strictParseParams) {\n          try {\n            Object.assign(\n              strictParams,\n              strictParseParams(strictParams)\n            );\n          } catch (err) {\n            if (isNotFound(err) || isRedirect(err)) {\n              paramsError = err;\n            } else {\n              paramsError = new PathParamError(err.message, {\n                cause: err\n              });\n            }\n            if (opts?.throwOnError) {\n              throw paramsError;\n            }\n          }\n        }\n      }\n      Object.assign(routeParams, strictParams);\n      const cause = previousMatch ? \"stay\" : \"enter\";\n      let match;\n      if (existingMatch) {\n        match = {\n          ...existingMatch,\n          cause,\n          params: previousMatch ? replaceEqualDeep(previousMatch.params, routeParams) : routeParams,\n          _strictParams: strictParams,\n          search: previousMatch ? replaceEqualDeep(previousMatch.search, preMatchSearch) : replaceEqualDeep(existingMatch.search, preMatchSearch),\n          _strictSearch: strictMatchSearch\n        };\n      } else {\n        const status = route.options.loader || route.options.beforeLoad || route.lazyFn || routeNeedsPreload(route) ? \"pending\" : \"success\";\n        match = {\n          id: matchId,\n          ssr: this.isServer ? void 0 : route.options.ssr,\n          index,\n          routeId: route.id,\n          params: previousMatch ? replaceEqualDeep(previousMatch.params, routeParams) : routeParams,\n          _strictParams: strictParams,\n          pathname: interpolatedPath,\n          updatedAt: Date.now(),\n          search: previousMatch ? replaceEqualDeep(previousMatch.search, preMatchSearch) : preMatchSearch,\n          _strictSearch: strictMatchSearch,\n          searchError: void 0,\n          status,\n          isFetching: false,\n          error: void 0,\n          paramsError,\n          __routeContext: void 0,\n          _nonReactive: {\n            loadPromise: createControlledPromise()\n          },\n          __beforeLoadContext: void 0,\n          context: {},\n          abortController: new AbortController(),\n          fetchCount: 0,\n          cause,\n          loaderDeps: previousMatch ? replaceEqualDeep(previousMatch.loaderDeps, loaderDeps) : loaderDeps,\n          invalid: false,\n          preload: false,\n          links: void 0,\n          scripts: void 0,\n          headScripts: void 0,\n          meta: void 0,\n          staticData: route.options.staticData || {},\n          fullPath: route.fullPath\n        };\n      }\n      if (!opts?.preload) {\n        match.globalNotFound = globalNotFoundRouteId === route.id;\n      }\n      match.searchError = searchError;\n      const parentContext = getParentContext(parentMatch);\n      match.context = {\n        ...parentContext,\n        ...match.__routeContext,\n        ...match.__beforeLoadContext\n      };\n      matches.push(match);\n    });\n    matches.forEach((match, index) => {\n      const route = this.looseRoutesById[match.routeId];\n      const existingMatch = this.getMatch(match.id);\n      if (!existingMatch && opts?._buildLocation !== true) {\n        const parentMatch = matches[index - 1];\n        const parentContext = getParentContext(parentMatch);\n        if (route.options.context) {\n          const contextFnContext = {\n            deps: match.loaderDeps,\n            params: match.params,\n            context: parentContext ?? {},\n            location: next,\n            navigate: (opts2) => this.navigate({ ...opts2, _fromLocation: next }),\n            buildLocation: this.buildLocation,\n            cause: match.cause,\n            abortController: match.abortController,\n            preload: !!match.preload,\n            matches\n          };\n          match.__routeContext = route.options.context(contextFnContext) ?? void 0;\n        }\n        match.context = {\n          ...parentContext,\n          ...match.__routeContext,\n          ...match.__beforeLoadContext\n        };\n      }\n    });\n    return matches;\n  }\n}\nclass SearchParamError extends Error {\n}\nclass PathParamError extends Error {\n}\nconst normalize = (str) => str.endsWith(\"/\") && str.length > 1 ? str.slice(0, -1) : str;\nfunction comparePaths(a, b) {\n  return normalize(a) === normalize(b);\n}\nfunction lazyFn(fn, key) {\n  return async (...args) => {\n    const imported = await fn();\n    return imported[key || \"default\"](...args);\n  };\n}\nfunction getInitialRouterState(location) {\n  return {\n    loadedAt: 0,\n    isLoading: false,\n    isTransitioning: false,\n    status: \"idle\",\n    resolvedLocation: void 0,\n    location,\n    matches: [],\n    pendingMatches: [],\n    cachedMatches: [],\n    statusCode: 200\n  };\n}\nfunction validateSearch(validateSearch2, input) {\n  if (validateSearch2 == null) return {};\n  if (\"~standard\" in validateSearch2) {\n    const result = validateSearch2[\"~standard\"].validate(input);\n    if (result instanceof Promise)\n      throw new SearchParamError(\"Async validation not supported\");\n    if (result.issues)\n      throw new SearchParamError(JSON.stringify(result.issues, void 0, 2), {\n        cause: result\n      });\n    return result.value;\n  }\n  if (\"parse\" in validateSearch2) {\n    return validateSearch2.parse(input);\n  }\n  if (typeof validateSearch2 === \"function\") {\n    return validateSearch2(input);\n  }\n  return {};\n}\nfunction getMatchedRoutes({\n  pathname,\n  routesById,\n  processedTree\n}) {\n  const routeParams = {};\n  const trimmedPath = trimPathRight(pathname);\n  let foundRoute = void 0;\n  const match = findRouteMatch(trimmedPath, processedTree, true);\n  if (match) {\n    foundRoute = match.route;\n    Object.assign(routeParams, match.params);\n  }\n  const matchedRoutes = match?.branch || [routesById[rootRouteId]];\n  return { matchedRoutes, routeParams, foundRoute };\n}\nfunction applySearchMiddleware({\n  search,\n  dest,\n  destRoutes,\n  _includeValidateSearch\n}) {\n  const allMiddlewares = destRoutes.reduce(\n    (acc, route) => {\n      const middlewares = [];\n      if (\"search\" in route.options) {\n        if (route.options.search?.middlewares) {\n          middlewares.push(...route.options.search.middlewares);\n        }\n      } else if (route.options.preSearchFilters || route.options.postSearchFilters) {\n        const legacyMiddleware = ({\n          search: search2,\n          next\n        }) => {\n          let nextSearch = search2;\n          if (\"preSearchFilters\" in route.options && route.options.preSearchFilters) {\n            nextSearch = route.options.preSearchFilters.reduce(\n              (prev, next2) => next2(prev),\n              search2\n            );\n          }\n          const result = next(nextSearch);\n          if (\"postSearchFilters\" in route.options && route.options.postSearchFilters) {\n            return route.options.postSearchFilters.reduce(\n              (prev, next2) => next2(prev),\n              result\n            );\n          }\n          return result;\n        };\n        middlewares.push(legacyMiddleware);\n      }\n      if (_includeValidateSearch && route.options.validateSearch) {\n        const validate = ({ search: search2, next }) => {\n          const result = next(search2);\n          try {\n            const validatedSearch = {\n              ...result,\n              ...validateSearch(route.options.validateSearch, result) ?? void 0\n            };\n            return validatedSearch;\n          } catch {\n            return result;\n          }\n        };\n        middlewares.push(validate);\n      }\n      return acc.concat(middlewares);\n    },\n    []\n  ) ?? [];\n  const final = ({ search: search2 }) => {\n    if (!dest.search) {\n      return {};\n    }\n    if (dest.search === true) {\n      return search2;\n    }\n    return functionalUpdate(dest.search, search2);\n  };\n  allMiddlewares.push(final);\n  const applyNext = (index, currentSearch) => {\n    if (index >= allMiddlewares.length) {\n      return currentSearch;\n    }\n    const middleware = allMiddlewares[index];\n    const next = (newSearch) => {\n      return applyNext(index + 1, newSearch);\n    };\n    return middleware({ search: currentSearch, next });\n  };\n  return applyNext(0, search);\n}\nexport {\n  PathParamError,\n  RouterCore,\n  SearchParamError,\n  defaultSerializeError,\n  getInitialRouterState,\n  getLocationChangeInfo,\n  getMatchedRoutes,\n  lazyFn,\n  trailingSlashOptions\n};\n//# sourceMappingURL=router.js.map\n","const preloadWarning = \"Error preloading route! \";\nexport {\n  preloadWarning\n};\n//# sourceMappingURL=link.js.map\n","import invariant from \"tiny-invariant\";\nimport { trimPathLeft, joinPaths } from \"./path.js\";\nimport { notFound } from \"./not-found.js\";\nimport { rootRouteId } from \"./root.js\";\nclass BaseRoute {\n  constructor(options) {\n    this.init = (opts) => {\n      this.originalIndex = opts.originalIndex;\n      const options2 = this.options;\n      const isRoot = !options2?.path && !options2?.id;\n      this.parentRoute = this.options.getParentRoute?.();\n      if (isRoot) {\n        this._path = rootRouteId;\n      } else if (!this.parentRoute) {\n        invariant(\n          false,\n          `Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.`\n        );\n      }\n      let path = isRoot ? rootRouteId : options2?.path;\n      if (path && path !== \"/\") {\n        path = trimPathLeft(path);\n      }\n      const customId = options2?.id || path;\n      let id = isRoot ? rootRouteId : joinPaths([\n        this.parentRoute.id === rootRouteId ? \"\" : this.parentRoute.id,\n        customId\n      ]);\n      if (path === rootRouteId) {\n        path = \"/\";\n      }\n      if (id !== rootRouteId) {\n        id = joinPaths([\"/\", id]);\n      }\n      const fullPath = id === rootRouteId ? \"/\" : joinPaths([this.parentRoute.fullPath, path]);\n      this._path = path;\n      this._id = id;\n      this._fullPath = fullPath;\n      this._to = fullPath;\n    };\n    this.addChildren = (children) => {\n      return this._addFileChildren(children);\n    };\n    this._addFileChildren = (children) => {\n      if (Array.isArray(children)) {\n        this.children = children;\n      }\n      if (typeof children === \"object\" && children !== null) {\n        this.children = Object.values(children);\n      }\n      return this;\n    };\n    this._addFileTypes = () => {\n      return this;\n    };\n    this.updateLoader = (options2) => {\n      Object.assign(this.options, options2);\n      return this;\n    };\n    this.update = (options2) => {\n      Object.assign(this.options, options2);\n      return this;\n    };\n    this.lazy = (lazyFn) => {\n      this.lazyFn = lazyFn;\n      return this;\n    };\n    this.options = options || {};\n    this.isRoot = !options?.getParentRoute;\n    if (options?.id && options?.path) {\n      throw new Error(`Route cannot have both an 'id' and a 'path' option.`);\n    }\n  }\n  get to() {\n    return this._to;\n  }\n  get id() {\n    return this._id;\n  }\n  get path() {\n    return this._path;\n  }\n  get fullPath() {\n    return this._fullPath;\n  }\n}\nclass BaseRouteApi {\n  constructor({ id }) {\n    this.notFound = (opts) => {\n      return notFound({ routeId: this.id, ...opts });\n    };\n    this.id = id;\n  }\n}\nclass BaseRootRoute extends BaseRoute {\n  constructor(options) {\n    super(options);\n  }\n}\nexport {\n  BaseRootRoute,\n  BaseRoute,\n  BaseRouteApi\n};\n//# sourceMappingURL=route.js.map\n","import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nfunction CatchBoundary(props) {\n  const errorComponent = props.errorComponent ?? ErrorComponent;\n  return /* @__PURE__ */ jsx(\n    CatchBoundaryImpl,\n    {\n      getResetKey: props.getResetKey,\n      onCatch: props.onCatch,\n      children: ({ error, reset }) => {\n        if (error) {\n          return React.createElement(errorComponent, {\n            error,\n            reset\n          });\n        }\n        return props.children;\n      }\n    }\n  );\n}\nclass CatchBoundaryImpl extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromProps(props) {\n    return { resetKey: props.getResetKey() };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  reset() {\n    this.setState({ error: null });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.error && prevState.resetKey !== this.state.resetKey) {\n      this.reset();\n    }\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onCatch) {\n      this.props.onCatch(error, errorInfo);\n    }\n  }\n  render() {\n    return this.props.children({\n      error: this.state.resetKey !== this.props.getResetKey() ? null : this.state.error,\n      reset: () => {\n        this.reset();\n      }\n    });\n  }\n}\nfunction ErrorComponent({ error }) {\n  const [show, setShow] = React.useState(process.env.NODE_ENV !== \"production\");\n  return /* @__PURE__ */ jsxs(\"div\", { style: { padding: \".5rem\", maxWidth: \"100%\" }, children: [\n    /* @__PURE__ */ jsxs(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \".5rem\" }, children: [\n      /* @__PURE__ */ jsx(\"strong\", { style: { fontSize: \"1rem\" }, children: \"Something went wrong!\" }),\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          style: {\n            appearance: \"none\",\n            fontSize: \".6em\",\n            border: \"1px solid currentColor\",\n            padding: \".1rem .2rem\",\n            fontWeight: \"bold\",\n            borderRadius: \".25rem\"\n          },\n          onClick: () => setShow((d) => !d),\n          children: show ? \"Hide Error\" : \"Show Error\"\n        }\n      )\n    ] }),\n    /* @__PURE__ */ jsx(\"div\", { style: { height: \".25rem\" } }),\n    show ? /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(\n      \"pre\",\n      {\n        style: {\n          fontSize: \".7em\",\n          border: \"1px solid red\",\n          borderRadius: \".25rem\",\n          padding: \".3rem\",\n          color: \"red\",\n          overflow: \"auto\"\n        },\n        children: error.message ? /* @__PURE__ */ jsx(\"code\", { children: error.message }) : null\n      }\n    ) }) : null\n  ] });\n}\nexport {\n  CatchBoundary,\n  ErrorComponent\n};\n//# sourceMappingURL=CatchBoundary.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport React__default from \"react\";\nfunction ClientOnly({ children, fallback = null }) {\n  return useHydrated() ? /* @__PURE__ */ jsx(React__default.Fragment, { children }) : /* @__PURE__ */ jsx(React__default.Fragment, { children: fallback });\n}\nfunction useHydrated() {\n  return React__default.useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  ClientOnly,\n  useHydrated\n};\n//# sourceMappingURL=ClientOnly.js.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = (d) => d, options = {}) {\n  const equal = options.equal ?? shallow;\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    equal\n  );\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const v of objA) {\n      if (!objB.has(v)) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Date && objB instanceof Date) {\n    if (objA.getTime() !== objB.getTime()) return false;\n    return true;\n  }\n  const keysA = getOwnKeys(objA);\n  if (keysA.length !== getOwnKeys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getOwnKeys(obj) {\n  return Object.keys(obj).concat(\n    Object.getOwnPropertySymbols(obj)\n  );\n}\nexport {\n  shallow,\n  useStore\n};\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nconst routerContext = React.createContext(null);\nfunction getRouterContext() {\n  if (typeof document === \"undefined\") {\n    return routerContext;\n  }\n  if (window.__TSR_ROUTER_CONTEXT__) {\n    return window.__TSR_ROUTER_CONTEXT__;\n  }\n  window.__TSR_ROUTER_CONTEXT__ = routerContext;\n  return routerContext;\n}\nexport {\n  getRouterContext\n};\n//# sourceMappingURL=routerContext.js.map\n","import * as React from \"react\";\nimport warning from \"tiny-warning\";\nimport { getRouterContext } from \"./routerContext.js\";\nfunction useRouter(opts) {\n  const value = React.useContext(getRouterContext());\n  warning(\n    !((opts?.warn ?? true) && !value),\n    \"useRouter must be used inside a <RouterProvider> component!\"\n  );\n  return value;\n}\nexport {\n  useRouter\n};\n//# sourceMappingURL=useRouter.js.map\n","import { useStore } from \"@tanstack/react-store\";\nimport { useRef } from \"react\";\nimport { replaceEqualDeep } from \"@tanstack/router-core\";\nimport { useRouter } from \"./useRouter.js\";\nfunction useRouterState(opts) {\n  const contextRouter = useRouter({\n    warn: opts?.router === void 0\n  });\n  const router = opts?.router || contextRouter;\n  const previousResult = useRef(void 0);\n  return useStore(router.__store, (state) => {\n    if (opts?.select) {\n      if (opts.structuralSharing ?? router.options.defaultStructuralSharing) {\n        const newSlice = replaceEqualDeep(\n          previousResult.current,\n          opts.select(state)\n        );\n        previousResult.current = newSlice;\n        return newSlice;\n      }\n      return opts.select(state);\n    }\n    return state;\n  });\n}\nexport {\n  useRouterState\n};\n//# sourceMappingURL=useRouterState.js.map\n","import * as React from \"react\";\nconst matchContext = React.createContext(void 0);\nconst dummyMatchContext = React.createContext(\n  void 0\n);\nexport {\n  dummyMatchContext,\n  matchContext\n};\n//# sourceMappingURL=matchContext.js.map\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { dummyMatchContext, matchContext } from \"./matchContext.js\";\nfunction useMatch(opts) {\n  const nearestMatchId = React.useContext(\n    opts.from ? dummyMatchContext : matchContext\n  );\n  const matchSelection = useRouterState({\n    select: (state) => {\n      const match = state.matches.find(\n        (d) => opts.from ? opts.from === d.routeId : d.id === nearestMatchId\n      );\n      invariant(\n        !((opts.shouldThrow ?? true) && !match),\n        `Could not find ${opts.from ? `an active match from \"${opts.from}\"` : \"a nearest match!\"}`\n      );\n      if (match === void 0) {\n        return void 0;\n      }\n      return opts.select ? opts.select(match) : match;\n    },\n    structuralSharing: opts.structuralSharing\n  });\n  return matchSelection;\n}\nexport {\n  useMatch\n};\n//# sourceMappingURL=useMatch.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useLoaderData(opts) {\n  return useMatch({\n    from: opts.from,\n    strict: opts.strict,\n    structuralSharing: opts.structuralSharing,\n    select: (s) => {\n      return opts.select ? opts.select(s.loaderData) : s.loaderData;\n    }\n  });\n}\nexport {\n  useLoaderData\n};\n//# sourceMappingURL=useLoaderData.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useLoaderDeps(opts) {\n  const { select, ...rest } = opts;\n  return useMatch({\n    ...rest,\n    select: (s) => {\n      return select ? select(s.loaderDeps) : s.loaderDeps;\n    }\n  });\n}\nexport {\n  useLoaderDeps\n};\n//# sourceMappingURL=useLoaderDeps.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useParams(opts) {\n  return useMatch({\n    from: opts.from,\n    shouldThrow: opts.shouldThrow,\n    structuralSharing: opts.structuralSharing,\n    strict: opts.strict,\n    select: (match) => {\n      const params = opts.strict === false ? match.params : match._strictParams;\n      return opts.select ? opts.select(params) : params;\n    }\n  });\n}\nexport {\n  useParams\n};\n//# sourceMappingURL=useParams.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useSearch(opts) {\n  return useMatch({\n    from: opts.from,\n    strict: opts.strict,\n    shouldThrow: opts.shouldThrow,\n    structuralSharing: opts.structuralSharing,\n    select: (match) => {\n      return opts.select ? opts.select(match.search) : match.search;\n    }\n  });\n}\nexport {\n  useSearch\n};\n//# sourceMappingURL=useSearch.js.map\n","import * as React from \"react\";\nfunction useStableCallback(fn) {\n  const fnRef = React.useRef(fn);\n  fnRef.current = fn;\n  const ref = React.useRef((...args) => fnRef.current(...args));\n  return ref.current;\n}\nconst useLayoutEffect = typeof window !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction usePrevious(value) {\n  const ref = React.useRef({\n    value,\n    prev: null\n  });\n  const current = ref.current.value;\n  if (value !== current) {\n    ref.current = {\n      value,\n      prev: current\n    };\n  }\n  return ref.current.prev;\n}\nfunction useIntersectionObserver(ref, callback, intersectionObserverOptions = {}, options = {}) {\n  React.useEffect(() => {\n    if (!ref.current || options.disabled || typeof IntersectionObserver !== \"function\") {\n      return;\n    }\n    const observer = new IntersectionObserver(([entry]) => {\n      callback(entry);\n    }, intersectionObserverOptions);\n    observer.observe(ref.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, [callback, intersectionObserverOptions, options.disabled, ref]);\n}\nfunction useForwardedRef(ref) {\n  const innerRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => innerRef.current, []);\n  return innerRef;\n}\nexport {\n  useForwardedRef,\n  useIntersectionObserver,\n  useLayoutEffect,\n  usePrevious,\n  useStableCallback\n};\n//# sourceMappingURL=utils.js.map\n","import * as React from \"react\";\nimport { useLayoutEffect } from \"./utils.js\";\nimport { useRouter } from \"./useRouter.js\";\nfunction useNavigate(_defaultOpts) {\n  const router = useRouter();\n  return React.useCallback(\n    (options) => {\n      return router.navigate({\n        ...options,\n        from: options.from ?? _defaultOpts?.from\n      });\n    },\n    [_defaultOpts?.from, router]\n  );\n}\nfunction Navigate(props) {\n  const router = useRouter();\n  const navigate = useNavigate();\n  const previousPropsRef = React.useRef(null);\n  useLayoutEffect(() => {\n    if (previousPropsRef.current !== props) {\n      navigate(props);\n      previousPropsRef.current = props;\n    }\n  }, [router, props, navigate]);\n  return null;\n}\nexport {\n  Navigate,\n  useNavigate\n};\n//# sourceMappingURL=useNavigate.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { preloadWarning, functionalUpdate, exactPathTest, removeTrailingSlash, deepEqual } from \"@tanstack/router-core\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { useForwardedRef, useIntersectionObserver } from \"./utils.js\";\nfunction useLinkProps(options, forwardedRef) {\n  const router = useRouter();\n  const [isTransitioning, setIsTransitioning] = React.useState(false);\n  const hasRenderFetched = React.useRef(false);\n  const innerRef = useForwardedRef(forwardedRef);\n  const {\n    // custom props\n    activeProps,\n    inactiveProps,\n    activeOptions,\n    to,\n    preload: userPreload,\n    preloadDelay: userPreloadDelay,\n    hashScrollIntoView,\n    replace,\n    startTransition,\n    resetScroll,\n    viewTransition,\n    // element props\n    children,\n    target,\n    disabled,\n    style,\n    className,\n    onClick,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    onTouchStart,\n    ignoreBlocker,\n    // prevent these from being returned\n    params: _params,\n    search: _search,\n    hash: _hash,\n    state: _state,\n    mask: _mask,\n    reloadDocument: _reloadDocument,\n    unsafeRelative: _unsafeRelative,\n    from: _from,\n    _fromLocation,\n    ...propsSafeToSpread\n  } = options;\n  const currentSearch = useRouterState({\n    select: (s) => s.location.search,\n    structuralSharing: true\n  });\n  const from = options.from;\n  const _options = React.useMemo(\n    () => {\n      return { ...options, from };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      router,\n      currentSearch,\n      from,\n      options._fromLocation,\n      options.hash,\n      options.to,\n      options.search,\n      options.params,\n      options.state,\n      options.mask,\n      options.unsafeRelative\n    ]\n  );\n  const next = React.useMemo(\n    () => router.buildLocation({ ..._options }),\n    [router, _options]\n  );\n  const hrefOption = React.useMemo(() => {\n    if (disabled) {\n      return void 0;\n    }\n    let href = next.maskedLocation ? next.maskedLocation.url.href : next.url.href;\n    let external = false;\n    if (router.origin) {\n      if (href.startsWith(router.origin)) {\n        href = router.history.createHref(href.replace(router.origin, \"\")) || \"/\";\n      } else {\n        external = true;\n      }\n    }\n    return { href, external };\n  }, [disabled, next.maskedLocation, next.url, router.origin, router.history]);\n  const externalLink = React.useMemo(() => {\n    if (hrefOption?.external) {\n      return hrefOption.href;\n    }\n    try {\n      new URL(to);\n      return to;\n    } catch {\n    }\n    return void 0;\n  }, [to, hrefOption]);\n  const preload = options.reloadDocument || externalLink ? false : userPreload ?? router.options.defaultPreload;\n  const preloadDelay = userPreloadDelay ?? router.options.defaultPreloadDelay ?? 0;\n  const isActive = useRouterState({\n    select: (s) => {\n      if (externalLink) return false;\n      if (activeOptions?.exact) {\n        const testExact = exactPathTest(\n          s.location.pathname,\n          next.pathname,\n          router.basepath\n        );\n        if (!testExact) {\n          return false;\n        }\n      } else {\n        const currentPathSplit = removeTrailingSlash(\n          s.location.pathname,\n          router.basepath\n        );\n        const nextPathSplit = removeTrailingSlash(\n          next.pathname,\n          router.basepath\n        );\n        const pathIsFuzzyEqual = currentPathSplit.startsWith(nextPathSplit) && (currentPathSplit.length === nextPathSplit.length || currentPathSplit[nextPathSplit.length] === \"/\");\n        if (!pathIsFuzzyEqual) {\n          return false;\n        }\n      }\n      if (activeOptions?.includeSearch ?? true) {\n        const searchTest = deepEqual(s.location.search, next.search, {\n          partial: !activeOptions?.exact,\n          ignoreUndefined: !activeOptions?.explicitUndefined\n        });\n        if (!searchTest) {\n          return false;\n        }\n      }\n      if (activeOptions?.includeHash) {\n        return s.location.hash === next.hash;\n      }\n      return true;\n    }\n  });\n  const doPreload = React.useCallback(() => {\n    router.preloadRoute({ ..._options }).catch((err) => {\n      console.warn(err);\n      console.warn(preloadWarning);\n    });\n  }, [router, _options]);\n  const preloadViewportIoCallback = React.useCallback(\n    (entry) => {\n      if (entry?.isIntersecting) {\n        doPreload();\n      }\n    },\n    [doPreload]\n  );\n  useIntersectionObserver(\n    innerRef,\n    preloadViewportIoCallback,\n    intersectionObserverOptions,\n    { disabled: !!disabled || !(preload === \"viewport\") }\n  );\n  React.useEffect(() => {\n    if (hasRenderFetched.current) {\n      return;\n    }\n    if (!disabled && preload === \"render\") {\n      doPreload();\n      hasRenderFetched.current = true;\n    }\n  }, [disabled, doPreload, preload]);\n  const handleClick = (e) => {\n    const elementTarget = e.currentTarget.getAttribute(\"target\");\n    const effectiveTarget = target !== void 0 ? target : elementTarget;\n    if (!disabled && !isCtrlEvent(e) && !e.defaultPrevented && (!effectiveTarget || effectiveTarget === \"_self\") && e.button === 0) {\n      e.preventDefault();\n      flushSync(() => {\n        setIsTransitioning(true);\n      });\n      const unsub = router.subscribe(\"onResolved\", () => {\n        unsub();\n        setIsTransitioning(false);\n      });\n      router.navigate({\n        ..._options,\n        replace,\n        resetScroll,\n        hashScrollIntoView,\n        startTransition,\n        viewTransition,\n        ignoreBlocker\n      });\n    }\n  };\n  if (externalLink) {\n    return {\n      ...propsSafeToSpread,\n      ref: innerRef,\n      href: externalLink,\n      ...children && { children },\n      ...target && { target },\n      ...disabled && { disabled },\n      ...style && { style },\n      ...className && { className },\n      ...onClick && { onClick },\n      ...onFocus && { onFocus },\n      ...onMouseEnter && { onMouseEnter },\n      ...onMouseLeave && { onMouseLeave },\n      ...onTouchStart && { onTouchStart }\n    };\n  }\n  const handleFocus = (_) => {\n    if (disabled) return;\n    if (preload) {\n      doPreload();\n    }\n  };\n  const handleTouchStart = handleFocus;\n  const handleEnter = (e) => {\n    if (disabled || !preload) return;\n    if (!preloadDelay) {\n      doPreload();\n    } else {\n      const eventTarget = e.target;\n      if (timeoutMap.has(eventTarget)) {\n        return;\n      }\n      const id = setTimeout(() => {\n        timeoutMap.delete(eventTarget);\n        doPreload();\n      }, preloadDelay);\n      timeoutMap.set(eventTarget, id);\n    }\n  };\n  const handleLeave = (e) => {\n    if (disabled || !preload || !preloadDelay) return;\n    const eventTarget = e.target;\n    const id = timeoutMap.get(eventTarget);\n    if (id) {\n      clearTimeout(id);\n      timeoutMap.delete(eventTarget);\n    }\n  };\n  const resolvedActiveProps = isActive ? functionalUpdate(activeProps, {}) ?? STATIC_ACTIVE_OBJECT : STATIC_EMPTY_OBJECT;\n  const resolvedInactiveProps = isActive ? STATIC_EMPTY_OBJECT : functionalUpdate(inactiveProps, {}) ?? STATIC_EMPTY_OBJECT;\n  const resolvedClassName = [\n    className,\n    resolvedActiveProps.className,\n    resolvedInactiveProps.className\n  ].filter(Boolean).join(\" \");\n  const resolvedStyle = (style || resolvedActiveProps.style || resolvedInactiveProps.style) && {\n    ...style,\n    ...resolvedActiveProps.style,\n    ...resolvedInactiveProps.style\n  };\n  return {\n    ...propsSafeToSpread,\n    ...resolvedActiveProps,\n    ...resolvedInactiveProps,\n    href: hrefOption?.href,\n    ref: innerRef,\n    onClick: composeHandlers([onClick, handleClick]),\n    onFocus: composeHandlers([onFocus, handleFocus]),\n    onMouseEnter: composeHandlers([onMouseEnter, handleEnter]),\n    onMouseLeave: composeHandlers([onMouseLeave, handleLeave]),\n    onTouchStart: composeHandlers([onTouchStart, handleTouchStart]),\n    disabled: !!disabled,\n    target,\n    ...resolvedStyle && { style: resolvedStyle },\n    ...resolvedClassName && { className: resolvedClassName },\n    ...disabled && STATIC_DISABLED_PROPS,\n    ...isActive && STATIC_ACTIVE_PROPS,\n    ...isTransitioning && STATIC_TRANSITIONING_PROPS\n  };\n}\nconst STATIC_EMPTY_OBJECT = {};\nconst STATIC_ACTIVE_OBJECT = { className: \"active\" };\nconst STATIC_DISABLED_PROPS = { role: \"link\", \"aria-disabled\": true };\nconst STATIC_ACTIVE_PROPS = { \"data-status\": \"active\", \"aria-current\": \"page\" };\nconst STATIC_TRANSITIONING_PROPS = { \"data-transitioning\": \"transitioning\" };\nconst timeoutMap = /* @__PURE__ */ new WeakMap();\nconst intersectionObserverOptions = {\n  rootMargin: \"100px\"\n};\nconst composeHandlers = (handlers) => (e) => {\n  for (const handler of handlers) {\n    if (!handler) continue;\n    if (e.defaultPrevented) return;\n    handler(e);\n  }\n};\nfunction createLink(Comp) {\n  return React.forwardRef(function CreatedLink(props, ref) {\n    return /* @__PURE__ */ jsx(Link, { ...props, _asChild: Comp, ref });\n  });\n}\nconst Link = React.forwardRef(\n  (props, ref) => {\n    const { _asChild, ...rest } = props;\n    const {\n      type: _type,\n      ref: innerRef,\n      ...linkProps\n    } = useLinkProps(rest, ref);\n    const children = typeof rest.children === \"function\" ? rest.children({\n      isActive: linkProps[\"data-status\"] === \"active\"\n    }) : rest.children;\n    if (_asChild === void 0) {\n      delete linkProps.disabled;\n    }\n    return React.createElement(\n      _asChild ? _asChild : \"a\",\n      {\n        ...linkProps,\n        ref: innerRef\n      },\n      children\n    );\n  }\n);\nfunction isCtrlEvent(e) {\n  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);\n}\nconst linkOptions = (options) => {\n  return options;\n};\nexport {\n  Link,\n  createLink,\n  linkOptions,\n  useLinkProps\n};\n//# sourceMappingURL=link.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { BaseRouteApi, notFound, BaseRoute, BaseRootRoute } from \"@tanstack/router-core\";\nimport React__default from \"react\";\nimport { useLoaderData } from \"./useLoaderData.js\";\nimport { useLoaderDeps } from \"./useLoaderDeps.js\";\nimport { useParams } from \"./useParams.js\";\nimport { useSearch } from \"./useSearch.js\";\nimport { useNavigate } from \"./useNavigate.js\";\nimport { useMatch } from \"./useMatch.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { Link } from \"./link.js\";\nfunction getRouteApi(id) {\n  return new RouteApi({ id });\n}\nclass RouteApi extends BaseRouteApi {\n  /**\n   * @deprecated Use the `getRouteApi` function instead.\n   */\n  constructor({ id }) {\n    super({ id });\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id, strict: false });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id, strict: false });\n    };\n    this.useNavigate = () => {\n      const router = useRouter();\n      return useNavigate({ from: router.routesById[this.id].fullPath });\n    };\n    this.notFound = (opts) => {\n      return notFound({ routeId: this.id, ...opts });\n    };\n    this.Link = React__default.forwardRef((props, ref) => {\n      const router = useRouter();\n      const fullPath = router.routesById[this.id].fullPath;\n      return /* @__PURE__ */ jsx(Link, { ref, from: fullPath, ...props });\n    });\n  }\n}\nclass Route extends BaseRoute {\n  /**\n   * @deprecated Use the `createRoute` function instead.\n   */\n  constructor(options) {\n    super(options);\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        ...opts,\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id });\n    };\n    this.useNavigate = () => {\n      return useNavigate({ from: this.fullPath });\n    };\n    this.Link = React__default.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ jsx(Link, { ref, from: this.fullPath, ...props });\n      }\n    );\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createRoute(options) {\n  return new Route(\n    // TODO: Help us TypeChris, you're our only hope!\n    options\n  );\n}\nfunction createRootRouteWithContext() {\n  return (options) => {\n    return createRootRoute(options);\n  };\n}\nconst rootRouteWithContext = createRootRouteWithContext;\nclass RootRoute extends BaseRootRoute {\n  /**\n   * @deprecated `RootRoute` is now an internal implementation detail. Use `createRootRoute()` instead.\n   */\n  constructor(options) {\n    super(options);\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        ...opts,\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id });\n    };\n    this.useNavigate = () => {\n      return useNavigate({ from: this.fullPath });\n    };\n    this.Link = React__default.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ jsx(Link, { ref, from: this.fullPath, ...props });\n      }\n    );\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createRootRoute(options) {\n  return new RootRoute(options);\n}\nfunction createRouteMask(opts) {\n  return opts;\n}\nclass NotFoundRoute extends Route {\n  constructor(options) {\n    super({\n      ...options,\n      id: \"404\"\n    });\n  }\n}\nexport {\n  NotFoundRoute,\n  RootRoute,\n  Route,\n  RouteApi,\n  createRootRoute,\n  createRootRouteWithContext,\n  createRoute,\n  createRouteMask,\n  getRouteApi,\n  rootRouteWithContext\n};\n//# sourceMappingURL=route.js.map\n","import warning from \"tiny-warning\";\nimport { createRoute } from \"./route.js\";\nimport { useMatch } from \"./useMatch.js\";\nimport { useLoaderDeps } from \"./useLoaderDeps.js\";\nimport { useLoaderData } from \"./useLoaderData.js\";\nimport { useSearch } from \"./useSearch.js\";\nimport { useParams } from \"./useParams.js\";\nimport { useNavigate } from \"./useNavigate.js\";\nimport { useRouter } from \"./useRouter.js\";\nfunction createFileRoute(path) {\n  if (typeof path === \"object\") {\n    return new FileRoute(path, {\n      silent: true\n    }).createRoute(path);\n  }\n  return new FileRoute(path, {\n    silent: true\n  }).createRoute;\n}\nclass FileRoute {\n  constructor(path, _opts) {\n    this.path = path;\n    this.createRoute = (options) => {\n      warning(\n        this.silent,\n        \"FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.\"\n      );\n      const route = createRoute(options);\n      route.isRoot = false;\n      return route;\n    };\n    this.silent = _opts?.silent;\n  }\n}\nfunction FileRouteLoader(_path) {\n  warning(\n    false,\n    `FileRouteLoader is deprecated and will be removed in the next major version. Please place the loader function in the the main route file, inside the \\`createFileRoute('/path/to/file')(options)\\` options`\n  );\n  return (loaderFn) => loaderFn;\n}\nclass LazyRoute {\n  constructor(opts) {\n    this.useMatch = (opts2) => {\n      return useMatch({\n        select: opts2?.select,\n        from: this.options.id,\n        structuralSharing: opts2?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts2) => {\n      return useMatch({\n        from: this.options.id,\n        select: (d) => opts2?.select ? opts2.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts2) => {\n      return useSearch({\n        select: opts2?.select,\n        structuralSharing: opts2?.structuralSharing,\n        from: this.options.id\n      });\n    };\n    this.useParams = (opts2) => {\n      return useParams({\n        select: opts2?.select,\n        structuralSharing: opts2?.structuralSharing,\n        from: this.options.id\n      });\n    };\n    this.useLoaderDeps = (opts2) => {\n      return useLoaderDeps({ ...opts2, from: this.options.id });\n    };\n    this.useLoaderData = (opts2) => {\n      return useLoaderData({ ...opts2, from: this.options.id });\n    };\n    this.useNavigate = () => {\n      const router = useRouter();\n      return useNavigate({ from: router.routesById[this.options.id].fullPath });\n    };\n    this.options = opts;\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createLazyRoute(id) {\n  return (opts) => {\n    return new LazyRoute({\n      id,\n      ...opts\n    });\n  };\n}\nfunction createLazyFileRoute(id) {\n  if (typeof id === \"object\") {\n    return new LazyRoute(id);\n  }\n  return (opts) => new LazyRoute({ id, ...opts });\n}\nexport {\n  FileRoute,\n  FileRouteLoader,\n  LazyRoute,\n  createFileRoute,\n  createLazyFileRoute,\n  createLazyRoute\n};\n//# sourceMappingURL=fileRoute.js.map\n","import * as React from \"react\";\nimport { trimPathRight, getLocationChangeInfo, handleHashScroll } from \"@tanstack/router-core\";\nimport { usePrevious, useLayoutEffect } from \"./utils.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nfunction Transitioner() {\n  const router = useRouter();\n  const mountLoadForRouter = React.useRef({ router, mounted: false });\n  const [isTransitioning, setIsTransitioning] = React.useState(false);\n  const { hasPendingMatches, isLoading } = useRouterState({\n    select: (s) => ({\n      isLoading: s.isLoading,\n      hasPendingMatches: s.matches.some((d) => d.status === \"pending\")\n    }),\n    structuralSharing: true\n  });\n  const previousIsLoading = usePrevious(isLoading);\n  const isAnyPending = isLoading || isTransitioning || hasPendingMatches;\n  const previousIsAnyPending = usePrevious(isAnyPending);\n  const isPagePending = isLoading || hasPendingMatches;\n  const previousIsPagePending = usePrevious(isPagePending);\n  router.startTransition = (fn) => {\n    setIsTransitioning(true);\n    React.startTransition(() => {\n      fn();\n      setIsTransitioning(false);\n    });\n  };\n  React.useEffect(() => {\n    const unsub = router.history.subscribe(router.load);\n    const nextLocation = router.buildLocation({\n      to: router.latestLocation.pathname,\n      search: true,\n      params: true,\n      hash: true,\n      state: true,\n      _includeValidateSearch: true\n    });\n    if (trimPathRight(router.latestLocation.publicHref) !== trimPathRight(nextLocation.publicHref)) {\n      router.commitLocation({ ...nextLocation, replace: true });\n    }\n    return () => {\n      unsub();\n    };\n  }, [router, router.history]);\n  useLayoutEffect(() => {\n    if (\n      // if we are hydrating from SSR, loading is triggered in ssr-client\n      typeof window !== \"undefined\" && router.ssr || mountLoadForRouter.current.router === router && mountLoadForRouter.current.mounted\n    ) {\n      return;\n    }\n    mountLoadForRouter.current = { router, mounted: true };\n    const tryLoad = async () => {\n      try {\n        await router.load();\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    tryLoad();\n  }, [router]);\n  useLayoutEffect(() => {\n    if (previousIsLoading && !isLoading) {\n      router.emit({\n        type: \"onLoad\",\n        // When the new URL has committed, when the new matches have been loaded into state.matches\n        ...getLocationChangeInfo(router.state)\n      });\n    }\n  }, [previousIsLoading, router, isLoading]);\n  useLayoutEffect(() => {\n    if (previousIsPagePending && !isPagePending) {\n      router.emit({\n        type: \"onBeforeRouteMount\",\n        ...getLocationChangeInfo(router.state)\n      });\n    }\n  }, [isPagePending, previousIsPagePending, router]);\n  useLayoutEffect(() => {\n    if (previousIsAnyPending && !isAnyPending) {\n      const changeInfo = getLocationChangeInfo(router.state);\n      router.emit({\n        type: \"onResolved\",\n        ...changeInfo\n      });\n      router.__store.setState((s) => ({\n        ...s,\n        status: \"idle\",\n        resolvedLocation: s.location\n      }));\n      if (changeInfo.hrefChanged) {\n        handleHashScroll(router);\n      }\n    }\n  }, [isAnyPending, previousIsAnyPending, router]);\n  return null;\n}\nexport {\n  Transitioner\n};\n//# sourceMappingURL=Transitioner.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { isNotFound } from \"@tanstack/router-core\";\nimport { CatchBoundary } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nfunction CatchNotFound(props) {\n  const resetKey = useRouterState({\n    select: (s) => `not-found-${s.location.pathname}-${s.status}`\n  });\n  return /* @__PURE__ */ jsx(\n    CatchBoundary,\n    {\n      getResetKey: () => resetKey,\n      onCatch: (error, errorInfo) => {\n        if (isNotFound(error)) {\n          props.onCatch?.(error, errorInfo);\n        } else {\n          throw error;\n        }\n      },\n      errorComponent: ({ error }) => {\n        if (isNotFound(error)) {\n          return props.fallback?.(error);\n        } else {\n          throw error;\n        }\n      },\n      children: props.children\n    }\n  );\n}\nfunction DefaultGlobalNotFound() {\n  return /* @__PURE__ */ jsx(\"p\", { children: \"Not Found\" });\n}\nexport {\n  CatchNotFound,\n  DefaultGlobalNotFound\n};\n//# sourceMappingURL=not-found.js.map\n","import { jsx, Fragment } from \"react/jsx-runtime\";\nfunction SafeFragment(props) {\n  return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n}\nexport {\n  SafeFragment\n};\n//# sourceMappingURL=SafeFragment.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport warning from \"tiny-warning\";\nimport { DefaultGlobalNotFound } from \"./not-found.js\";\nfunction renderRouteNotFound(router, route, data) {\n  if (!route.options.notFoundComponent) {\n    if (router.options.defaultNotFoundComponent) {\n      return /* @__PURE__ */ jsx(router.options.defaultNotFoundComponent, { ...data });\n    }\n    if (process.env.NODE_ENV === \"development\") {\n      warning(\n        route.options.notFoundComponent,\n        `A notFoundError was encountered on the route with ID \"${route.id}\", but a notFoundComponent option was not configured, nor was a router level defaultNotFoundComponent configured. Consider configuring at least one of these to avoid TanStack Router's overly generic defaultNotFoundComponent (<p>Not Found</p>)`\n      );\n    }\n    return /* @__PURE__ */ jsx(DefaultGlobalNotFound, {});\n  }\n  return /* @__PURE__ */ jsx(route.options.notFoundComponent, { ...data });\n}\nexport {\n  renderRouteNotFound\n};\n//# sourceMappingURL=renderRouteNotFound.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"./useRouter.js\";\nfunction ScriptOnce({ children }) {\n  const router = useRouter();\n  if (!router.isServer) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    \"script\",\n    {\n      nonce: router.options.ssr?.nonce,\n      dangerouslySetInnerHTML: {\n        __html: children + \";document.currentScript.remove()\"\n      }\n    }\n  );\n}\nexport {\n  ScriptOnce\n};\n//# sourceMappingURL=ScriptOnce.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { defaultGetScrollRestorationKey, restoreScroll, storageKey } from \"@tanstack/router-core\";\nimport { useRouter } from \"./useRouter.js\";\nimport { ScriptOnce } from \"./ScriptOnce.js\";\nfunction ScrollRestoration() {\n  const router = useRouter();\n  if (!router.isScrollRestoring || !router.isServer) {\n    return null;\n  }\n  if (typeof router.options.scrollRestoration === \"function\") {\n    const shouldRestore = router.options.scrollRestoration({\n      location: router.latestLocation\n    });\n    if (!shouldRestore) {\n      return null;\n    }\n  }\n  const getKey = router.options.getScrollRestorationKey || defaultGetScrollRestorationKey;\n  const userKey = getKey(router.latestLocation);\n  const resolvedKey = userKey !== defaultGetScrollRestorationKey(router.latestLocation) ? userKey : void 0;\n  const restoreScrollOptions = {\n    storageKey,\n    shouldScrollRestoration: true\n  };\n  if (resolvedKey) {\n    restoreScrollOptions.key = resolvedKey;\n  }\n  return /* @__PURE__ */ jsx(\n    ScriptOnce,\n    {\n      children: `(${restoreScroll.toString()})(${JSON.stringify(restoreScrollOptions)})`\n    }\n  );\n}\nexport {\n  ScrollRestoration\n};\n//# sourceMappingURL=scroll-restoration.js.map\n","import { jsxs, jsx, Fragment } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport invariant from \"tiny-invariant\";\nimport warning from \"tiny-warning\";\nimport { isNotFound, rootRouteId, createControlledPromise, isRedirect, getLocationChangeInfo } from \"@tanstack/router-core\";\nimport { CatchBoundary, ErrorComponent } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { CatchNotFound } from \"./not-found.js\";\nimport { matchContext } from \"./matchContext.js\";\nimport { SafeFragment } from \"./SafeFragment.js\";\nimport { renderRouteNotFound } from \"./renderRouteNotFound.js\";\nimport { ScrollRestoration } from \"./scroll-restoration.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nconst Match = React.memo(function MatchImpl({\n  matchId\n}) {\n  const router = useRouter();\n  const matchState = useRouterState({\n    select: (s) => {\n      const match = s.matches.find((d) => d.id === matchId);\n      invariant(\n        match,\n        `Could not find match for matchId \"${matchId}\". Please file an issue!`\n      );\n      return {\n        routeId: match.routeId,\n        ssr: match.ssr,\n        _displayPending: match._displayPending\n      };\n    },\n    structuralSharing: true\n  });\n  const route = router.routesById[matchState.routeId];\n  const PendingComponent = route.options.pendingComponent ?? router.options.defaultPendingComponent;\n  const pendingElement = PendingComponent ? /* @__PURE__ */ jsx(PendingComponent, {}) : null;\n  const routeErrorComponent = route.options.errorComponent ?? router.options.defaultErrorComponent;\n  const routeOnCatch = route.options.onCatch ?? router.options.defaultOnCatch;\n  const routeNotFoundComponent = route.isRoot ? (\n    // If it's the root route, use the globalNotFound option, with fallback to the notFoundRoute's component\n    route.options.notFoundComponent ?? router.options.notFoundRoute?.options.component\n  ) : route.options.notFoundComponent;\n  const resolvedNoSsr = matchState.ssr === false || matchState.ssr === \"data-only\";\n  const ResolvedSuspenseBoundary = (\n    // If we're on the root route, allow forcefully wrapping in suspense\n    (!route.isRoot || route.options.wrapInSuspense || resolvedNoSsr) && (route.options.wrapInSuspense ?? PendingComponent ?? (route.options.errorComponent?.preload || resolvedNoSsr)) ? React.Suspense : SafeFragment\n  );\n  const ResolvedCatchBoundary = routeErrorComponent ? CatchBoundary : SafeFragment;\n  const ResolvedNotFoundBoundary = routeNotFoundComponent ? CatchNotFound : SafeFragment;\n  const resetKey = useRouterState({\n    select: (s) => s.loadedAt\n  });\n  const parentRouteId = useRouterState({\n    select: (s) => {\n      const index = s.matches.findIndex((d) => d.id === matchId);\n      return s.matches[index - 1]?.routeId;\n    }\n  });\n  const ShellComponent = route.isRoot ? route.options.shellComponent ?? SafeFragment : SafeFragment;\n  return /* @__PURE__ */ jsxs(ShellComponent, { children: [\n    /* @__PURE__ */ jsx(matchContext.Provider, { value: matchId, children: /* @__PURE__ */ jsx(ResolvedSuspenseBoundary, { fallback: pendingElement, children: /* @__PURE__ */ jsx(\n      ResolvedCatchBoundary,\n      {\n        getResetKey: () => resetKey,\n        errorComponent: routeErrorComponent || ErrorComponent,\n        onCatch: (error, errorInfo) => {\n          if (isNotFound(error)) throw error;\n          warning(false, `Error in route match: ${matchId}`);\n          routeOnCatch?.(error, errorInfo);\n        },\n        children: /* @__PURE__ */ jsx(\n          ResolvedNotFoundBoundary,\n          {\n            fallback: (error) => {\n              if (!routeNotFoundComponent || error.routeId && error.routeId !== matchState.routeId || !error.routeId && !route.isRoot)\n                throw error;\n              return React.createElement(routeNotFoundComponent, error);\n            },\n            children: resolvedNoSsr || matchState._displayPending ? /* @__PURE__ */ jsx(ClientOnly, { fallback: pendingElement, children: /* @__PURE__ */ jsx(MatchInner, { matchId }) }) : /* @__PURE__ */ jsx(MatchInner, { matchId })\n          }\n        )\n      }\n    ) }) }),\n    parentRouteId === rootRouteId && router.options.scrollRestoration ? /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(OnRendered, {}),\n      /* @__PURE__ */ jsx(ScrollRestoration, {})\n    ] }) : null\n  ] });\n});\nfunction OnRendered() {\n  const router = useRouter();\n  const prevLocationRef = React.useRef(\n    void 0\n  );\n  return /* @__PURE__ */ jsx(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      ref: (el) => {\n        if (el && (prevLocationRef.current === void 0 || prevLocationRef.current.href !== router.latestLocation.href)) {\n          router.emit({\n            type: \"onRendered\",\n            ...getLocationChangeInfo(router.state)\n          });\n          prevLocationRef.current = router.latestLocation;\n        }\n      }\n    },\n    router.latestLocation.state.__TSR_key\n  );\n}\nconst MatchInner = React.memo(function MatchInnerImpl({\n  matchId\n}) {\n  const router = useRouter();\n  const { match, key, routeId } = useRouterState({\n    select: (s) => {\n      const match2 = s.matches.find((d) => d.id === matchId);\n      const routeId2 = match2.routeId;\n      const remountFn = router.routesById[routeId2].options.remountDeps ?? router.options.defaultRemountDeps;\n      const remountDeps = remountFn?.({\n        routeId: routeId2,\n        loaderDeps: match2.loaderDeps,\n        params: match2._strictParams,\n        search: match2._strictSearch\n      });\n      const key2 = remountDeps ? JSON.stringify(remountDeps) : void 0;\n      return {\n        key: key2,\n        routeId: routeId2,\n        match: {\n          id: match2.id,\n          status: match2.status,\n          error: match2.error,\n          invalid: match2.invalid,\n          _forcePending: match2._forcePending,\n          _displayPending: match2._displayPending\n        }\n      };\n    },\n    structuralSharing: true\n  });\n  const route = router.routesById[routeId];\n  const out = React.useMemo(() => {\n    const Comp = route.options.component ?? router.options.defaultComponent;\n    if (Comp) {\n      return /* @__PURE__ */ jsx(Comp, {}, key);\n    }\n    return /* @__PURE__ */ jsx(Outlet, {});\n  }, [key, route.options.component, router.options.defaultComponent]);\n  if (match._displayPending) {\n    throw router.getMatch(match.id)?._nonReactive.displayPendingPromise;\n  }\n  if (match._forcePending) {\n    throw router.getMatch(match.id)?._nonReactive.minPendingPromise;\n  }\n  if (match.status === \"pending\") {\n    const pendingMinMs = route.options.pendingMinMs ?? router.options.defaultPendingMinMs;\n    if (pendingMinMs) {\n      const routerMatch = router.getMatch(match.id);\n      if (routerMatch && !routerMatch._nonReactive.minPendingPromise) {\n        if (!router.isServer) {\n          const minPendingPromise = createControlledPromise();\n          routerMatch._nonReactive.minPendingPromise = minPendingPromise;\n          setTimeout(() => {\n            minPendingPromise.resolve();\n            routerMatch._nonReactive.minPendingPromise = void 0;\n          }, pendingMinMs);\n        }\n      }\n    }\n    throw router.getMatch(match.id)?._nonReactive.loadPromise;\n  }\n  if (match.status === \"notFound\") {\n    invariant(isNotFound(match.error), \"Expected a notFound error\");\n    return renderRouteNotFound(router, route, match.error);\n  }\n  if (match.status === \"redirected\") {\n    invariant(isRedirect(match.error), \"Expected a redirect error\");\n    throw router.getMatch(match.id)?._nonReactive.loadPromise;\n  }\n  if (match.status === \"error\") {\n    if (router.isServer) {\n      const RouteErrorComponent = (route.options.errorComponent ?? router.options.defaultErrorComponent) || ErrorComponent;\n      return /* @__PURE__ */ jsx(\n        RouteErrorComponent,\n        {\n          error: match.error,\n          reset: void 0,\n          info: {\n            componentStack: \"\"\n          }\n        }\n      );\n    }\n    throw match.error;\n  }\n  return out;\n});\nconst Outlet = React.memo(function OutletImpl() {\n  const router = useRouter();\n  const matchId = React.useContext(matchContext);\n  const routeId = useRouterState({\n    select: (s) => s.matches.find((d) => d.id === matchId)?.routeId\n  });\n  const route = router.routesById[routeId];\n  const parentGlobalNotFound = useRouterState({\n    select: (s) => {\n      const matches = s.matches;\n      const parentMatch = matches.find((d) => d.id === matchId);\n      invariant(\n        parentMatch,\n        `Could not find parent match for matchId \"${matchId}\"`\n      );\n      return parentMatch.globalNotFound;\n    }\n  });\n  const childMatchId = useRouterState({\n    select: (s) => {\n      const matches = s.matches;\n      const index = matches.findIndex((d) => d.id === matchId);\n      return matches[index + 1]?.id;\n    }\n  });\n  const pendingElement = router.options.defaultPendingComponent ? /* @__PURE__ */ jsx(router.options.defaultPendingComponent, {}) : null;\n  if (parentGlobalNotFound) {\n    return renderRouteNotFound(router, route, void 0);\n  }\n  if (!childMatchId) {\n    return null;\n  }\n  const nextMatch = /* @__PURE__ */ jsx(Match, { matchId: childMatchId });\n  if (routeId === rootRouteId) {\n    return /* @__PURE__ */ jsx(React.Suspense, { fallback: pendingElement, children: nextMatch });\n  }\n  return nextMatch;\n});\nexport {\n  Match,\n  MatchInner,\n  Outlet\n};\n//# sourceMappingURL=Match.js.map\n","import { jsxs, jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport warning from \"tiny-warning\";\nimport { rootRouteId } from \"@tanstack/router-core\";\nimport { CatchBoundary, ErrorComponent } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { Transitioner } from \"./Transitioner.js\";\nimport { matchContext } from \"./matchContext.js\";\nimport { Match } from \"./Match.js\";\nimport { SafeFragment } from \"./SafeFragment.js\";\nfunction Matches() {\n  const router = useRouter();\n  const rootRoute = router.routesById[rootRouteId];\n  const PendingComponent = rootRoute.options.pendingComponent ?? router.options.defaultPendingComponent;\n  const pendingElement = PendingComponent ? /* @__PURE__ */ jsx(PendingComponent, {}) : null;\n  const ResolvedSuspense = router.isServer || typeof document !== \"undefined\" && router.ssr ? SafeFragment : React.Suspense;\n  const inner = /* @__PURE__ */ jsxs(ResolvedSuspense, { fallback: pendingElement, children: [\n    !router.isServer && /* @__PURE__ */ jsx(Transitioner, {}),\n    /* @__PURE__ */ jsx(MatchesInner, {})\n  ] });\n  return router.options.InnerWrap ? /* @__PURE__ */ jsx(router.options.InnerWrap, { children: inner }) : inner;\n}\nfunction MatchesInner() {\n  const router = useRouter();\n  const matchId = useRouterState({\n    select: (s) => {\n      return s.matches[0]?.id;\n    }\n  });\n  const resetKey = useRouterState({\n    select: (s) => s.loadedAt\n  });\n  const matchComponent = matchId ? /* @__PURE__ */ jsx(Match, { matchId }) : null;\n  return /* @__PURE__ */ jsx(matchContext.Provider, { value: matchId, children: router.options.disableGlobalCatchBoundary ? matchComponent : /* @__PURE__ */ jsx(\n    CatchBoundary,\n    {\n      getResetKey: () => resetKey,\n      errorComponent: ErrorComponent,\n      onCatch: (error) => {\n        warning(\n          false,\n          `The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!`\n        );\n        warning(false, error.message || error.toString());\n      },\n      children: matchComponent\n    }\n  ) });\n}\nfunction useMatchRoute() {\n  const router = useRouter();\n  useRouterState({\n    select: (s) => [s.location.href, s.resolvedLocation?.href, s.status],\n    structuralSharing: true\n  });\n  return React.useCallback(\n    (opts) => {\n      const { pending, caseSensitive, fuzzy, includeSearch, ...rest } = opts;\n      return router.matchRoute(rest, {\n        pending,\n        caseSensitive,\n        fuzzy,\n        includeSearch\n      });\n    },\n    [router]\n  );\n}\nfunction MatchRoute(props) {\n  const matchRoute = useMatchRoute();\n  const params = matchRoute(props);\n  if (typeof props.children === \"function\") {\n    return props.children(params);\n  }\n  return params ? props.children : null;\n}\nfunction useMatches(opts) {\n  return useRouterState({\n    select: (state) => {\n      const matches = state.matches;\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nfunction useParentMatches(opts) {\n  const contextMatchId = React.useContext(matchContext);\n  return useMatches({\n    select: (matches) => {\n      matches = matches.slice(\n        0,\n        matches.findIndex((d) => d.id === contextMatchId)\n      );\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nfunction useChildMatches(opts) {\n  const contextMatchId = React.useContext(matchContext);\n  return useMatches({\n    select: (matches) => {\n      matches = matches.slice(\n        matches.findIndex((d) => d.id === contextMatchId) + 1\n      );\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nexport {\n  MatchRoute,\n  Matches,\n  useChildMatches,\n  useMatchRoute,\n  useMatches,\n  useParentMatches\n};\n//# sourceMappingURL=Matches.js.map\n","import { RouterCore } from \"@tanstack/router-core\";\nimport { createFileRoute, createLazyFileRoute } from \"./fileRoute.js\";\nconst createRouter = (options) => {\n  return new Router(options);\n};\nclass Router extends RouterCore {\n  constructor(options) {\n    super(options);\n  }\n}\nif (typeof globalThis !== \"undefined\") {\n  globalThis.createFileRoute = createFileRoute;\n  globalThis.createLazyFileRoute = createLazyFileRoute;\n} else if (typeof window !== \"undefined\") {\n  window.createFileRoute = createFileRoute;\n  window.createLazyFileRoute = createLazyFileRoute;\n}\nexport {\n  Router,\n  createRouter\n};\n//# sourceMappingURL=router.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { Matches } from \"./Matches.js\";\nimport { getRouterContext } from \"./routerContext.js\";\nfunction RouterContextProvider({\n  router,\n  children,\n  ...rest\n}) {\n  if (Object.keys(rest).length > 0) {\n    router.update({\n      ...router.options,\n      ...rest,\n      context: {\n        ...router.options.context,\n        ...rest.context\n      }\n    });\n  }\n  const routerContext = getRouterContext();\n  const provider = /* @__PURE__ */ jsx(routerContext.Provider, { value: router, children });\n  if (router.options.Wrap) {\n    return /* @__PURE__ */ jsx(router.options.Wrap, { children: provider });\n  }\n  return provider;\n}\nfunction RouterProvider({ router, ...rest }) {\n  return /* @__PURE__ */ jsx(RouterContextProvider, { router, ...rest, children: /* @__PURE__ */ jsx(Matches, {}) });\n}\nexport {\n  RouterContextProvider,\n  RouterProvider\n};\n//# sourceMappingURL=RouterProvider.js.map\n","import { useRouterState } from \"./useRouterState.js\";\nfunction useLocation(opts) {\n  return useRouterState({\n    select: (state) => opts?.select ? opts.select(state.location) : state.location\n  });\n}\nexport {\n  useLocation\n};\n//# sourceMappingURL=useLocation.js.map\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","__storeToDerived","__derivedToStore","__depsThatHaveWrittenThisTick","__isFlushing","__batchDepth","__pendingUpdates","__initialBatchValues","__flush_internals","relatedVals","derived","stores","store","relatedLinkedDerivedVals","__notifyListeners","value","listener","__notifyDerivedListeners","__flush","store2","prevState","derivedVals","batch","fn","pendingUpdateToFlush","isUpdaterFunction","updater","Store","initialState","options","_a","_b","unsub","_c","stateIndexKey","popStateEvent","beforeUnloadEvent","createHistory","opts","location","subscribers","notify","action","subscriber","handleIndexChange","tryNavigation","task","navigateOpts","actionInfo","blockers","isPushOrReplace","blocker","nextLocation","parseHref","cb","path","state","currentIndex","assignKeyAndIndex","index","str","blockers2","key","createRandomKey","createBrowserHistory","win","originalPushState","originalReplaceState","_getBlockers","_setBlockers","newBlockers","createHref","parseLocation","addedKey","currentLocation","rollbackLocation","nextPopIsGo","ignoreNextPop","skipBlockerNextPop","ignoreNextBeforeUnload","getLocation","next","scheduled","flush","history","queueHistoryAction","type","destHref","href","onPushPop","onPushPopEvent","delta","isForward","isBack","isGo","onBeforeUnload","shouldBlock","shouldHaveBeforeUnload","ignoreBlocker","args","res","sanitizePath","sanitized","sanitizedHref","hashIndex","searchIndex","last","arr","isFunction","functionalUpdate","previous","hasOwn","replaceEqualDeep","prev","_next","array","isPlainArray","isPlainObject","prevItems","getEnumerableOwnKeys","nextItems","prevSize","nextSize","copy","equalItems","i","v","o","keys","names","name","symbols","symbol","hasObjectPrototype","ctor","prot","deepEqual","ignoreUndefined","aCount","bCount","createControlledPromise","onResolve","resolveLoadPromise","rejectLoadPromise","controlledPromise","resolve","reject","isPromise","sanitizePathSegment","segment","decodeSegment","decoded","match","decodePath","decodeIgnore","re","cursor","result","prefix","invariant","condition","message","createLRUCache","max","cache","oldest","newest","touch","entry","toDelete","existing","SEGMENT_TYPE_PATHNAME","SEGMENT_TYPE_PARAM","SEGMENT_TYPE_WILDCARD","SEGMENT_TYPE_OPTIONAL_PARAM","SEGMENT_TYPE_INDEX","PARAM_W_CURLY_BRACES_RE","OPTIONAL_PARAM_W_CURLY_BRACES_RE","WILDCARD_W_CURLY_BRACES_RE","parseSegment","start","output","end","part","total","wildcardBracesMatch","pLength","optionalParamBracesMatch","paramName","suffix","paramBracesMatch","parseSegments","defaultCaseSensitive","data","route","node","depth","onRoute","length","caseSensitive","nextNode","start2","existingNode","createStaticNode","prefix_raw","suffix_raw","actuallyCaseSensitive","_d","s","createDynamicNode","_e","isLeaf","indexNode","child","sortDynamic","sortTreeNodes","fullPath","kind","processRouteMasks","routeList","processedTree","segmentTree","findFlatMatch","cached","findMatch","findSingleMatch","from","fuzzy","tree","findRouteMatch","buildRouteBranch","trimPathRight","processRouteTree","routeTree","initRoute","routesById","routesByPath","trimmedFullPath","parts","leaf","getNodeMatch","params","extractParams","list","buildBranch","nodeParts","partIndex","nodeIndex","pathIndex","currentPathIndex","nodePart","preLength","sufLength","_f","splat","trailingSlash","pathIsIndex","partsLength","stack","wildcardMatch","bestFuzzy","bestMatch","frame","skipped","statics","dynamics","optionals","isFrameMoreSpecific","isBeyondPath","lowerPart","indexFrame","nextSkipped","nextDepth","casePart","sliceIndex","joinPaths","paths","cleanPath","val","trimPathLeft","len","trimPath","removeTrailingSlash","basepath","exactPathTest","pathName1","pathName2","resolvePath","base","to","isAbsolute","isBase","baseSegments","toSegments","joined","encodeParam","decodeCharMap","encodePathParam","interpolatePath","isMissingParams","usedParams","valueRaw","encoded","encodedChar","char","isNotFound","obj","getSafeSessionStorage","storageKey","throttle","wait","timeout","createScrollRestorationCache","safeSessionStorage","persistedState","scrollRestorationCache","defaultGetScrollRestorationKey","getCssSelector","el","parent","ignoreScroll","restoreScroll","storageKey2","behavior","shouldScrollRestoration","scrollToTopSelectors","byKey","error","resolvedKey","elementEntries","scroll","elementSelector","element","hash","hashScrollIntoViewOptions","scrollOptions","selector","setupScrollRestoration","router","force","getKey","onScroll","event","attrId","restoreKey","keyEntry","elementEntry","cacheKey","handleHashScroll","encode","stringify","toValue","decode","searchParams","previousValue","defaultParseSearch","parseSearchWith","defaultStringifySearch","stringifySearchWith","parser","searchStr","query","hasParser","stringifyValue","search","rootRouteId","redirect","headers","response","isRedirect","triggerOnReady","inner","resolvePreload","matchId","buildMatchContext","includeCurrentMatch","context","innerMatch","_handleNotFound","err","routeCursor","matchForRoute","handleRedirectAndNotFound","status","shouldSkipLoader","handleSerialError","routerCode","routeId","errorHandlerErr","isBeforeLoadSsr","existingMatch","parentMatchId","parentMatch","parentOverride","tempSsr2","defaultSsr","ssrFnContext","makeMaybe","tempSsr","ssr","setupPendingTimeout","pendingMs","routeNeedsPreload","pendingTimeout","preBeforeLoadSetup","then","executeBeforeLoad","prevLoadPromise","paramsError","searchError","abortController","isPending","pending","cause","preload","beforeLoadFnContext","updateContext","beforeLoadContext2","beforeLoadContext","handleBeforeLoad","serverSsr","maybePromise","queueExecution","execute","executeHead","assetContext","headFnContent","scripts","meta","links","headScripts","styles","getLoaderContext","parentMatchPromise","loaderDeps","runLoader","loadRouteChunk","loaderResult","loaderResultIsPromise","loaderData","pendingPromise","onErrorError","loadRouteMatch","loaderShouldRunAsync","loaderIsRunningAsync","commitContext","prevMatch","match2","age","staleAge","shouldReloadOption","shouldReload","nextPreload","invalid","match3","nextIsFetching","loadMatches","arg","beforeLoad","failures","firstNotFound","headResult","head","readyPromise","lazyRoute","_id","loadComponents","preloads","componentTypes","componentType","composeRewrites","rewrites","url","rewrite","executeRewriteInput","executeRewriteOutput","rewriteBasepath","trimmedBasepath","normalizedBasepath","normalizedBasepathWithSlash","checkBasepath","checkBasepathWithSlash","pathname","getLocationChangeInfo","routerState","fromLocation","toLocation","pathChanged","hrefChanged","hashChanged","RouterCore","newOptions","prevOptions","prevBasepath","basepathWasUnset","prevRewriteOption","getInitialRouterState","needsLocationUpdate","nextBasepath","nextRewriteOption","notFoundRoute","eventType","routerEvent","locationToParse","previousLocation","parse","fullUrl","parsedSearch","__tempLocation","__tempKey","parsedTempLocation","pathnameOrNext","locationSearchOrOpts","getMatchedRoutes","id","currentPendingMatches","currentLoadingMatches","build","dest","allCurrentLocationMatches","lastMatch","defaultedFromPath","fromPath","fromSearch","fromParams","nextTo","nextParams","interpolatedNextTo","destRoutes","nextPathname","nextSearch","validatedSearch","validateSearch","applySearchMiddleware","hashStr","nextState","rewrittenUrl","buildWithMatches","maskedDest","maskedNext","_from","maskParams","maskProps","viewTransition","isSameState","ignoredProps","prop","isEqual","isSameUrl","previousCommitPromise","maskedLocation","hashScrollIntoView","_url","nextHistory","replace","resetScroll","rest","parsed","commitPromise","reloadDocument","publicHref","hrefIsUrl","reloadHref","historyWithBlockers","pendingMatches","redirect2","notFound","loadPromise","prevLocation","exitingMatches","enteringMatches","stayingMatches","previousMatches","newMatches","matches","hook","newStatusCode","shouldViewTransition","startViewTransitionParams","resolvedViewTransitionTypes","matchesKey","findFn","invalidate","filter","gcTime","activeMatchIds","loadedMatchIds","matchLocation","baseLocation","matchedRoutesResult","foundRoute","routeParams","matchedRoutes","isGlobalNotFound","globalNotFoundRouteId","getParentContext","preMatchSearch","strictMatchSearch","parentSearch","parentStrictSearch","strictSearch","searchParamError","SearchParamError","loaderDepsHash","interpolatedPath","previousMatch","strictParams","strictParseParams","PathParamError","parentContext","contextFnContext","opts2","validateSearch2","input","trimmedPath","_includeValidateSearch","allMiddlewares","acc","middlewares","legacyMiddleware","search2","next2","validate","final","applyNext","currentSearch","middleware","newSearch","preloadWarning","BaseRoute","options2","isRoot","customId","children","lazyFn","BaseRootRoute","CatchBoundary","props","errorComponent","ErrorComponent","jsx","CatchBoundaryImpl","reset","React.createElement","React.Component","prevProps","errorInfo","show","setShow","React.useState","jsxs","ClientOnly","fallback","useHydrated","React__default","subscribe","React","is","x","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","useStore","equal","shallow","useSyncExternalStoreWithSelector","objA","objB","keysA","getOwnKeys","routerContext","React.createContext","getRouterContext","useRouter","React.useContext","useRouterState","contextRouter","previousResult","newSlice","matchContext","dummyMatchContext","useMatch","nearestMatchId","useLoaderData","useLoaderDeps","select","useParams","useSearch","React.useLayoutEffect","React.useEffect","usePrevious","ref","React.useRef","current","useIntersectionObserver","callback","intersectionObserverOptions","observer","useForwardedRef","innerRef","React.useImperativeHandle","useNavigate","_defaultOpts","React.useCallback","useLinkProps","forwardedRef","isTransitioning","setIsTransitioning","hasRenderFetched","activeProps","inactiveProps","activeOptions","userPreload","userPreloadDelay","startTransition","target","disabled","style","className","onClick","onFocus","onMouseEnter","onMouseLeave","onTouchStart","_params","_search","_hash","_state","_mask","_reloadDocument","_unsafeRelative","_fromLocation","propsSafeToSpread","_options","React.useMemo","hrefOption","external","externalLink","preloadDelay","isActive","currentPathSplit","nextPathSplit","doPreload","preloadViewportIoCallback","handleClick","elementTarget","effectiveTarget","isCtrlEvent","flushSync","handleFocus","_","handleTouchStart","handleEnter","eventTarget","timeoutMap","handleLeave","resolvedActiveProps","STATIC_ACTIVE_OBJECT","STATIC_EMPTY_OBJECT","resolvedInactiveProps","resolvedClassName","resolvedStyle","composeHandlers","STATIC_DISABLED_PROPS","STATIC_ACTIVE_PROPS","STATIC_TRANSITIONING_PROPS","handlers","handler","Link","React.forwardRef","_asChild","_type","linkProps","Route","createRoute","RootRoute","createRootRoute","createFileRoute","FileRoute","_opts","LazyRoute","createLazyFileRoute","Transitioner","mountLoadForRouter","hasPendingMatches","isLoading","previousIsLoading","isAnyPending","previousIsAnyPending","isPagePending","previousIsPagePending","React.startTransition","changeInfo","CatchNotFound","resetKey","DefaultGlobalNotFound","SafeFragment","Fragment","renderRouteNotFound","ScriptOnce","ScrollRestoration","userKey","restoreScrollOptions","Match","React.memo","matchState","PendingComponent","pendingElement","routeErrorComponent","routeOnCatch","routeNotFoundComponent","resolvedNoSsr","ResolvedSuspenseBoundary","React.Suspense","ResolvedCatchBoundary","ResolvedNotFoundBoundary","parentRouteId","ShellComponent","MatchInner","OnRendered","prevLocationRef","routeId2","remountFn","remountDeps","out","Comp","Outlet","pendingMinMs","routerMatch","minPendingPromise","RouteErrorComponent","parentGlobalNotFound","childMatchId","nextMatch","Matches","ResolvedSuspense","MatchesInner","matchComponent","createRouter","Router","RouterContextProvider","provider","RouterProvider","useLocation"],"mappings":";;;;;;;;GASa,IAAIA,GAAEC,EAAiBC,GAAE,OAAO,IAAI,eAAe,EAAEC,GAAE,OAAO,IAAI,gBAAgB,EAAEC,GAAE,OAAO,UAAU,eAAeC,GAAEL,GAAE,mDAAmD,kBAAkBM,GAAE,CAAC,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,EAAE,EAClP,SAASC,GAAEC,EAAEC,EAAEC,EAAE,CAAC,IAAIC,EAAEC,EAAE,GAAGC,EAAE,KAAKC,EAAE,KAAcJ,IAAT,SAAaG,EAAE,GAAGH,GAAYD,EAAE,MAAX,SAAiBI,EAAE,GAAGJ,EAAE,KAAcA,EAAE,MAAX,SAAiBK,EAAEL,EAAE,KAAK,IAAIE,KAAKF,EAAEL,GAAE,KAAKK,EAAEE,CAAC,GAAG,CAACL,GAAE,eAAeK,CAAC,IAAIC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,GAAGH,GAAGA,EAAE,aAAa,IAAIG,KAAKF,EAAED,EAAE,aAAaC,EAAWG,EAAED,CAAC,aAAIC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,MAAM,CAAC,SAAST,GAAE,KAAKM,EAAE,IAAIK,EAAE,IAAIC,EAAE,MAAMF,EAAE,OAAOP,GAAE,OAAO,CAAC,aAAkBF,GAAEY,GAAA,IAAYR,GAAEQ,GAAA,KAAaR,GCPxWS,GAAA,QAAiBf,oBCHnB,MAAMgB,GAAmC,IAAI,QACvCC,GAAmC,IAAI,QACvCC,GAAgC,CACpC,QAAS,CAAA,CACX,EACA,IAAIC,GAAe,GACfC,GAAe,EACnB,MAAMC,GAAmC,IAAI,IACvCC,GAAuC,IAAI,IACjD,SAASC,GAAkBC,EAAa,CACtC,UAAWC,KAAWD,EAAa,CACjC,GAAIN,GAA8B,QAAQ,SAASO,CAAO,EACxD,SAEFP,GAA8B,QAAQ,KAAKO,CAAO,EAClDA,EAAQ,UAAS,EACjB,MAAMC,EAAST,GAAiB,IAAIQ,CAAO,EAC3C,GAAIC,EACF,UAAWC,KAASD,EAAQ,CAC1B,MAAME,EAA2BZ,GAAiB,IAAIW,CAAK,EACrDC,GAA4B,MAAgBA,EAAyB,QAC3EL,GAAkBK,CAAwB,CAC5C,CAEJ,CACF,CACA,SAASC,GAAkBF,EAAO,CAChC,MAAMG,EAAQ,CACZ,QAASH,EAAM,UACf,WAAYA,EAAM,KACtB,EACE,UAAWI,KAAYJ,EAAM,UAC3BI,EAASD,CAAK,CAElB,CACA,SAASE,GAAyBP,EAAS,CACzC,MAAMK,EAAQ,CACZ,QAASL,EAAQ,UACjB,WAAYA,EAAQ,KACxB,EACE,UAAWM,KAAYN,EAAQ,UAC7BM,EAASD,CAAK,CAElB,CACA,SAASG,GAAQN,EAAO,CAKtB,GAJIP,GAAe,GAAK,CAACE,GAAqB,IAAIK,CAAK,GACrDL,GAAqB,IAAIK,EAAOA,EAAM,SAAS,EAEjDN,GAAiB,IAAIM,CAAK,EACtB,EAAAP,GAAe,IACf,CAAAD,GACJ,GAAI,CAEF,IADAA,GAAe,GACRE,GAAiB,KAAO,GAAG,CAChC,MAAMK,EAAS,MAAM,KAAKL,EAAgB,EAC1CA,GAAiB,MAAK,EACtB,UAAWa,KAAUR,EAAQ,CAC3B,MAAMS,EAAYb,GAAqB,IAAIY,CAAM,GAAKA,EAAO,UAC7DA,EAAO,UAAYC,EACnBN,GAAkBK,CAAM,CAC1B,CACA,UAAWA,KAAUR,EAAQ,CAC3B,MAAMU,EAAcpB,GAAiB,IAAIkB,CAAM,EAC1CE,IACLlB,GAA8B,QAAQ,KAAKgB,CAAM,EACjDX,GAAkBa,CAAW,EAC/B,CACA,UAAWF,KAAUR,EAAQ,CAC3B,MAAMU,EAAcpB,GAAiB,IAAIkB,CAAM,EAC/C,GAAKE,EACL,UAAWX,KAAWW,EACpBJ,GAAyBP,CAAO,CAEpC,CACF,CACF,QAAC,CACCN,GAAe,GACfD,GAA8B,QAAU,CAAA,EACxCI,GAAqB,MAAK,CAC5B,CACF,CACA,SAASe,GAAMC,EAAI,CACjBlB,KACA,GAAI,CACFkB,EAAE,CACJ,QAAC,CAEC,GADAlB,KACIA,KAAiB,EAAG,CACtB,MAAMmB,EAAuBlB,GAAiB,OAAM,EAAG,KAAI,EAAG,MAC1DkB,GACFN,GAAQM,CAAoB,CAEhC,CACF,CACF,CC9FA,SAASC,GAAkBC,EAAS,CAClC,OAAO,OAAOA,GAAY,UAC5B,CCAA,MAAMC,EAAM,CACV,YAAYC,EAAcC,EAAS,CACjC,KAAK,UAA4B,IAAI,IACrC,KAAK,UAAab,GAAa,CAC7B,IAAIc,EAAIC,EACR,KAAK,UAAU,IAAIf,CAAQ,EAC3B,MAAMgB,GAASD,GAAMD,EAAK,KAAK,UAAY,KAAO,OAASA,EAAG,cAAgB,KAAO,OAASC,EAAG,KAAKD,EAAId,EAAU,IAAI,EACxH,MAAO,IAAM,CACX,KAAK,UAAU,OAAOA,CAAQ,EAC9BgB,GAAS,MAAgBA,EAAK,CAChC,CACF,EACA,KAAK,UAAYJ,EACjB,KAAK,MAAQA,EACb,KAAK,QAAUC,CACjB,CACA,SAASH,EAAS,CAChB,IAAII,EAAIC,EAAIE,EACZ,KAAK,UAAY,KAAK,OACjBH,EAAK,KAAK,UAAY,MAAgBA,EAAG,SAC5C,KAAK,MAAQ,KAAK,QAAQ,SAAS,KAAK,SAAS,EAAEJ,CAAO,EAEtDD,GAAkBC,CAAO,EAC3B,KAAK,MAAQA,EAAQ,KAAK,SAAS,EAEnC,KAAK,MAAQA,GAGhBO,GAAMF,EAAK,KAAK,UAAY,KAAO,OAASA,EAAG,WAAa,MAAgBE,EAAG,KAAKF,CAAE,EACvFb,GAAQ,IAAI,CACd,CACF,CCjCA,MAAMgB,EAAgB,cAChBC,GAAgB,WAChBC,GAAoB,eAC1B,SAASC,GAAcC,EAAM,CAC3B,IAAIC,EAAWD,EAAK,YAAW,EAC/B,MAAME,EAA8B,IAAI,IAClCC,EAAUC,GAAW,CACzBH,EAAWD,EAAK,YAAW,EAC3BE,EAAY,QAASG,GAAeA,EAAW,CAAE,SAAAJ,EAAU,OAAAG,CAAM,CAAE,CAAC,CACtE,EACME,EAAqBF,GAAW,CAChCJ,EAAK,qBAAuB,GAAMG,EAAOC,CAAM,EAC9CH,EAAWD,EAAK,YAAW,CAClC,EACMO,EAAgB,MAAO,CAC3B,KAAAC,EACA,aAAAC,EACA,GAAGC,CACP,IAAQ,SAEJ,IADsBD,GAAA,YAAAA,EAAc,gBAAiB,GAClC,CACjBD,EAAI,EACJ,MACF,CACA,MAAMG,IAAWnB,EAAAQ,EAAK,cAAL,YAAAR,EAAA,KAAAQ,KAAwB,CAAA,EACnCY,EAAkBF,EAAW,OAAS,QAAUA,EAAW,OAAS,UAC1E,GAAI,OAAO,SAAa,KAAeC,EAAS,QAAUC,EACxD,UAAWC,KAAWF,EAAU,CAC9B,MAAMG,EAAeC,GAAUL,EAAW,KAAMA,EAAW,KAAK,EAMhE,GALkB,MAAMG,EAAQ,UAAU,CACxC,gBAAiBZ,EACjB,aAAAa,EACA,OAAQJ,EAAW,IAC7B,CAAS,EACc,EACbjB,EAAAO,EAAK,YAAL,MAAAP,EAAA,KAAAO,GACA,MACF,CACF,CAEFQ,EAAI,CACN,EACA,MAAO,CACL,IAAI,UAAW,CACb,OAAOP,CACT,EACA,IAAI,QAAS,CACX,OAAOD,EAAK,UAAS,CACvB,EACA,YAAAE,EACA,UAAYc,IACVd,EAAY,IAAIc,CAAE,EACX,IAAM,CACXd,EAAY,OAAOc,CAAE,CACvB,GAEF,KAAM,CAACC,EAAMC,EAAOT,IAAiB,CACnC,MAAMU,EAAelB,EAAS,MAAML,CAAa,EACjDsB,EAAQE,GAAkBD,EAAe,EAAGD,CAAK,EACjDX,EAAc,CACZ,KAAM,IAAM,CACVP,EAAK,UAAUiB,EAAMC,CAAK,EAC1Bf,EAAO,CAAE,KAAM,OAAQ,CACzB,EACA,aAAAM,EACA,KAAM,OACN,KAAAQ,EACA,MAAAC,CACR,CAAO,CACH,EACA,QAAS,CAACD,EAAMC,EAAOT,IAAiB,CACtC,MAAMU,EAAelB,EAAS,MAAML,CAAa,EACjDsB,EAAQE,GAAkBD,EAAcD,CAAK,EAC7CX,EAAc,CACZ,KAAM,IAAM,CACVP,EAAK,aAAaiB,EAAMC,CAAK,EAC7Bf,EAAO,CAAE,KAAM,UAAW,CAC5B,EACA,aAAAM,EACA,KAAM,UACN,KAAAQ,EACA,MAAAC,CACR,CAAO,CACH,EACA,GAAI,CAACG,EAAOZ,IAAiB,CAC3BF,EAAc,CACZ,KAAM,IAAM,CACVP,EAAK,GAAGqB,CAAK,EACbf,EAAkB,CAAE,KAAM,KAAM,MAAAe,CAAK,CAAE,CACzC,EACA,aAAAZ,EACA,KAAM,IACd,CAAO,CACH,EACA,KAAOA,GAAiB,CACtBF,EAAc,CACZ,KAAM,IAAM,CACVP,EAAK,MAAKS,GAAA,YAAAA,EAAc,gBAAiB,EAAK,EAC9CH,EAAkB,CAAE,KAAM,OAAQ,CACpC,EACA,aAAAG,EACA,KAAM,MACd,CAAO,CACH,EACA,QAAUA,GAAiB,CACzBF,EAAc,CACZ,KAAM,IAAM,CACVP,EAAK,SAAQS,GAAA,YAAAA,EAAc,gBAAiB,EAAK,EACjDH,EAAkB,CAAE,KAAM,UAAW,CACvC,EACA,aAAAG,EACA,KAAM,SACd,CAAO,CACH,EACA,UAAW,IAAMR,EAAS,MAAML,CAAa,IAAM,EACnD,WAAa0B,GAAQtB,EAAK,WAAWsB,CAAG,EACxC,MAAQT,GAAY,OAClB,GAAI,CAACb,EAAK,YAAa,MAAO,IAAM,CACpC,EACA,MAAMW,IAAWnB,EAAAQ,EAAK,cAAL,YAAAR,EAAA,KAAAQ,KAAwB,CAAA,EACzC,OAAAA,EAAK,YAAY,CAAC,GAAGW,EAAUE,CAAO,CAAC,EAChC,IAAM,SACX,MAAMU,IAAY/B,EAAAQ,EAAK,cAAL,YAAAR,EAAA,KAAAQ,KAAwB,CAAA,GAC1CP,EAAAO,EAAK,cAAL,MAAAP,EAAA,KAAAO,EAAmBuB,EAAU,OAAQlE,GAAMA,IAAMwD,CAAO,EAC1D,CACF,EACA,MAAO,IAAA,OAAM,OAAArB,EAAAQ,EAAK,QAAL,YAAAR,EAAA,KAAAQ,IACb,QAAS,IAAA,OAAM,OAAAR,EAAAQ,EAAK,UAAL,YAAAR,EAAA,KAAAQ,IACf,OAAAG,CACJ,CACA,CACA,SAASiB,GAAkBC,EAAOH,EAAO,CAClCA,IACHA,EAAQ,CAAA,GAEV,MAAMM,EAAMC,GAAe,EAC3B,MAAO,CACL,GAAGP,EACH,IAAAM,EAEA,UAAWA,EACX,CAAC5B,CAAa,EAAGyB,CACrB,CACA,CACA,SAASK,GAAqB1B,EAAM,SAClC,MAAM2B,EAAuB,OAAO,SAAa,IAAc,OAAS,OAClEC,EAAoBD,EAAI,QAAQ,UAChCE,EAAuBF,EAAI,QAAQ,aACzC,IAAIhB,EAAW,CAAA,EACf,MAAMmB,EAAe,IAAMnB,EACrBoB,EAAgBC,GAAgBrB,EAAWqB,EAC3CC,EAAmChB,GAASA,EAC5CiB,EAAwC,IAAMnB,GAClD,GAAGY,EAAI,SAAS,QAAQ,GAAGA,EAAI,SAAS,MAAM,GAAGA,EAAI,SAAS,IAAI,GAClEA,EAAI,QAAQ,KAChB,EACE,GAAI,GAACnC,EAAAmC,EAAI,QAAQ,QAAZ,MAAAnC,EAAmB,YAAa,GAACC,EAAAkC,EAAI,QAAQ,QAAZ,MAAAlC,EAAmB,KAAK,CAC5D,MAAM0C,EAAWV,GAAe,EAChCE,EAAI,QAAQ,aACV,CACE,CAAC/B,CAAa,EAAG,EACjB,IAAKuC,EAEL,UAAWA,CACnB,EACM,EACN,CACE,CACA,IAAIC,EAAkBF,EAAa,EAC/BG,EACAC,EAAc,GACdC,EAAgB,GAChBC,EAAqB,GACrBC,EAAyB,GAC7B,MAAMC,EAAc,IAAMN,EAC1B,IAAIO,EACAC,EACJ,MAAMC,EAAQ,IAAM,CACbF,IAGLG,EAAQ,mBAAqB,IAC5BH,EAAK,OAAShB,EAAI,QAAQ,UAAYA,EAAI,QAAQ,cACjDgB,EAAK,MACL,GACAA,EAAK,IACX,EACIG,EAAQ,mBAAqB,GAC7BH,EAAO,OACPC,EAAY,OACZP,EAAmB,OACrB,EACMU,EAAqB,CAACC,EAAMC,EAAU/B,IAAU,CACpD,MAAMgC,EAAOjB,EAAWgB,CAAQ,EAC3BL,IACHP,EAAmBD,GAErBA,EAAkBrB,GAAUkC,EAAU/B,CAAK,EAC3CyB,EAAO,CACL,KAAAO,EACA,MAAAhC,EACA,QAAQyB,GAAA,YAAAA,EAAM,SAAUK,IAAS,MACvC,EACSJ,IACHA,EAAY,QAAQ,QAAO,EAAG,KAAK,IAAMC,EAAK,CAAE,EAEpD,EACMM,EAAaH,GAAS,CAC1BZ,EAAkBF,EAAa,EAC/BY,EAAQ,OAAO,CAAE,KAAAE,EAAM,CACzB,EACMI,EAAiB,SAAY,CACjC,GAAIb,EAAe,CACjBA,EAAgB,GAChB,MACF,CACA,MAAMzB,EAAeoB,EAAa,EAC5BmB,EAAQvC,EAAa,MAAMlB,CAAa,EAAIwC,EAAgB,MAAMxC,CAAa,EAC/E0D,EAAYD,IAAU,EACtBE,EAASF,IAAU,GACnBG,EAAO,CAACF,GAAa,CAACC,GAAUjB,EACtCA,EAAc,GACd,MAAMlC,GAASoD,EAAO,KAAOD,EAAS,OAAS,UACzCpD,EAASqD,EAAO,CACpB,KAAM,KACN,MAAOH,CACb,EAAQ,CACF,KAAME,EAAS,OAAS,SAC9B,EACI,GAAIf,EACFA,EAAqB,OAChB,CACL,MAAMjB,EAAYO,EAAY,EAC9B,GAAI,OAAO,SAAa,KAAeP,EAAU,QAC/C,UAAWV,KAAWU,EAMpB,GALkB,MAAMV,EAAQ,UAAU,CACxC,gBAAAuB,EACA,aAAAtB,EACA,OAAAV,EACZ,CAAW,EACc,CACbmC,EAAgB,GAChBZ,EAAI,QAAQ,GAAG,CAAC,EAChBmB,EAAQ,OAAO3C,CAAM,EACrB,MACF,EAGN,CACAiC,EAAkBF,EAAa,EAC/BY,EAAQ,OAAO3C,CAAM,CACvB,EACMsD,EAAkBlG,GAAM,CAC5B,GAAIkF,EAAwB,CAC1BA,EAAyB,GACzB,MACF,CACA,IAAIiB,EAAc,GAClB,MAAMnC,EAAYO,EAAY,EAC9B,GAAI,OAAO,SAAa,KAAeP,EAAU,OAC/C,UAAWV,KAAWU,EAAW,CAC/B,MAAMoC,EAAyB9C,EAAQ,oBAAsB,GAC7D,GAAI8C,IAA2B,GAAM,CACnCD,EAAc,GACd,KACF,CACA,GAAI,OAAOC,GAA2B,YAAcA,EAAsB,IAAO,GAAM,CACrFD,EAAc,GACd,KACF,CACF,CAEF,GAAIA,EACF,OAAAnG,EAAE,eAAc,EACTA,EAAE,YAAc,EAG3B,EACMuF,EAAU/C,GAAc,CAC5B,YAAA2C,EACA,UAAW,IAAMf,EAAI,QAAQ,OAC7B,UAAW,CAACuB,EAAMhC,IAAU6B,EAAmB,OAAQG,EAAMhC,CAAK,EAClE,aAAc,CAACgC,EAAMhC,IAAU6B,EAAmB,UAAWG,EAAMhC,CAAK,EACxE,KAAO0C,IACDA,IAAepB,EAAqB,IACxCC,EAAyB,GAClBd,EAAI,QAAQ,KAAI,GAEzB,QAAUiC,GAAkB,CACtBA,IAAepB,EAAqB,IACxCC,EAAyB,GACzBd,EAAI,QAAQ,QAAO,CACrB,EACA,GAAK5E,GAAM,CACTuF,EAAc,GACdX,EAAI,QAAQ,GAAG5E,CAAC,CAClB,EACA,WAAamG,GAASjB,EAAWiB,CAAI,EACrC,MAAAL,EACA,QAAS,IAAM,CACblB,EAAI,QAAQ,UAAYC,EACxBD,EAAI,QAAQ,aAAeE,EAC3BF,EAAI,oBAAoB7B,GAAmB2D,EAAgB,CACzD,QAAS,EACjB,CAAO,EACD9B,EAAI,oBAAoB9B,GAAeuD,CAAc,CACvD,EACA,UAAW,IAAM,CACXf,GAAoBD,IAAoBC,IAC1CD,EAAkBC,EAEtB,EACA,YAAaP,EACb,YAAaC,EACb,oBAAqB,EACzB,CAAG,EACD,OAAAJ,EAAI,iBAAiB7B,GAAmB2D,EAAgB,CAAE,QAAS,GAAM,EACzE9B,EAAI,iBAAiB9B,GAAeuD,CAAc,EAClDzB,EAAI,QAAQ,UAAY,YAAYkC,EAAM,CACxC,MAAMC,EAAMlC,EAAkB,MAAMD,EAAI,QAASkC,CAAI,EACrD,OAAKf,EAAQ,oBAAoBK,EAAU,MAAM,EAC1CW,CACT,EACAnC,EAAI,QAAQ,aAAe,YAAYkC,EAAM,CAC3C,MAAMC,EAAMjC,EAAqB,MAAMF,EAAI,QAASkC,CAAI,EACxD,OAAKf,EAAQ,oBAAoBK,EAAU,SAAS,EAC7CW,CACT,EACOhB,CACT,CAsDA,SAASiB,GAAa9C,EAAM,CAC1B,IAAI+C,EAAY/C,EAAK,QAAQ,mBAAoB,EAAE,EACnD,OAAI+C,EAAU,WAAW,IAAI,IAC3BA,EAAY,IAAMA,EAAU,QAAQ,OAAQ,EAAE,GAEzCA,CACT,CACA,SAASjD,GAAUmC,EAAMhC,EAAO,CAC9B,MAAM+C,EAAgBF,GAAab,CAAI,EACjCgB,EAAYD,EAAc,QAAQ,GAAG,EACrCE,EAAcF,EAAc,QAAQ,GAAG,EACvC9B,EAAWV,GAAe,EAChC,MAAO,CACL,KAAMwC,EACN,SAAUA,EAAc,UACtB,EACAC,EAAY,EAAIC,EAAc,EAAI,KAAK,IAAID,EAAWC,CAAW,EAAID,EAAYC,EAAc,EAAIA,EAAcF,EAAc,MACrI,EACI,KAAMC,EAAY,GAAKD,EAAc,UAAUC,CAAS,EAAI,GAC5D,OAAQC,EAAc,GAAKF,EAAc,MACvCE,EACAD,IAAc,GAAK,OAASA,CAClC,EAAQ,GACJ,MAAOhD,GAAS,CAAE,CAACtB,CAAa,EAAG,EAAG,IAAKuC,EAAU,UAAWA,CAAQ,CAC5E,CACA,CACA,SAASV,IAAkB,CACzB,OAAQ,KAAK,SAAW,GAAG,SAAS,EAAE,EAAE,UAAU,CAAC,CACrD,CC3ZA,SAAS2C,GAAKC,EAAK,CACjB,OAAOA,EAAIA,EAAI,OAAS,CAAC,CAC3B,CACA,SAASC,GAAWhH,EAAG,CACrB,OAAO,OAAOA,GAAM,UACtB,CACA,SAASiH,EAAiBnF,EAASoF,EAAU,CAC3C,OAAIF,GAAWlF,CAAO,EACbA,EAAQoF,CAAQ,EAElBpF,CACT,CACA,MAAMqF,GAAS,OAAO,UAAU,eAChC,SAASC,EAAiBC,EAAMC,EAAO,CACrC,GAAID,IAASC,EACX,OAAOD,EAET,MAAMhC,EAAOiC,EACPC,EAAQC,GAAaH,CAAI,GAAKG,GAAanC,CAAI,EACrD,GAAI,CAACkC,GAAS,EAAEE,GAAcJ,CAAI,GAAKI,GAAcpC,CAAI,GAAI,OAAOA,EACpE,MAAMqC,EAAYH,EAAQF,EAAOM,GAAqBN,CAAI,EAC1D,GAAI,CAACK,EAAW,OAAOrC,EACvB,MAAMuC,EAAYL,EAAQlC,EAAOsC,GAAqBtC,CAAI,EAC1D,GAAI,CAACuC,EAAW,OAAOvC,EACvB,MAAMwC,EAAWH,EAAU,OACrBI,EAAWF,EAAU,OACrBG,EAAOR,EAAQ,IAAI,MAAMO,CAAQ,EAAI,CAAA,EAC3C,IAAIE,EAAa,EACjB,QAASC,EAAI,EAAGA,EAAIH,EAAUG,IAAK,CACjC,MAAM/D,EAAMqD,EAAQU,EAAIL,EAAUK,CAAC,EAC7BvI,EAAI2H,EAAKnD,CAAG,EACZzE,EAAI4F,EAAKnB,CAAG,EAClB,GAAIxE,IAAMD,EAAG,CACXsI,EAAK7D,CAAG,EAAIxE,GACR6H,EAAQU,EAAIJ,EAAWV,GAAO,KAAKE,EAAMnD,CAAG,IAAG8D,IACnD,QACF,CACA,GAAItI,IAAM,MAAQD,IAAM,MAAQ,OAAOC,GAAM,UAAY,OAAOD,GAAM,SAAU,CAC9EsI,EAAK7D,CAAG,EAAIzE,EACZ,QACF,CACA,MAAMyI,EAAId,EAAiB1H,EAAGD,CAAC,EAC/BsI,EAAK7D,CAAG,EAAIgE,EACRA,IAAMxI,GAAGsI,GACf,CACA,OAAOH,IAAaC,GAAYE,IAAeH,EAAWR,EAAOU,CACnE,CACA,SAASJ,GAAqBQ,EAAG,CAC/B,MAAMC,EAAO,CAAA,EACPC,EAAQ,OAAO,oBAAoBF,CAAC,EAC1C,UAAWG,KAAQD,EAAO,CACxB,GAAI,CAAC,OAAO,UAAU,qBAAqB,KAAKF,EAAGG,CAAI,EAAG,MAAO,GACjEF,EAAK,KAAKE,CAAI,CAChB,CACA,MAAMC,EAAU,OAAO,sBAAsBJ,CAAC,EAC9C,UAAWK,KAAUD,EAAS,CAC5B,GAAI,CAAC,OAAO,UAAU,qBAAqB,KAAKJ,EAAGK,CAAM,EAAG,MAAO,GACnEJ,EAAK,KAAKI,CAAM,CAClB,CACA,OAAOJ,CACT,CACA,SAASX,GAAcU,EAAG,CACxB,GAAI,CAACM,GAAmBN,CAAC,EACvB,MAAO,GAET,MAAMO,EAAOP,EAAE,YACf,GAAI,OAAOO,EAAS,IAClB,MAAO,GAET,MAAMC,EAAOD,EAAK,UAIlB,MAHI,GAACD,GAAmBE,CAAI,GAGxB,CAACA,EAAK,eAAe,eAAe,EAI1C,CACA,SAASF,GAAmBN,EAAG,CAC7B,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,iBAC/C,CACA,SAASX,GAAarG,EAAO,CAC3B,OAAO,MAAM,QAAQA,CAAK,GAAKA,EAAM,SAAW,OAAO,KAAKA,CAAK,EAAE,MACrE,CACA,SAASyH,GAAU/I,EAAGE,EAAG2C,EAAM,CAC7B,GAAI7C,IAAME,EACR,MAAO,GAET,GAAI,OAAOF,GAAM,OAAOE,EACtB,MAAO,GAET,GAAI,MAAM,QAAQF,CAAC,GAAK,MAAM,QAAQE,CAAC,EAAG,CACxC,GAAIF,EAAE,SAAWE,EAAE,OAAQ,MAAO,GAClC,QAASkI,EAAI,EAAG1I,EAAIM,EAAE,OAAQoI,EAAI1I,EAAG0I,IACnC,GAAI,CAACW,GAAU/I,EAAEoI,CAAC,EAAGlI,EAAEkI,CAAC,EAAGvF,CAAI,EAAG,MAAO,GAE3C,MAAO,EACT,CACA,GAAI+E,GAAc5H,CAAC,GAAK4H,GAAc1H,CAAC,EAAG,CACxC,MAAM8I,GAAkBnG,GAAA,YAAAA,EAAM,kBAAmB,GACjD,GAAIA,GAAA,MAAAA,EAAM,QAAS,CACjB,UAAWpD,KAAKS,EACd,IAAI,CAAC8I,GAAmB9I,EAAET,CAAC,IAAM,SAC3B,CAACsJ,GAAU/I,EAAEP,CAAC,EAAGS,EAAET,CAAC,EAAGoD,CAAI,EAAG,MAAO,GAG7C,MAAO,EACT,CACA,IAAIoG,EAAS,EACb,GAAI,CAACD,EACHC,EAAS,OAAO,KAAKjJ,CAAC,EAAE,WAExB,WAAWP,KAAKO,EACVA,EAAEP,CAAC,IAAM,QAAQwJ,IAGzB,IAAIC,EAAS,EACb,UAAWzJ,KAAKS,EACd,IAAI,CAAC8I,GAAmB9I,EAAET,CAAC,IAAM,UAC/ByJ,IACIA,EAASD,GAAU,CAACF,GAAU/I,EAAEP,CAAC,EAAGS,EAAET,CAAC,EAAGoD,CAAI,GAAG,MAAO,GAGhE,OAAOoG,IAAWC,CACpB,CACA,MAAO,EACT,CACA,SAASC,GAAwBC,EAAW,CAC1C,IAAIC,EACAC,EACJ,MAAMC,EAAoB,IAAI,QAAQ,CAACC,EAASC,IAAW,CACzDJ,EAAqBG,EACrBF,EAAoBG,CACtB,CAAC,EACD,OAAAF,EAAkB,OAAS,UAC3BA,EAAkB,QAAWjI,GAAU,CACrCiI,EAAkB,OAAS,WAC3BA,EAAkB,MAAQjI,EAC1B+H,EAAmB/H,CAAK,EACxB8H,GAAA,MAAAA,EAAY9H,EACd,EACAiI,EAAkB,OAAUnJ,GAAM,CAChCmJ,EAAkB,OAAS,WAC3BD,EAAkBlJ,CAAC,CACrB,EACOmJ,CACT,CAKA,SAASG,EAAUpI,EAAO,CACxB,MAAO,GACLA,GAAS,OAAOA,GAAU,UAAY,OAAOA,EAAM,MAAS,WAEhE,CAQA,SAASqI,GAAoBC,EAAS,CACpC,OAAOA,EAAQ,QAAQ,mBAAoB,EAAE,CAC/C,CACA,SAASC,GAAcD,EAAS,CAC9B,IAAIE,EACJ,GAAI,CACFA,EAAU,UAAUF,CAAO,CAC7B,MAAQ,CACNE,EAAUF,EAAQ,WAAW,iBAAmBG,GAAU,CACxD,GAAI,CACF,OAAO,UAAUA,CAAK,CACxB,MAAQ,CACN,OAAOA,CACT,CACF,CAAC,CACH,CACA,OAAOJ,GAAoBG,CAAO,CACpC,CACA,SAASE,GAAWlG,EAAMmG,EAAc,CACtC,GAAI,CAACnG,EAAM,OAAOA,EAClB,MAAMoG,EAAoE,YAC1E,IAAIC,EAAS,EACTC,EAAS,GACTL,EACJ,MAAiBA,EAAQG,EAAG,KAAKpG,CAAI,KAA9B,MACLsG,GAAUP,GAAc/F,EAAK,MAAMqG,EAAQJ,EAAM,KAAK,CAAC,EAAIA,EAAM,CAAC,EAClEI,EAASD,EAAG,UAEd,OAAAE,EAASA,EAASP,GAAcM,EAASrG,EAAK,MAAMqG,CAAM,EAAIrG,CAAI,EAC9DsG,EAAO,WAAW,IAAI,IACxBA,EAAS,IAAMA,EAAO,QAAQ,OAAQ,EAAE,GAEnCA,CACT,CCnMA,IAAIC,GAAS,mBACb,SAASC,EAAUC,EAAWC,EAAS,CACnC,GAAI,CAAAD,EAIA,MAAM,IAAI,MAAMF,EAAM,CAK9B,CCZA,SAASI,GAAeC,EAAK,CAC3B,MAAMC,EAAwB,IAAI,IAClC,IAAIC,EACAC,EACJ,MAAMC,EAASC,GAAU,CAClBA,EAAM,OACNA,EAAM,MASTA,EAAM,KAAK,KAAOA,EAAM,KACxBA,EAAM,KAAK,KAAOA,EAAM,KACxBA,EAAM,KAAO,OACTF,IACFA,EAAO,KAAOE,EACdA,EAAM,KAAOF,KAbfE,EAAM,KAAK,KAAO,OAClBH,EAASG,EAAM,KACfA,EAAM,KAAO,OACTF,IACFE,EAAM,KAAOF,EACbA,EAAO,KAAOE,IAWlBF,EAASE,EACX,EACA,MAAO,CACL,IAAI1G,EAAK,CACP,MAAM0G,EAAQJ,EAAM,IAAItG,CAAG,EAC3B,GAAK0G,EACL,OAAAD,EAAMC,CAAK,EACJA,EAAM,KACf,EACA,IAAI1G,EAAK/C,EAAO,CACd,GAAIqJ,EAAM,MAAQD,GAAOE,EAAQ,CAC/B,MAAMI,EAAWJ,EACjBD,EAAM,OAAOK,EAAS,GAAG,EACrBA,EAAS,OACXJ,EAASI,EAAS,KAClBA,EAAS,KAAK,KAAO,QAEnBA,IAAaH,IACfA,EAAS,OAEb,CACA,MAAMI,EAAWN,EAAM,IAAItG,CAAG,EAC9B,GAAI4G,EACFA,EAAS,MAAQ3J,EACjBwJ,EAAMG,CAAQ,MACT,CACL,MAAMF,EAAQ,CAAE,IAAA1G,EAAK,MAAA/C,EAAO,KAAMuJ,CAAM,EACpCA,IAAQA,EAAO,KAAOE,GAC1BF,EAASE,EACJH,IAAQA,EAASG,GACtBJ,EAAM,IAAItG,EAAK0G,CAAK,CACtB,CACF,EACA,OAAQ,CACNJ,EAAM,MAAK,EACXC,EAAS,OACTC,EAAS,MACX,CACJ,CACA,CC3DA,MAAMK,GAAwB,EACxBC,GAAqB,EACrBC,GAAwB,EACxBC,GAA8B,EAC9BC,GAAqB,EACrBC,GAA0B,mDAC1BC,GAAmC,oDACnCC,GAA6B,yBACnC,SAASC,GAAa5H,EAAM6H,EAAOC,EAAS,IAAI,YAAY,CAAC,EAAG,CAC9D,MAAMpG,EAAO1B,EAAK,QAAQ,IAAK6H,CAAK,EAC9BE,EAAMrG,IAAS,GAAK1B,EAAK,OAAS0B,EAClCsG,EAAOhI,EAAK,UAAU6H,EAAOE,CAAG,EACtC,GAAI,CAACC,GAAQ,CAACA,EAAK,SAAS,GAAG,EAC7B,OAAAF,EAAO,CAAC,EAAIV,GACZU,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACLD,EAET,GAAIE,IAAS,IAAK,CAChB,MAAMC,EAAQjI,EAAK,OACnB,OAAA8H,EAAO,CAAC,EAAIR,GACZQ,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAIG,EACZH,EAAO,CAAC,EAAIG,EACZH,EAAO,CAAC,EAAIG,EACLH,CACT,CACA,GAAIE,EAAK,WAAW,CAAC,IAAM,GACzB,OAAAF,EAAO,CAAC,EAAIT,GACZS,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAID,EAAQ,EACpBC,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACLD,EAET,MAAMI,EAAsBF,EAAK,MAAML,EAA0B,EACjE,GAAIO,EAAqB,CAEvB,MAAMC,EADSD,EAAoB,CAAC,EACb,OACvB,OAAAJ,EAAO,CAAC,EAAIR,GACZQ,EAAO,CAAC,EAAID,EAAQM,EACpBL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAC9BL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAC9BL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAC9BL,EAAO,CAAC,EAAI9H,EAAK,OACV8H,CACT,CACA,MAAMM,EAA2BJ,EAAK,MAAMN,EAAgC,EAC5E,GAAIU,EAA0B,CAC5B,MAAM7B,EAAS6B,EAAyB,CAAC,EACnCC,EAAYD,EAAyB,CAAC,EACtCE,EAASF,EAAyB,CAAC,EACnCD,EAAU5B,EAAO,OACvB,OAAAuB,EAAO,CAAC,EAAIP,GACZO,EAAO,CAAC,EAAID,EAAQM,EACpBL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAC9BL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAAIE,EAAU,OAC5CP,EAAO,CAAC,EAAIC,EAAMO,EAAO,OACzBR,EAAO,CAAC,EAAIC,EACLD,CACT,CACA,MAAMS,EAAmBP,EAAK,MAAMP,EAAuB,EAC3D,GAAIc,EAAkB,CACpB,MAAMhC,EAASgC,EAAiB,CAAC,EAC3BF,EAAYE,EAAiB,CAAC,EAC9BD,EAASC,EAAiB,CAAC,EAC3BJ,EAAU5B,EAAO,OACvB,OAAAuB,EAAO,CAAC,EAAIT,GACZS,EAAO,CAAC,EAAID,EAAQM,EACpBL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAC9BL,EAAO,CAAC,EAAID,EAAQM,EAAU,EAAIE,EAAU,OAC5CP,EAAO,CAAC,EAAIC,EAAMO,EAAO,OACzBR,EAAO,CAAC,EAAIC,EACLD,CACT,CACA,OAAAA,EAAO,CAAC,EAAIV,GACZU,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAID,EACZC,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACZD,EAAO,CAAC,EAAIC,EACLD,CACT,CACA,SAASU,GAAcC,EAAsBC,EAAMC,EAAOd,EAAOe,EAAMC,EAAOC,EAAS,eACrFA,GAAA,MAAAA,EAAUH,GACV,IAAItC,EAASwB,EACb,CACE,MAAM7H,EAAO2I,EAAM,UAAYA,EAAM,KAC/BI,EAAS/I,EAAK,OACdgJ,IAAgBzK,EAAAoK,EAAM,UAAN,YAAApK,EAAe,gBAAiBkK,EACtD,KAAOpC,EAAS0C,GAAQ,CACtB,MAAMjD,EAAU8B,GAAa5H,EAAMqG,EAAQqC,CAAI,EAC/C,IAAIO,EACJ,MAAMC,EAAS7C,EACT0B,EAAMjC,EAAQ,CAAC,EAIrB,OAHAO,EAAS0B,EAAM,EACfc,IACa/C,EAAQ,CAAC,EACV,CACV,KAAKsB,GAAuB,CAC1B,MAAM5J,EAAQwC,EAAK,UAAU8F,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EACnD,GAAIkD,EAAe,CACjB,MAAMG,GAAe3K,EAAAoK,EAAK,SAAL,YAAApK,EAAa,IAAIhB,GACtC,GAAI2L,EACFF,EAAWE,MACN,CACLP,EAAK,SAALA,EAAK,OAA2B,IAAI,KACpC,MAAMlH,EAAO0H,GACXT,EAAM,UAAYA,EAAM,IACxC,EACcjH,EAAK,OAASkH,EACdlH,EAAK,MAAQmH,EACbI,EAAWvH,EACXkH,EAAK,OAAO,IAAIpL,EAAOkE,CAAI,CAC7B,CACF,KAAO,CACL,MAAMiD,EAAOnH,EAAM,YAAW,EACxB2L,GAAezK,EAAAkK,EAAK,oBAAL,YAAAlK,EAAwB,IAAIiG,GACjD,GAAIwE,EACFF,EAAWE,MACN,CACLP,EAAK,oBAALA,EAAK,kBAAsC,IAAI,KAC/C,MAAMlH,EAAO0H,GACXT,EAAM,UAAYA,EAAM,IACxC,EACcjH,EAAK,OAASkH,EACdlH,EAAK,MAAQmH,EACbI,EAAWvH,EACXkH,EAAK,kBAAkB,IAAIjE,EAAMjD,CAAI,CACvC,CACF,CACA,KACF,CACA,KAAK2F,GAAoB,CACvB,MAAMgC,EAAarJ,EAAK,UAAUkJ,EAAQpD,EAAQ,CAAC,CAAC,EAC9CwD,EAAatJ,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EAC3CwB,EAAwBP,GAAiB,CAAC,EAAEK,GAAcC,GAC1D/C,EAAU8C,EAAsBE,EAAwBF,EAAaA,EAAW,YAAW,EAApE,OACvBf,EAAUgB,EAAsBC,EAAwBD,EAAaA,EAAW,YAAW,EAApE,OACvBH,GAAeK,EAAAZ,EAAK,UAAL,YAAAY,EAAc,KAChCC,GAAMA,EAAE,gBAAkBF,GAAyBE,EAAE,SAAWlD,GAAUkD,EAAE,SAAWnB,GAE1F,GAAIa,EACFF,EAAWE,MACN,CACL,MAAMzH,EAAOgI,GACXrC,GACAsB,EAAM,UAAYA,EAAM,KACxBY,EACAhD,EACA+B,CACd,EACYW,EAAWvH,EACXA,EAAK,MAAQmH,EACbnH,EAAK,OAASkH,EACdA,EAAK,UAALA,EAAK,QAAY,CAAA,GACjBA,EAAK,QAAQ,KAAKlH,CAAI,CACxB,CACA,KACF,CACA,KAAK6F,GAA6B,CAChC,MAAM8B,EAAarJ,EAAK,UAAUkJ,EAAQpD,EAAQ,CAAC,CAAC,EAC9CwD,EAAatJ,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EAC3CwB,EAAwBP,GAAiB,CAAC,EAAEK,GAAcC,GAC1D/C,EAAU8C,EAAsBE,EAAwBF,EAAaA,EAAW,YAAW,EAApE,OACvBf,EAAUgB,EAAsBC,EAAwBD,EAAaA,EAAW,YAAW,EAApE,OACvBH,GAAeQ,EAAAf,EAAK,WAAL,YAAAe,EAAe,KACjCF,GAAMA,EAAE,gBAAkBF,GAAyBE,EAAE,SAAWlD,GAAUkD,EAAE,SAAWnB,GAE1F,GAAIa,EACFF,EAAWE,MACN,CACL,MAAMzH,EAAOgI,GACXnC,GACAoB,EAAM,UAAYA,EAAM,KACxBY,EACAhD,EACA+B,CACd,EACYW,EAAWvH,EACXA,EAAK,OAASkH,EACdlH,EAAK,MAAQmH,EACbD,EAAK,WAALA,EAAK,SAAa,CAAA,GAClBA,EAAK,SAAS,KAAKlH,CAAI,CACzB,CACA,KACF,CACA,KAAK4F,GAAuB,CAC1B,MAAM+B,EAAarJ,EAAK,UAAUkJ,EAAQpD,EAAQ,CAAC,CAAC,EAC9CwD,EAAatJ,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EAC3CwB,EAAwBP,GAAiB,CAAC,EAAEK,GAAcC,GAC1D/C,EAAU8C,EAAsBE,EAAwBF,EAAaA,EAAW,YAAW,EAApE,OACvBf,EAAUgB,EAAsBC,EAAwBD,EAAaA,EAAW,YAAW,EAApE,OACvB5H,EAAOgI,GACXpC,GACAqB,EAAM,UAAYA,EAAM,KACxBY,EACAhD,EACA+B,CACZ,EACUW,EAAWvH,EACXA,EAAK,OAASkH,EACdlH,EAAK,MAAQmH,EACbD,EAAK,WAALA,EAAK,SAAa,CAAA,GAClBA,EAAK,SAAS,KAAKlH,CAAI,CACzB,CACR,CACMkH,EAAOK,CACT,CACA,MAAMW,GAAUjB,EAAM,MAAQ,CAACA,EAAM,WAAa,CAACA,EAAM,OACzD,GAAIiB,GAAU5J,EAAK,SAAS,GAAG,EAAG,CAChC,MAAM6J,EAAYT,GAChBT,EAAM,UAAYA,EAAM,IAChC,EACMkB,EAAU,KAAOrC,GACjBqC,EAAU,OAASjB,EACnBC,IACAgB,EAAU,MAAQhB,EAClBD,EAAK,MAAQiB,EACbjB,EAAOiB,CACT,CACID,GAAU,CAAChB,EAAK,QAClBA,EAAK,MAAQD,EACbC,EAAK,SAAWD,EAAM,UAAYA,EAAM,KAE5C,CACA,GAAIA,EAAM,SACR,UAAWmB,KAASnB,EAAM,SACxBH,GACEC,EACAC,EACAoB,EACAzD,EACAuC,EACAC,EACAC,CACR,CAEA,CACA,SAASiB,GAAY7N,EAAGE,EAAG,CACzB,GAAIF,EAAE,QAAUE,EAAE,QAAUF,EAAE,SAAWE,EAAE,OAAQ,CACjD,GAAIF,EAAE,OAAO,WAAWE,EAAE,MAAM,EAAG,MAAO,GAC1C,GAAIA,EAAE,OAAO,WAAWF,EAAE,MAAM,EAAG,MAAO,EAC5C,CACA,GAAIA,EAAE,QAAUE,EAAE,QAAUF,EAAE,SAAWE,EAAE,OAAQ,CACjD,GAAIF,EAAE,OAAO,SAASE,EAAE,MAAM,EAAG,MAAO,GACxC,GAAIA,EAAE,OAAO,SAASF,EAAE,MAAM,EAAG,MAAO,EAC1C,CACA,OAAIA,EAAE,QAAU,CAACE,EAAE,OAAe,GAC9B,CAACF,EAAE,QAAUE,EAAE,OAAe,EAC9BF,EAAE,QAAU,CAACE,EAAE,OAAe,GAC9B,CAACF,EAAE,QAAUE,EAAE,OAAe,EAC9BF,EAAE,eAAiB,CAACE,EAAE,cAAsB,GAC5C,CAACF,EAAE,eAAiBE,EAAE,cAAsB,EACzC,CACT,CACA,SAAS4N,GAAcpB,EAAM,WAC3B,GAAIA,EAAK,OACP,UAAWkB,KAASlB,EAAK,OAAO,OAAM,EACpCoB,GAAcF,CAAK,EAGvB,GAAIlB,EAAK,kBACP,UAAWkB,KAASlB,EAAK,kBAAkB,OAAM,EAC/CoB,GAAcF,CAAK,EAGvB,IAAIvL,EAAAqK,EAAK,UAAL,MAAArK,EAAc,OAAQ,CACxBqK,EAAK,QAAQ,KAAKmB,EAAW,EAC7B,UAAWD,KAASlB,EAAK,QACvBoB,GAAcF,CAAK,CAEvB,CACA,IAAItL,EAAAoK,EAAK,WAAL,MAAApK,EAAe,OAAQ,CACzBoK,EAAK,SAAS,KAAKmB,EAAW,EAC9B,UAAWD,KAASlB,EAAK,SACvBoB,GAAcF,CAAK,CAEvB,CACA,IAAIpL,EAAAkK,EAAK,WAAL,MAAAlK,EAAe,OAAQ,CACzBkK,EAAK,SAAS,KAAKmB,EAAW,EAC9B,UAAWD,KAASlB,EAAK,SACvBoB,GAAcF,CAAK,CAEvB,CACF,CACA,SAASV,GAAiBa,EAAU,CAClC,MAAO,CACL,KAAM7C,GACN,MAAO,EACP,MAAO,KACP,OAAQ,KACR,kBAAmB,KACnB,QAAS,KACT,SAAU,KACV,SAAU,KACV,MAAO,KACP,SAAA6C,EACA,OAAQ,IACZ,CACA,CACA,SAASP,GAAkBQ,EAAMD,EAAUjB,EAAezC,EAAQ+B,EAAQ,CACxE,MAAO,CACL,KAAA4B,EACA,MAAO,EACP,MAAO,KACP,OAAQ,KACR,kBAAmB,KACnB,QAAS,KACT,SAAU,KACV,SAAU,KACV,MAAO,KACP,SAAAD,EACA,OAAQ,KACR,cAAAjB,EACA,OAAAzC,EACA,OAAA+B,CACJ,CACA,CACA,SAAS6B,GAAkBC,EAAWC,EAAe,CACnD,MAAMC,EAAclB,GAAiB,GAAG,EAClCV,EAAO,IAAI,YAAY,CAAC,EAC9B,UAAWC,KAASyB,EAClB5B,GAAc,GAAOE,EAAMC,EAAO,EAAG2B,EAAa,CAAC,EAErDN,GAAcM,CAAW,EACzBD,EAAc,UAAYC,EAC1BD,EAAc,UAAY1D,GAAe,GAAG,CAC9C,CACA,SAAS4D,GAAcvK,EAAMqK,EAAe,CAC1CrK,MAAS,KACT,MAAMwK,EAASH,EAAc,UAAU,IAAIrK,CAAI,EAC/C,GAAIwK,EAAQ,OAAOA,EACnB,MAAMlE,EAASmE,GAAUzK,EAAMqK,EAAc,SAAS,EACtD,OAAAA,EAAc,UAAU,IAAIrK,EAAMsG,CAAM,EACjCA,CACT,CACA,SAASoE,GAAgBC,EAAM3B,EAAe4B,EAAO5K,EAAMqK,EAAe,CACxEM,MAAS,KACT3K,MAAS,KACT,MAAMO,EAAMyI,EAAgB,SAAS2B,CAAI,GAAKA,EAC9C,IAAIE,EAAOR,EAAc,YAAY,IAAI9J,CAAG,EAC5C,GAAI,CAACsK,EAAM,CACTA,EAAOzB,GAAiB,GAAG,EAC3B,MAAMV,EAAO,IAAI,YAAY,CAAC,EAC9BF,GAAcQ,EAAeN,EAAM,CAAE,KAAAiC,CAAI,EAAI,EAAGE,EAAM,CAAC,EACvDR,EAAc,YAAY,IAAI9J,EAAKsK,CAAI,CACzC,CACA,OAAOJ,GAAUzK,EAAM6K,EAAMD,CAAK,CACpC,CACA,SAASE,GAAe9K,EAAMqK,EAAeO,EAAQ,GAAO,CAC1D,MAAMrK,EAAMqK,EAAQ5K,EAAO,WAAWA,CAAI,GACpCwK,EAASH,EAAc,WAAW,IAAI9J,CAAG,EAC/C,GAAIiK,IAAW,OAAQ,OAAOA,EAC9BxK,MAAS,KACT,MAAMsG,EAASmE,GACbzK,EACAqK,EAAc,YACdO,CACJ,EACE,OAAItE,IAAQA,EAAO,OAASyE,GAAiBzE,EAAO,KAAK,GACzD+D,EAAc,WAAW,IAAI9J,EAAK+F,CAAM,EACjCA,CACT,CACA,SAAS0E,GAAchL,EAAM,CAC3B,OAAOA,IAAS,IAAMA,EAAOA,EAAK,QAAQ,UAAW,EAAE,CACzD,CACA,SAASiL,GAAiBC,EAAWlC,EAAgB,GAAOmC,EAAW,CACrE,MAAMb,EAAclB,GAAiB8B,EAAU,QAAQ,EACjDxC,EAAO,IAAI,YAAY,CAAC,EACxB0C,EAAa,CAAA,EACbC,EAAe,CAAA,EACrB,IAAIjL,EAAQ,EACZ,OAAAoI,GAAcQ,EAAeN,EAAMwC,EAAW,EAAGZ,EAAa,EAAI3B,GAAU,CAO1E,GANAwC,GAAA,MAAAA,EAAYxC,EAAOvI,GACnBoG,EACE,EAAEmC,EAAM,MAAMyC,GACd,mCAAmC,OAAOzC,EAAM,EAAE,CAAC,EACzD,EACIyC,EAAWzC,EAAM,EAAE,EAAIA,EACnBvI,IAAU,GAAKuI,EAAM,KAAM,CAC7B,MAAM2C,EAAkBN,GAAcrC,EAAM,QAAQ,GAChD,CAAC0C,EAAaC,CAAe,GAAK3C,EAAM,SAAS,SAAS,GAAG,KAC/D0C,EAAaC,CAAe,EAAI3C,EAEpC,CACAvI,GACF,CAAC,EACD4J,GAAcM,CAAW,EAQlB,CACL,cARoB,CACpB,YAAAA,EACA,YAAa3D,GAAe,GAAG,EAC/B,WAAYA,GAAe,GAAG,EAC9B,UAAW,KACX,UAAW,IACf,EAGI,WAAAyE,EACA,aAAAC,CACJ,CACA,CACA,SAASZ,GAAUzK,EAAMsK,EAAaM,EAAQ,GAAO,CACnD,MAAMW,EAAQvL,EAAK,MAAM,GAAG,EACtBwL,EAAOC,GAAazL,EAAMuL,EAAOjB,EAAaM,CAAK,EACzD,GAAI,CAACY,EAAM,OAAO,KAClB,MAAME,EAASC,GAAc3L,EAAMuL,EAAOC,CAAI,EAC9C,MAAI,OAAQA,IAAME,EAAO,IAAI,EAAIF,EAAK,IAAI,GAEnC,CACL,MAFYA,EAAK,KAAK,MAGtB,OAAAE,CACJ,CACA,CACA,SAASC,GAAc3L,EAAMuL,EAAOC,EAAM,iBACxC,MAAMI,EAAOC,GAAYL,EAAK,IAAI,EAClC,IAAIM,EAAY,KAChB,MAAMJ,EAAS,CAAA,EACf,QAASK,EAAY,EAAGC,EAAY,EAAGC,EAAY,EAAGD,EAAYJ,EAAK,OAAQG,IAAaC,IAAaC,IAAa,CACpH,MAAMrD,EAAOgD,EAAKI,CAAS,EACrBhE,EAAOuD,EAAMQ,CAAS,EACtBG,EAAmBD,EAEzB,GADIjE,IAAMiE,GAAajE,EAAK,QACxBY,EAAK,OAASvB,GAAoB,CACpCyE,MAAcN,EAAK,KAAK,SAAS,MAAM,GAAG,GAC1C,MAAMW,EAAWL,EAAUE,CAAS,EAC9BI,IAAY7N,EAAAqK,EAAK,SAAL,YAAArK,EAAa,SAAU,EAEzC,GADsB4N,EAAS,WAAWC,CAAS,IAAM,IACtC,CACjB,MAAMC,IAAY7N,EAAAoK,EAAK,SAAL,YAAApK,EAAa,SAAU,EACnCmG,EAAOwH,EAAS,UACpBC,EAAY,EACZD,EAAS,OAASE,EAAY,CACxC,EACc7O,EAAQwK,EAAK,UAAUoE,EAAWpE,EAAK,OAASqE,CAAS,EAC/DX,EAAO/G,CAAI,EAAI,mBAAmBnH,CAAK,CACzC,KAAO,CACL,MAAMmH,EAAOwH,EAAS,UAAU,CAAC,EACjCT,EAAO/G,CAAI,EAAI,mBAAmBqD,CAAI,CACxC,CACF,SAAWY,EAAK,OAASrB,GAA6B,CACpD,GAAIiE,EAAK,QAAU,GAAKQ,EAAW,CACjCD,IACA,QACF,CACAD,MAAcN,EAAK,KAAK,SAAS,MAAM,GAAG,GAC1C,MAAMW,EAAWL,EAAUE,CAAS,EAC9BI,IAAY1N,EAAAkK,EAAK,SAAL,YAAAlK,EAAa,SAAU,EACnC2N,IAAY7C,EAAAZ,EAAK,SAAL,YAAAY,EAAa,SAAU,EACnC7E,EAAOwH,EAAS,UACpBC,EAAY,EACZD,EAAS,OAASE,EAAY,CACtC,EACY7O,EAAQoL,EAAK,QAAUA,EAAK,OAASZ,EAAK,UAAUoE,EAAWpE,EAAK,OAASqE,CAAS,EAAIrE,EAC5FxK,IAAOkO,EAAO/G,CAAI,EAAI,mBAAmBnH,CAAK,EACpD,SAAWoL,EAAK,OAAStB,GAAuB,CAC9C,MAAMxL,EAAI8M,EACJpL,EAAQwC,EAAK,UACjBkM,KAAoBvC,EAAA7N,EAAE,SAAF,YAAA6N,EAAU,SAAU,GACxC3J,EAAK,UAAUsM,EAAAxQ,EAAE,SAAF,YAAAwQ,EAAU,SAAU,EAC3C,EACYC,EAAQ,mBAAmB/O,CAAK,EACtCkO,EAAO,GAAG,EAAIa,EACdb,EAAO,OAASa,EAChB,KACF,CACF,CACA,OAAOb,CACT,CACA,SAASX,GAAiBpC,EAAO,CAC/B,MAAMiD,EAAO,CAACjD,CAAK,EACnB,KAAOA,EAAM,aACXA,EAAQA,EAAM,YACdiD,EAAK,KAAKjD,CAAK,EAEjB,OAAAiD,EAAK,QAAO,EACLA,CACT,CACA,SAASC,GAAYjD,EAAM,CACzB,MAAMgD,EAAO,MAAMhD,EAAK,MAAQ,CAAC,EACjC,GACEgD,EAAKhD,EAAK,KAAK,EAAIA,EACnBA,EAAOA,EAAK,aACLA,GACT,OAAOgD,CACT,CACA,SAASH,GAAazL,EAAMuL,EAAOjB,EAAaM,EAAO,CACrD,GAAI5K,IAAS,KAAOsK,EAAY,MAC9B,MAAO,CAAE,KAAMA,EAAY,MAAO,QAAS,CAAC,EAC9C,MAAMkC,EAAgB,CAACrJ,GAAKoI,CAAK,EAC3BkB,EAAcD,GAAiBxM,IAAS,IACxC0M,EAAcnB,EAAM,QAAUiB,EAAgB,EAAI,GAClDG,EAAQ,CACZ,CACE,KAAMrC,EACN,MAAO,EACP,QAAS,EACT,MAAO,EACP,QAAS,EACT,SAAU,EACV,UAAW,CACjB,CACA,EACE,IAAIsC,EAAgB,KAChBC,EAAY,KACZC,EAAY,KAChB,KAAOH,EAAM,QAAQ,CACnB,MAAMI,EAAQJ,EAAM,IAAG,EACvB,GAAI,CAAE,KAAA/D,EAAM,MAAAxI,EAAO,QAAA4M,EAAS,MAAAnE,EAAO,QAAAoE,EAAS,SAAAC,EAAU,UAAAC,CAAS,EAAKJ,EAChEnC,GAAShC,EAAK,OAASA,EAAK,OAASpB,IAAsB4F,GAAoBP,EAAWE,CAAK,IACjGF,EAAYE,GAEd,MAAMM,EAAejN,IAAUsM,EAC/B,GAAIW,IACEzE,EAAK,OAAS,CAAC6D,GAAeW,GAAoBN,EAAWC,CAAK,IACpED,EAAYC,GAEV,CAACnE,EAAK,UAAY,CAACA,EAAK,UAAY,CAACA,EAAK,OAAO,SAEvD,MAAMZ,EAAOqF,EAAe,OAAS9B,EAAMnL,CAAK,EAChD,IAAIkN,EACJ,GAAID,GAAgBzE,EAAK,MAAO,CAC9B,MAAM2E,EAAa,CACjB,KAAM3E,EAAK,MACX,MAAAxI,EACA,QAAA4M,EACA,MAAOnE,EAAQ,EACf,QAAAoE,EACA,SAAAC,EACA,UAAAC,CACR,EACM,GAAIF,IAAYP,GAAe,CAACQ,GAAY,CAACC,GAAa,CAACH,EACzD,OAAOO,EAELH,GAAoBN,EAAWS,CAAU,IAC3CT,EAAYS,EAEhB,CACA,GAAI3E,EAAK,UAAYwE,GAAoBR,EAAeG,CAAK,EAC3D,UAAWjH,KAAW8C,EAAK,SAAU,CACnC,KAAM,CAAE,OAAArC,EAAQ,OAAA+B,CAAM,EAAKxC,EAC3B,GAAI,EAAAS,IACE8G,GAEA,EADavH,EAAQ,cAAgBkC,EAAOsF,MAActF,EAAK,YAAW,IAChE,WAAWzB,CAAM,IAEjC,IAAI+B,EAAQ,CACV,GAAI+E,EAAc,SAClB,MAAMtF,EAAMwD,EAAM,MAAMnL,CAAK,EAAE,KAAK,GAAG,EAAE,MAAM,CAACkI,EAAO,MAAM,EAE7D,IADiBxC,EAAQ,cAAgBiC,EAAMA,EAAI,YAAW,KAC7CO,EAAQ,QAC3B,CACAsE,EAAgB,CACd,KAAM9G,EACN,MAAO4G,EACP,QAAAM,EACA,MAAAnE,EACA,QAAAoE,EACA,SAAAC,EACA,UAAAC,CACV,EACQ,MACF,CAEF,GAAIvE,EAAK,SAAU,CACjB,MAAM4E,EAAcR,EAAU,GAAKnE,EAC7B4E,EAAY5E,EAAQ,EAC1B,QAASvE,EAAIsE,EAAK,SAAS,OAAS,EAAGtE,GAAK,EAAGA,IAAK,CAClD,MAAMwB,EAAU8C,EAAK,SAAStE,CAAC,EAC/BqI,EAAM,KAAK,CACT,KAAM7G,EACN,MAAA1F,EACA,QAASoN,EACT,MAAOC,EACP,QAAAR,EACA,SAAAC,EACA,UAAAC,CACV,CAAS,CACH,CACA,GAAI,CAACE,EACH,QAAS/I,EAAIsE,EAAK,SAAS,OAAS,EAAGtE,GAAK,EAAGA,IAAK,CAClD,MAAMwB,EAAU8C,EAAK,SAAStE,CAAC,EACzB,CAAE,OAAAiC,EAAQ,OAAA+B,CAAM,EAAKxC,EAC3B,GAAIS,GAAU+B,EAAQ,CACpB,MAAMoF,EAAW5H,EAAQ,cAAgBkC,EAAOsF,MAActF,EAAK,YAAW,GAE9E,GADIzB,GAAU,CAACmH,EAAS,WAAWnH,CAAM,GACrC+B,GAAU,CAACoF,EAAS,SAASpF,CAAM,EAAG,QAC5C,CACAqE,EAAM,KAAK,CACT,KAAM7G,EACN,MAAO1F,EAAQ,EACf,QAAA4M,EACA,MAAOS,EACP,QAAAR,EACA,SAAAC,EACA,UAAWC,EAAY,CACnC,CAAW,CACH,CAEJ,CACA,GAAI,CAACE,GAAgBzE,EAAK,SAAWZ,EACnC,QAAS1D,EAAIsE,EAAK,QAAQ,OAAS,EAAGtE,GAAK,EAAGA,IAAK,CACjD,MAAMwB,EAAU8C,EAAK,QAAQtE,CAAC,EACxB,CAAE,OAAAiC,EAAQ,OAAA+B,CAAM,EAAKxC,EAC3B,GAAIS,GAAU+B,EAAQ,CACpB,MAAMoF,EAAW5H,EAAQ,cAAgBkC,EAAOsF,MAActF,EAAK,YAAW,GAE9E,GADIzB,GAAU,CAACmH,EAAS,WAAWnH,CAAM,GACrC+B,GAAU,CAACoF,EAAS,SAASpF,CAAM,EAAG,QAC5C,CACAqE,EAAM,KAAK,CACT,KAAM7G,EACN,MAAO1F,EAAQ,EACf,QAAA4M,EACA,MAAOnE,EAAQ,EACf,QAAAoE,EACA,SAAUC,EAAW,EACrB,UAAAC,CACV,CAAS,CACH,CAEF,GAAI,CAACE,GAAgBzE,EAAK,kBAAmB,CAC3C,MAAM3C,EAAQ2C,EAAK,kBAAkB,IACnC0E,MAActF,EAAK,YAAW,EACtC,EACU/B,GACF0G,EAAM,KAAK,CACT,KAAM1G,EACN,MAAO7F,EAAQ,EACf,QAAA4M,EACA,MAAOnE,EAAQ,EACf,QAASoE,EAAU,EACnB,SAAAC,EACA,UAAAC,CACV,CAAS,CAEL,CACA,GAAI,CAACE,GAAgBzE,EAAK,OAAQ,CAChC,MAAM3C,EAAQ2C,EAAK,OAAO,IAAIZ,CAAI,EAC9B/B,GACF0G,EAAM,KAAK,CACT,KAAM1G,EACN,MAAO7F,EAAQ,EACf,QAAA4M,EACA,MAAOnE,EAAQ,EACf,QAASoE,EAAU,EACnB,SAAAC,EACA,UAAAC,CACV,CAAS,CAEL,CACF,CACA,GAAIL,GAAaF,EACf,OAAOQ,GAAoBR,EAAeE,CAAS,EAAIA,EAAYF,EAErE,GAAIE,EAAW,OAAOA,EACtB,GAAIF,EAAe,OAAOA,EAC1B,GAAIhC,GAASiC,EAAW,CACtB,IAAIc,EAAad,EAAU,MAC3B,QAASvI,EAAI,EAAGA,EAAIuI,EAAU,MAAOvI,IACnCqJ,GAAcpC,EAAMjH,CAAC,EAAE,OAEzB,MAAMiI,EAAQoB,IAAe3N,EAAK,OAAS,IAAMA,EAAK,MAAM2N,CAAU,EACtE,MAAO,CACL,KAAMd,EAAU,KAChB,QAASA,EAAU,QACnB,KAAM,mBAAmBN,CAAK,CACpC,CACE,CACA,OAAO,IACT,CACA,SAASa,GAAoB1J,EAAMhC,EAAM,CACvC,OAAKgC,EACEhC,EAAK,QAAUgC,EAAK,SAAWhC,EAAK,UAAYgC,EAAK,UAAYhC,EAAK,SAAWgC,EAAK,UAAYhC,EAAK,WAAagC,EAAK,WAAahC,EAAK,UAAYgC,EAAK,WAAahC,EAAK,YAAcgC,EAAK,aAAehC,EAAK,KAAK,OAAS8F,KAAuB9D,EAAK,KAAK,OAAS8D,KAAuB9F,EAAK,KAAK,OAAS8F,KAAwB9D,EAAK,KAAK,OAAS8D,KAAuB9F,EAAK,MAAQgC,EAAK,SADhY,EAEpB,CCvqBA,SAASkK,GAAUC,EAAO,CACxB,OAAOC,GACLD,EAAM,OAAQE,GACLA,IAAQ,MAChB,EAAE,KAAK,GAAG,CACf,CACA,CACA,SAASD,GAAU9N,EAAM,CACvB,OAAOA,EAAK,QAAQ,UAAW,GAAG,CACpC,CACA,SAASgO,GAAahO,EAAM,CAC1B,OAAOA,IAAS,IAAMA,EAAOA,EAAK,QAAQ,UAAW,EAAE,CACzD,CACA,SAASgL,GAAchL,EAAM,CAC3B,MAAMiO,EAAMjO,EAAK,OACjB,OAAOiO,EAAM,GAAKjO,EAAKiO,EAAM,CAAC,IAAM,IAAMjO,EAAK,QAAQ,UAAW,EAAE,EAAIA,CAC1E,CACA,SAASkO,GAASlO,EAAM,CACtB,OAAOgL,GAAcgD,GAAahO,CAAI,CAAC,CACzC,CACA,SAASmO,GAAoB3Q,EAAO4Q,EAAU,CAC5C,OAAI5Q,GAAA,MAAAA,EAAO,SAAS,MAAQA,IAAU,KAAOA,IAAU,GAAG4Q,CAAQ,IACzD5Q,EAAM,MAAM,EAAG,EAAE,EAEnBA,CACT,CACA,SAAS6Q,GAAcC,EAAWC,EAAWH,EAAU,CACrD,OAAOD,GAAoBG,EAAWF,CAAQ,IAAMD,GAAoBI,EAAWH,CAAQ,CAC7F,CACA,SAASI,GAAY,CACnB,KAAAC,EACA,GAAAC,EACA,cAAAlC,EAAgB,QAChB,MAAA3F,CACF,EAAG,CACD,MAAM8H,EAAaD,EAAG,WAAW,GAAG,EAC9BE,EAAS,CAACD,GAAcD,IAAO,IACrC,IAAInO,EACJ,GAAIsG,EAAO,CACTtG,EAAMoO,EAAaD,EAAKE,EAASH,EAAOA,EAAO,KAAOC,EACtD,MAAMlE,EAAS3D,EAAM,IAAItG,CAAG,EAC5B,GAAIiK,EAAQ,OAAOA,CACrB,CACA,IAAIqE,EACJ,GAAID,EACFC,EAAeJ,EAAK,MAAM,GAAG,UACpBE,EACTE,EAAeH,EAAG,MAAM,GAAG,MACtB,CAEL,IADAG,EAAeJ,EAAK,MAAM,GAAG,EACtBI,EAAa,OAAS,GAAK1L,GAAK0L,CAAY,IAAM,IACvDA,EAAa,IAAG,EAElB,MAAMC,EAAaJ,EAAG,MAAM,GAAG,EAC/B,QAAStO,EAAQ,EAAG2I,EAAS+F,EAAW,OAAQ1O,EAAQ2I,EAAQ3I,IAAS,CACvE,MAAM5C,EAAQsR,EAAW1O,CAAK,EAC1B5C,IAAU,GACP4C,EAEMA,IAAU2I,EAAS,GAC5B8F,EAAa,KAAKrR,CAAK,EAFvBqR,EAAe,CAACrR,CAAK,EAIdA,IAAU,KACnBqR,EAAa,IAAG,EACPrR,IAAU,KAEnBqR,EAAa,KAAKrR,CAAK,CAE3B,CACF,CACIqR,EAAa,OAAS,IACpB1L,GAAK0L,CAAY,IAAM,GACrBrC,IAAkB,SACpBqC,EAAa,IAAG,EAETrC,IAAkB,UAC3BqC,EAAa,KAAK,EAAE,GAGxB,IAAI/I,EACAiJ,EAAS,GACb,QAASzK,EAAI,EAAGA,EAAIuK,EAAa,OAAQvK,IAAK,CACxCA,EAAI,IAAGyK,GAAU,KACrB,MAAM/G,EAAO6G,EAAavK,CAAC,EAC3B,GAAI,CAAC0D,EAAM,SACXlC,EAAU8B,GAAaI,EAAM,EAAGlC,CAAO,EACvC,MAAMoE,EAAOpE,EAAQ,CAAC,EACtB,GAAIoE,IAAS9C,GAAuB,CAClC2H,GAAU/G,EACV,QACF,CACA,MAAMD,EAAMjC,EAAQ,CAAC,EACfS,EAASyB,EAAK,UAAU,EAAGlC,EAAQ,CAAC,CAAC,EACrCwC,EAASN,EAAK,UAAUlC,EAAQ,CAAC,EAAGiC,CAAG,EACvCvK,EAAQwK,EAAK,UAAUlC,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAC/CoE,IAAS7C,GACX0H,GAAUxI,GAAU+B,EAAS,GAAG/B,CAAM,KAAK/I,CAAK,IAAI8K,CAAM,GAAK,IAAI9K,CAAK,GAC/D0M,IAAS5C,GAClByH,GAAUxI,GAAU+B,EAAS,GAAG/B,CAAM,MAAM+B,CAAM,GAAK,IAEvDyG,GAAU,GAAGxI,CAAM,MAAM/I,CAAK,IAAI8K,CAAM,EAE5C,CACAyG,EAASjB,GAAUiB,CAAM,EACzB,MAAMzI,EAASyI,GAAU,IACzB,OAAIxO,GAAOsG,GAAOA,EAAM,IAAItG,EAAK+F,CAAM,EAChCA,CACT,CACA,SAAS0I,GAAYzO,EAAKmL,EAAQuD,EAAe,CAC/C,MAAMzR,EAAQkO,EAAOnL,CAAG,EACxB,OAAI,OAAO/C,GAAU,SAAiBA,EAClC+C,IAAQ,SACH,UAAU/C,CAAK,EAEf0R,GAAgB1R,EAAOyR,CAAa,CAE/C,CACA,SAASE,GAAgB,CACvB,KAAAnP,EACA,OAAA0L,EACA,cAAAuD,CACF,EAAG,CACD,IAAIG,EAAkB,GACtB,MAAMC,EAAa,CAAA,EACnB,GAAI,CAACrP,GAAQA,IAAS,IACpB,MAAO,CAAE,iBAAkB,IAAK,WAAAqP,EAAY,gBAAAD,CAAe,EAC7D,GAAI,CAACpP,EAAK,SAAS,GAAG,EACpB,MAAO,CAAE,iBAAkBA,EAAM,WAAAqP,EAAY,gBAAAD,CAAe,EAC9D,MAAMrG,EAAS/I,EAAK,OACpB,IAAIqG,EAAS,EACTP,EACAiJ,EAAS,GACb,KAAO1I,EAAS0C,GAAQ,CACtB,MAAMlB,EAAQxB,EACdP,EAAU8B,GAAa5H,EAAM6H,EAAO/B,CAAO,EAC3C,MAAMiC,EAAMjC,EAAQ,CAAC,EAErB,GADAO,EAAS0B,EAAM,EACXF,IAAUE,EAAK,SACnB,MAAMmC,EAAOpE,EAAQ,CAAC,EACtB,GAAIoE,IAAS9C,GAAuB,CAClC2H,GAAU,IAAM/O,EAAK,UAAU6H,EAAOE,CAAG,EACzC,QACF,CACA,GAAImC,IAAS5C,GAAuB,CAClC,MAAMiF,EAAQb,EAAO,OACrB2D,EAAW,OAAS9C,EACpB8C,EAAW,GAAG,EAAI9C,EAClB,MAAMhG,EAASvG,EAAK,UAAU6H,EAAO/B,EAAQ,CAAC,CAAC,EACzCwC,EAAStI,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EAC7C,GAAI,CAACwE,EAAO,CACV6C,EAAkB,IACd7I,GAAU+B,KACZyG,GAAU,IAAMxI,EAAS+B,GAE3B,QACF,CACA,MAAM9K,EAAQwR,GAAY,SAAUtD,EAAQuD,CAAa,EACzDF,GAAU,IAAMxI,EAAS/I,EAAQ8K,EACjC,QACF,CACA,GAAI4B,IAAS7C,GAAoB,CAC/B,MAAM9G,EAAMP,EAAK,UAAU8F,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAC7C,CAACsJ,GAAmB,EAAE7O,KAAOmL,KAC/B0D,EAAkB,IAEpBC,EAAW9O,CAAG,EAAImL,EAAOnL,CAAG,EAC5B,MAAMgG,EAASvG,EAAK,UAAU6H,EAAO/B,EAAQ,CAAC,CAAC,EACzCwC,EAAStI,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EACvCvK,EAAQwR,GAAYzO,EAAKmL,EAAQuD,CAAa,GAAK,YACzDF,GAAU,IAAMxI,EAAS/I,EAAQ8K,EACjC,QACF,CACA,GAAI4B,IAAS3C,GAA6B,CACxC,MAAMhH,EAAMP,EAAK,UAAU8F,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAC3CwJ,EAAW5D,EAAOnL,CAAG,EAC3B,GAAI+O,GAAY,KAAM,SACtBD,EAAW9O,CAAG,EAAI+O,EAClB,MAAM/I,EAASvG,EAAK,UAAU6H,EAAO/B,EAAQ,CAAC,CAAC,EACzCwC,EAAStI,EAAK,UAAU8F,EAAQ,CAAC,EAAGiC,CAAG,EACvCvK,EAAQwR,GAAYzO,EAAKmL,EAAQuD,CAAa,GAAK,GACzDF,GAAU,IAAMxI,EAAS/I,EAAQ8K,EACjC,QACF,CACF,CACA,OAAItI,EAAK,SAAS,GAAG,IAAG+O,GAAU,KAE3B,CAAE,WAAAM,EAAY,iBADIN,GAAU,IACI,gBAAAK,CAAe,CACxD,CACA,SAASF,GAAgB1R,EAAOyR,EAAe,CAC7C,IAAIM,EAAU,mBAAmB/R,CAAK,EACtC,GAAIyR,EACF,SAAW,CAACO,EAAaC,CAAI,IAAKR,EAChCM,EAAUA,EAAQ,WAAWC,EAAaC,CAAI,EAGlD,OAAOF,CACT,CCjMA,SAASG,EAAWC,EAAK,CACvB,MAAO,CAAC,EAACA,GAAA,MAAAA,EAAK,WAChB,CCNA,SAASC,IAAwB,CAC/B,GAAI,CACF,GAAI,OAAO,OAAW,KAAe,OAAO,OAAO,gBAAmB,SACpE,OAAO,OAAO,cAElB,MAAQ,CACR,CAEF,CACA,MAAMC,GAAa,8BACbC,GAAW,CAAC9R,EAAI+R,IAAS,CAC7B,IAAIC,EACJ,MAAO,IAAIpN,IAAS,CACboN,IACHA,EAAU,WAAW,IAAM,CACzBhS,EAAG,GAAG4E,CAAI,EACVoN,EAAU,IACZ,EAAGD,CAAI,EAEX,CACF,EACA,SAASE,IAA+B,CACtC,MAAMC,EAAqBN,GAAqB,EAChD,GAAI,CAACM,EACH,OAAO,KAET,MAAMC,EAAiBD,EAAmB,QAAQL,EAAU,EAC5D,IAAI5P,EAAQkQ,EAAiB,KAAK,MAAMA,CAAc,EAAI,CAAA,EAC1D,MAAO,CACL,MAAAlQ,EAIA,IAAM9B,GAAY,CAChB8B,EAAQqD,EAAiBnF,EAAS8B,CAAK,GAAKA,EAC5C,GAAI,CACFiQ,EAAmB,QAAQL,GAAY,KAAK,UAAU5P,CAAK,CAAC,CAC9D,MAAQ,CACN,QAAQ,KACN,2EACV,CACM,CACF,CACJ,CACA,CACA,MAAMmQ,GAAyBH,GAA4B,EACrDI,GAAkCrR,GAC/BA,EAAS,MAAM,WAAaA,EAAS,KAE9C,SAASsR,GAAeC,EAAI,CAC1B,MAAMvQ,EAAO,CAAA,EACb,IAAIwQ,EACJ,KAAOA,EAASD,EAAG,YACjBvQ,EAAK,KACH,GAAGuQ,EAAG,OAAO,cAAc,MAAM,UAAU,QAAQ,KAAKC,EAAO,SAAUD,CAAE,EAAI,CAAC,GACtF,EACIA,EAAKC,EAEP,MAAO,GAAGxQ,EAAK,QAAO,EAAG,KAAK,KAAK,CAAC,GAAG,YAAW,CACpD,CACA,IAAIyQ,GAAe,GACnB,SAASC,GAAc,CACrB,WAAYC,EACZ,IAAApQ,EACA,SAAAqQ,EACA,wBAAAC,EACA,qBAAAC,EACA,SAAA9R,CACF,EAAG,SACD,IAAI+R,EACJ,GAAI,CACFA,EAAQ,KAAK,MAAM,eAAe,QAAQJ,CAAW,GAAK,IAAI,CAChE,OAASK,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnB,MACF,CACA,MAAMC,EAAc1Q,KAAOhC,EAAA,OAAO,QAAQ,QAAf,YAAAA,EAAsB,WAC3C2S,EAAiBH,EAAME,CAAW,EACxCR,GAAe,GACfU,EAAQ,CACN,GAAIN,GAA2BK,GAAkB,OAAO,KAAKA,CAAc,EAAE,OAAS,EAAG,CACvF,UAAWE,KAAmBF,EAAgB,CAC5C,MAAMjK,EAAQiK,EAAeE,CAAe,EAC5C,GAAIA,IAAoB,SACtB,OAAO,SAAS,CACd,IAAKnK,EAAM,QACX,KAAMA,EAAM,QACZ,SAAA2J,CACZ,CAAW,UACQQ,EAAiB,CAC1B,MAAMC,EAAU,SAAS,cAAcD,CAAe,EAClDC,IACFA,EAAQ,WAAapK,EAAM,QAC3BoK,EAAQ,UAAYpK,EAAM,QAE9B,CACF,CACA,MAAMkK,CACR,CACA,MAAMG,GAAQtS,GAAY,OAAO,UAAU,KAAK,MAAM,IAAK,CAAC,EAAE,CAAC,EAC/D,GAAIsS,EAAM,CACR,MAAMC,IAA4B/S,EAAA,OAAO,QAAQ,QAAf,YAAAA,EAAsB,8BAA+B,GACvF,GAAI+S,EAA2B,CAC7B,MAAMhB,EAAK,SAAS,eAAee,CAAI,EACnCf,GACFA,EAAG,eAAegB,CAAyB,CAE/C,CACA,MAAMJ,CACR,CACA,MAAMK,EAAgB,CAAE,IAAK,EAAG,KAAM,EAAG,SAAAZ,CAAQ,EAEjD,GADA,OAAO,SAASY,CAAa,EACzBV,EACF,UAAWW,KAAYX,EAAsB,CAC3C,GAAIW,IAAa,SAAU,SAC3B,MAAMJ,EAAU,OAAOI,GAAa,WAAaA,EAAQ,EAAK,SAAS,cAAcA,CAAQ,EACzFJ,GAASA,EAAQ,SAASG,CAAa,CAC7C,CAEJ,CACAf,GAAe,EACjB,CACA,SAASiB,GAAuBC,EAAQC,EAAO,CAQ7C,GAPI,CAACxB,IAA0B,CAACuB,EAAO,YAGEA,EAAO,QAAQ,mBAAqB,MAE3EA,EAAO,kBAAoB,IAEzBA,EAAO,UAAYA,EAAO,0BAA4B,CAACvB,IACzD,OAEFuB,EAAO,yBAA2B,GAClClB,GAAe,GACf,MAAMoB,EAASF,EAAO,QAAQ,yBAA2BtB,GACzD,OAAO,QAAQ,kBAAoB,SACnC,MAAMyB,EAAYC,GAAU,CAC1B,GAAItB,IAAgB,CAACkB,EAAO,kBAC1B,OAEF,IAAIP,EAAkB,GACtB,GAAIW,EAAM,SAAW,UAAYA,EAAM,SAAW,OAChDX,EAAkB,aACb,CACL,MAAMY,EAASD,EAAM,OAAO,aAC1B,4BACR,EACUC,EACFZ,EAAkB,gCAAgCY,CAAM,KAExDZ,EAAkBd,GAAeyB,EAAM,MAAM,CAEjD,CACA,MAAME,EAAaJ,EAAOF,EAAO,MAAM,QAAQ,EAC/CvB,GAAuB,IAAKnQ,GAAU,CACpC,MAAMiS,EAAWjS,EAAAgS,KAAAhS,EAAAgS,GAAsB,CAAA,GACjCE,EAAeD,EAAAd,KAAAc,EAAAd,GAA8B,CAAA,GACnD,GAAIA,IAAoB,SACtBe,EAAa,QAAU,OAAO,SAAW,EACzCA,EAAa,QAAU,OAAO,SAAW,UAChCf,EAAiB,CAC1B,MAAMC,EAAU,SAAS,cAAcD,CAAe,EAClDC,IACFc,EAAa,QAAUd,EAAQ,YAAc,EAC7Cc,EAAa,QAAUd,EAAQ,WAAa,EAEhD,CACA,OAAOpR,CACT,CAAC,CACH,EACI,OAAO,SAAa,KACtB,SAAS,iBAAiB,SAAU6P,GAASgC,EAAU,GAAG,EAAG,EAAI,EAEnEH,EAAO,UAAU,aAAeI,GAAU,CACxC,MAAMK,EAAWP,EAAOE,EAAM,UAAU,EACxC,GAAI,CAACJ,EAAO,gBAAiB,CAC3BA,EAAO,gBAAkB,GACzB,MACF,CACI,OAAOA,EAAO,QAAQ,mBAAsB,YAI1C,CAHkBA,EAAO,QAAQ,kBAAkB,CACrD,SAAUA,EAAO,cACzB,CAAO,IAKHjB,GAAc,CACZ,WAAAb,GACA,IAAKuC,EACL,SAAUT,EAAO,QAAQ,0BACzB,wBAAyBA,EAAO,kBAChC,qBAAsBA,EAAO,QAAQ,qBACrC,SAAUA,EAAO,QAAQ,QAC/B,CAAK,EACGA,EAAO,mBACTvB,GAAuB,IAAKnQ,IAC1BA,EAAAmS,KAAAnS,EAAAmS,GAAoB,CAAA,GACbnS,EACR,EAEL,CAAC,CACH,CACA,SAASoS,GAAiBV,EAAQ,CAChC,GAAI,OAAO,SAAa,KAAe,SAAS,cAAe,CAC7D,MAAMJ,EAA4BI,EAAO,MAAM,SAAS,MAAM,6BAA+B,GAC7F,GAAIJ,GAA6BI,EAAO,MAAM,SAAS,OAAS,GAAI,CAClE,MAAMpB,EAAK,SAAS,eAAeoB,EAAO,MAAM,SAAS,IAAI,EACzDpB,GACFA,EAAG,eAAegB,CAAyB,CAE/C,CACF,CACF,CCvNA,SAASe,GAAO3C,EAAK4C,EAAY,OAAQ,CACvC,MAAMjM,EAAS,IAAI,gBACnB,UAAW/F,KAAOoP,EAAK,CACrB,MAAM5B,EAAM4B,EAAIpP,CAAG,EACfwN,IAAQ,QACVzH,EAAO,IAAI/F,EAAKgS,EAAUxE,CAAG,CAAC,CAElC,CACA,OAAOzH,EAAO,SAAQ,CACxB,CACA,SAASkM,GAAQnS,EAAK,CACpB,OAAKA,EACDA,IAAQ,QAAgB,GACxBA,IAAQ,OAAe,GACpB,CAACA,EAAM,IAAM,GAAK,CAACA,EAAM,KAAOA,EAAM,CAACA,EAAMA,EAHnC,EAInB,CACA,SAASoS,GAAOpS,EAAK,CACnB,MAAMqS,EAAe,IAAI,gBAAgBrS,CAAG,EACtCiG,EAAS,CAAA,EACf,SAAW,CAAC/F,EAAK/C,CAAK,IAAKkV,EAAa,QAAO,EAAI,CACjD,MAAMC,EAAgBrM,EAAO/F,CAAG,EAC5BoS,GAAiB,KACnBrM,EAAO/F,CAAG,EAAIiS,GAAQhV,CAAK,EAClB,MAAM,QAAQmV,CAAa,EACpCA,EAAc,KAAKH,GAAQhV,CAAK,CAAC,EAEjC8I,EAAO/F,CAAG,EAAI,CAACoS,EAAeH,GAAQhV,CAAK,CAAC,CAEhD,CACA,OAAO8I,CACT,CC7BA,MAAMsM,GAAqBC,GAAgB,KAAK,KAAK,EAC/CC,GAAyBC,GAC7B,KAAK,UACL,KAAK,KACP,EACA,SAASF,GAAgBG,EAAQ,CAC/B,OAAQC,GAAc,CAChBA,EAAU,CAAC,IAAM,MACnBA,EAAYA,EAAU,UAAU,CAAC,GAEnC,MAAMC,EAAQT,GAAOQ,CAAS,EAC9B,UAAW1S,KAAO2S,EAAO,CACvB,MAAM1V,EAAQ0V,EAAM3S,CAAG,EACvB,GAAI,OAAO/C,GAAU,SACnB,GAAI,CACF0V,EAAM3S,CAAG,EAAIyS,EAAOxV,CAAK,CAC3B,MAAe,CACf,CAEJ,CACA,OAAO0V,CACT,CACF,CACA,SAASH,GAAoBR,EAAWS,EAAQ,CAC9C,MAAMG,EAAY,OAAOH,GAAW,WACpC,SAASI,EAAerF,EAAK,CAC3B,GAAI,OAAOA,GAAQ,UAAYA,IAAQ,KACrC,GAAI,CACF,OAAOwE,EAAUxE,CAAG,CACtB,MAAe,CACf,SACSoF,GAAa,OAAOpF,GAAQ,SACrC,GAAI,CACF,OAAAiF,EAAOjF,CAAG,EACHwE,EAAUxE,CAAG,CACtB,MAAe,CACf,CAEF,OAAOA,CACT,CACA,OAAQsF,GAAW,CACjB,MAAMJ,EAAYX,GAAOe,EAAQD,CAAc,EAC/C,OAAOH,EAAY,IAAIA,CAAS,GAAK,EACvC,CACF,CC7CA,MAAMK,EAAc,WCApB,SAASC,GAASxU,EAAM,CAEtB,GADAA,EAAK,WAAaA,EAAK,YAAcA,EAAK,MAAQ,IAC9C,CAACA,EAAK,gBAAkB,OAAOA,EAAK,MAAS,SAC/C,GAAI,CACF,IAAI,IAAIA,EAAK,IAAI,EACjBA,EAAK,eAAiB,EACxB,MAAQ,CACR,CAEF,MAAMyU,EAAU,IAAI,QAAQzU,EAAK,OAAO,EACpCA,EAAK,MAAQyU,EAAQ,IAAI,UAAU,IAAM,MAC3CA,EAAQ,IAAI,WAAYzU,EAAK,IAAI,EAEnC,MAAM0U,EAAW,IAAI,SAAS,KAAM,CAClC,OAAQ1U,EAAK,WACb,QAAAyU,CACJ,CAAG,EAED,GADAC,EAAS,QAAU1U,EACfA,EAAK,MACP,MAAM0U,EAER,OAAOA,CACT,CACA,SAASC,EAAW/D,EAAK,CACvB,OAAOA,aAAe,UAAY,CAAC,CAACA,EAAI,OAC1C,CCnBA,MAAMgE,GAAkBC,GAAU,OAChC,GAAI,CAACA,EAAM,SACT,OAAAA,EAAM,SAAW,IACVrV,EAAAqV,EAAM,UAAN,YAAArV,EAAA,KAAAqV,EAEX,EACMC,GAAiB,CAACD,EAAOE,IACtB,CAAC,EAAEF,EAAM,SAAW,CAACA,EAAM,OAAO,MAAM,QAAQ,KAAMvX,GAAMA,EAAE,KAAOyX,CAAO,GAE/EC,GAAoB,CAACH,EAAOxT,EAAO4T,EAAsB,KAAS,CACtE,MAAMC,EAAU,CACd,GAAGL,EAAM,OAAO,QAAQ,SAAW,CAAA,CACvC,EACQ7L,EAAMiM,EAAsB5T,EAAQA,EAAQ,EAClD,QAASkE,EAAI,EAAGA,GAAKyD,EAAKzD,IAAK,CAC7B,MAAM4P,EAAaN,EAAM,QAAQtP,CAAC,EAClC,GAAI,CAAC4P,EAAY,SACjB,MAAMrY,EAAI+X,EAAM,OAAO,SAASM,EAAW,EAAE,EACxCrY,GACL,OAAO,OAAOoY,EAASpY,EAAE,eAAgBA,EAAE,mBAAmB,CAChE,CACA,OAAOoY,CACT,EACME,GAAkB,CAACP,EAAOQ,IAAQ,OACtC,MAAMC,EAAcT,EAAM,OAAO,WAAWQ,EAAI,SAAW,EAAE,GAAKR,EAAM,OAAO,UAC3E,CAACS,EAAY,QAAQ,qBAAqB9V,EAAAqV,EAAM,OAAO,UAAb,MAAArV,EAAsB,4BAClE8V,EAAY,QAAQ,kBAAoBT,EAAM,OAAO,QAAQ,0BAE/DpN,EACE6N,EAAY,QAAQ,iBAEtB,EACA,MAAMC,EAAgBV,EAAM,QAAQ,KAAM/X,GAAMA,EAAE,UAAYwY,EAAY,EAAE,EAC5E7N,EAAU8N,EAAe,mCAAqCD,EAAY,EAAE,EAC5ET,EAAM,YAAYU,EAAc,GAAK5Q,IAAU,CAC7C,GAAGA,EACH,OAAQ,WACR,MAAO0Q,EACP,WAAY,EAChB,EAAI,EACEA,EAAI,aAAe,eAAiBC,EAAY,cAClDD,EAAI,QAAUC,EAAY,YAAY,GACtCF,GAAgBP,EAAOQ,CAAG,EAE9B,EACMG,EAA4B,CAACX,EAAO3N,EAAOmO,IAAQ,WACvD,GAAI,GAACV,EAAWU,CAAG,GAAK,CAAC1E,EAAW0E,CAAG,GACvC,IAAIV,EAAWU,CAAG,GAAKA,EAAI,iBAAmB,CAACA,EAAI,QAAQ,eACzD,MAAMA,EAER,GAAInO,EAAO,EACT1H,EAAA0H,EAAM,aAAa,oBAAnB,MAAA1H,EAAsC,WACtCC,EAAAyH,EAAM,aAAa,gBAAnB,MAAAzH,EAAkC,UAClCyH,EAAM,aAAa,kBAAoB,OACvCA,EAAM,aAAa,cAAgB,OACnC,MAAMuO,EAASd,EAAWU,CAAG,EAAI,aAAe,WAChDnO,EAAM,aAAa,MAAQmO,EAC3BR,EAAM,YAAY3N,EAAM,GAAKvC,IAAU,CACrC,GAAGA,EACH,OAAA8Q,EACA,WAAY,GACZ,MAAOJ,CACb,EAAM,EACE1E,EAAW0E,CAAG,GAAK,CAACA,EAAI,UAC1BA,EAAI,QAAUnO,EAAM,UAEtBvH,EAAAuH,EAAM,aAAa,cAAnB,MAAAvH,EAAgC,SAClC,CACA,MAAIgV,EAAWU,CAAG,GAChBR,EAAM,SAAW,GACjBQ,EAAI,QAAQ,cAAgBR,EAAM,SAClCQ,EAAI,gBAAkB,GACtBA,EAAMR,EAAM,OAAO,gBAAgBQ,CAAG,EAChCA,IAEND,GAAgBP,EAAOQ,CAAG,EACpBA,GAEV,EACMK,GAAmB,CAACb,EAAOE,IAAY,CAC3C,MAAM7N,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EAI3C,MAHI,IAACF,EAAM,OAAO,UAAY3N,EAAM,aAAa,YAG7C2N,EAAM,OAAO,UAAY3N,EAAM,MAAQ,GAI7C,EACMyO,GAAoB,CAACd,EAAOxT,EAAOgU,EAAKO,IAAe,SAC3D,KAAM,CAAE,GAAIb,EAAS,QAAAc,CAAO,EAAKhB,EAAM,QAAQxT,CAAK,EAC9CuI,EAAQiL,EAAM,OAAO,gBAAgBgB,CAAO,EAClD,GAAIR,aAAe,QACjB,MAAMA,EAERA,EAAI,WAAaO,EACjBf,EAAM,qBAANA,EAAM,mBAAuBxT,GAC7BmU,EAA0BX,EAAOA,EAAM,OAAO,SAASE,CAAO,EAAGM,CAAG,EACpE,GAAI,EACF5V,GAAAD,EAAAoK,EAAM,SAAQ,UAAd,MAAAnK,EAAA,KAAAD,EAAwB6V,EAC1B,OAASS,EAAiB,CACxBT,EAAMS,EACNN,EAA0BX,EAAOA,EAAM,OAAO,SAASE,CAAO,EAAGM,CAAG,CACtE,CACAR,EAAM,YAAYE,EAAUpQ,GAAS,SACnC,OAAAnF,EAAAmF,EAAK,aAAa,oBAAlB,MAAAnF,EAAqC,UACrCmF,EAAK,aAAa,kBAAoB,QACtClF,EAAAkF,EAAK,aAAa,cAAlB,MAAAlF,EAA+B,UACxB,CACL,GAAGkF,EACH,MAAO0Q,EACP,OAAQ,QACR,WAAY,GACZ,UAAW,KAAK,IAAG,EACnB,gBAAiB,IAAI,eAC3B,CACE,CAAC,CACH,EACMU,GAAkB,CAAClB,EAAOE,EAAS1T,EAAOuI,IAAU,OACxD,MAAMoM,EAAgBnB,EAAM,OAAO,SAASE,CAAO,EAC7CkB,GAAgBzW,EAAAqV,EAAM,QAAQxT,EAAQ,CAAC,IAAvB,YAAA7B,EAA0B,GAC1C0W,EAAcD,EAAgBpB,EAAM,OAAO,SAASoB,CAAa,EAAI,OAC3E,GAAIpB,EAAM,OAAO,UAAW,CAC1BmB,EAAc,IAAMpM,EAAM,KAAO2K,EACjC,MACF,CACA,IAAI2B,GAAA,YAAAA,EAAa,OAAQ,GAAO,CAC9BF,EAAc,IAAM,GACpB,MACF,CACA,MAAMG,EAAkBC,GAClBA,IAAa,KAAQF,GAAA,YAAAA,EAAa,OAAQ,YACrC,YAEFE,EAEHC,EAAaxB,EAAM,OAAO,QAAQ,YAAc,GACtD,GAAIjL,EAAM,QAAQ,MAAQ,OAAQ,CAChCoM,EAAc,IAAMG,EAAeE,CAAU,EAC7C,MACF,CACA,GAAI,OAAOzM,EAAM,QAAQ,KAAQ,WAAY,CAC3CoM,EAAc,IAAMG,EAAevM,EAAM,QAAQ,GAAG,EACpD,MACF,CACA,KAAM,CAAE,OAAA0K,EAAQ,OAAA3H,CAAM,EAAKqJ,EACrBM,EAAe,CACnB,OAAQC,GAAUjC,EAAQ0B,EAAc,WAAW,EACnD,OAAQO,GAAU5J,EAAQqJ,EAAc,WAAW,EACnD,SAAUnB,EAAM,SAChB,QAASA,EAAM,QAAQ,IAAK3N,IAAW,CACrC,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,SAAUA,EAAM,SAChB,WAAYA,EAAM,WAClB,GAAIA,EAAM,GACV,QAASA,EAAM,QACf,OAAQqP,GAAUrP,EAAM,OAAQA,EAAM,WAAW,EACjD,OAAQqP,GAAUrP,EAAM,OAAQA,EAAM,WAAW,EACjD,IAAKA,EAAM,GACjB,EAAM,CACN,EACQsP,EAAU5M,EAAM,QAAQ,IAAI0M,CAAY,EAC9C,GAAIzP,EAAU2P,CAAO,EACnB,OAAOA,EAAQ,KAAMC,GAAQ,CAC3BT,EAAc,IAAMG,EAAeM,GAAOJ,CAAU,CACtD,CAAC,EAEHL,EAAc,IAAMG,EAAeK,GAAWH,CAAU,CAE1D,EACMK,GAAsB,CAAC7B,EAAOE,EAASnL,EAAO1C,IAAU,OAC5D,GAAIA,EAAM,aAAa,iBAAmB,OAAQ,OAClD,MAAMyP,EAAY/M,EAAM,QAAQ,WAAaiL,EAAM,OAAO,QAAQ,iBAElE,GADsB,CAAC,EAAEA,EAAM,SAAW,CAACA,EAAM,OAAO,UAAY,CAACC,GAAeD,EAAOE,CAAO,IAAMnL,EAAM,QAAQ,QAAUA,EAAM,QAAQ,YAAcgN,GAAkBhN,CAAK,IAAM,OAAO+M,GAAc,UAAYA,IAAc,MAAa/M,EAAM,QAAQ,oBAAoBpK,EAAAqV,EAAM,OAAO,UAAb,YAAArV,EAAsB,2BAC1R,CACjB,MAAMqX,EAAiB,WAAW,IAAM,CACtCjC,GAAeC,CAAK,CACtB,EAAG8B,CAAS,EACZzP,EAAM,aAAa,eAAiB2P,CACtC,CACF,EACMC,GAAqB,CAACjC,EAAOE,EAASnL,IAAU,CACpD,MAAMoM,EAAgBnB,EAAM,OAAO,SAASE,CAAO,EACnD,GAAI,CAACiB,EAAc,aAAa,mBAAqB,CAACA,EAAc,aAAa,cAC/E,OACFU,GAAoB7B,EAAOE,EAASnL,EAAOoM,CAAa,EACxD,MAAMe,EAAO,IAAM,CACjB,MAAM7P,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EACvC7N,EAAM,UAAYA,EAAM,SAAW,cAAgBA,EAAM,SAAW,aACtEsO,EAA0BX,EAAO3N,EAAOA,EAAM,KAAK,CAEvD,EACA,OAAO8O,EAAc,aAAa,kBAAoBA,EAAc,aAAa,kBAAkB,KAAKe,CAAI,EAAIA,EAAI,CACtH,EACMC,GAAoB,CAACnC,EAAOE,EAAS1T,EAAOuI,IAAU,OAC1D,MAAM1C,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EACrCkC,EAAkB/P,EAAM,aAAa,YAC3CA,EAAM,aAAa,YAAcZ,GAAwB,IAAM,CAC7D2Q,GAAA,MAAAA,EAAiB,SACnB,CAAC,EACD,KAAM,CAAE,YAAAC,EAAa,YAAAC,CAAW,EAAKjQ,EACjCgQ,GACFvB,GAAkBd,EAAOxT,EAAO6V,EAAa,cAAc,EAEzDC,GACFxB,GAAkBd,EAAOxT,EAAO8V,EAAa,iBAAiB,EAEhET,GAAoB7B,EAAOE,EAASnL,EAAO1C,CAAK,EAChD,MAAMkQ,EAAkB,IAAI,gBACtBnB,GAAgBzW,EAAAqV,EAAM,QAAQxT,EAAQ,CAAC,IAAvB,YAAA7B,EAA0B,GAC1C0W,EAAcD,EAAgBpB,EAAM,OAAO,SAASoB,CAAa,EAAI,QAC3EC,GAAA,YAAAA,EAAa,UAAWrB,EAAM,OAAO,QAAQ,QAC7C,IAAIwC,EAAY,GAChB,MAAMC,EAAU,IAAM,CAChBD,IACJA,EAAY,GACZxC,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,WAAY,aACZ,WAAYA,EAAK,WAAa,EAC9B,gBAAAyS,CAIN,EAAM,EACJ,EACMzQ,EAAU,IAAM,QACpBnH,EAAA0H,EAAM,aAAa,oBAAnB,MAAA1H,EAAsC,UACtC0H,EAAM,aAAa,kBAAoB,OACvC2N,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,WAAY,EAClB,EAAM,CACJ,EACA,GAAI,CAACiF,EAAM,QAAQ,WAAY,CAC7B5K,GAAM,IAAM,CACVsY,EAAO,EACP3Q,EAAO,CACT,CAAC,EACD,MACF,CACAO,EAAM,aAAa,kBAAoBZ,GAAuB,EAC9D,MAAM4O,EAAU,CACd,GAAGF,GAAkBH,EAAOxT,EAAO,EAAK,EACxC,GAAG6F,EAAM,cACb,EACQ,CAAE,OAAAoN,EAAQ,OAAA3H,EAAQ,MAAA4K,CAAK,EAAKrQ,EAC5BsQ,EAAU1C,GAAeD,EAAOE,CAAO,EACvC0C,EAAsB,CAC1B,OAAAnD,EACA,gBAAA8C,EACA,OAAAzK,EACA,QAAA6K,EACA,QAAAtC,EACA,SAAUL,EAAM,SAChB,SAAW7U,GAAS6U,EAAM,OAAO,SAAS,CACxC,GAAG7U,EACH,cAAe6U,EAAM,QAC3B,CAAK,EACD,cAAeA,EAAM,OAAO,cAC5B,MAAO2C,EAAU,UAAYD,EAC7B,QAAS1C,EAAM,QACf,GAAGA,EAAM,OAAO,QAAQ,iBAC5B,EACQ6C,EAAiBC,GAAuB,CAC5C,GAAIA,IAAuB,OAAQ,CACjC3Y,GAAM,IAAM,CACVsY,EAAO,EACP3Q,EAAO,CACT,CAAC,EACD,MACF,EACIgO,EAAWgD,CAAkB,GAAKhH,EAAWgH,CAAkB,KACjEL,EAAO,EACP3B,GAAkBd,EAAOxT,EAAOsW,EAAoB,aAAa,GAEnE3Y,GAAM,IAAM,CACVsY,EAAO,EACPzC,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,oBAAqBgT,CAC7B,EAAQ,EACFhR,EAAO,CACT,CAAC,CACH,EACA,IAAIiR,EACJ,GAAI,CAEF,GADAA,EAAoBhO,EAAM,QAAQ,WAAW6N,CAAmB,EAC5D5Q,EAAU+Q,CAAiB,EAC7B,OAAAN,EAAO,EACAM,EAAkB,MAAOvC,GAAQ,CACtCM,GAAkBd,EAAOxT,EAAOgU,EAAK,aAAa,CACpD,CAAC,EAAE,KAAKqC,CAAa,CAEzB,OAASrC,EAAK,CACZiC,EAAO,EACP3B,GAAkBd,EAAOxT,EAAOgU,EAAK,aAAa,CACpD,CACAqC,EAAcE,CAAiB,CAEjC,EACMC,GAAmB,CAAChD,EAAOxT,IAAU,CACzC,KAAM,CAAE,GAAI0T,EAAS,QAAAc,CAAO,EAAKhB,EAAM,QAAQxT,CAAK,EAC9CuI,EAAQiL,EAAM,OAAO,gBAAgBgB,CAAO,EAC5CiC,EAAY,IAAM,CACtB,GAAIjD,EAAM,OAAO,SAAU,CACzB,MAAMkD,EAAehC,GAAgBlB,EAAOE,EAAS1T,EAAOuI,CAAK,EACjE,GAAI/C,EAAUkR,CAAY,EAAG,OAAOA,EAAa,KAAKC,CAAc,CACtE,CACA,OAAOA,EAAc,CACvB,EACMC,EAAU,IAAMjB,GAAkBnC,EAAOE,EAAS1T,EAAOuI,CAAK,EAC9DoO,EAAiB,IAAM,CAC3B,GAAItC,GAAiBb,EAAOE,CAAO,EAAG,OACtC,MAAMxN,EAASuP,GAAmBjC,EAAOE,EAASnL,CAAK,EACvD,OAAO/C,EAAUU,CAAM,EAAIA,EAAO,KAAK0Q,CAAO,EAAIA,EAAO,CAC3D,EACA,OAAOH,EAAS,CAClB,EACMI,GAAc,CAACrD,EAAOE,EAASnL,IAAU,iBAC7C,MAAM1C,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EAI3C,GAHI,CAAC7N,GAGD,CAAC0C,EAAM,QAAQ,MAAQ,CAACA,EAAM,QAAQ,SAAW,CAACA,EAAM,QAAQ,QAClE,OAEF,MAAMuO,EAAe,CACnB,QAAStD,EAAM,QACf,MAAA3N,EACA,OAAQA,EAAM,OACd,WAAYA,EAAM,UACtB,EACE,OAAO,QAAQ,IAAI,EACjBzH,GAAAD,EAAAoK,EAAM,SAAQ,OAAd,YAAAnK,EAAA,KAAAD,EAAqB2Y,IACrB1N,GAAA9K,EAAAiK,EAAM,SAAQ,UAAd,YAAAa,EAAA,KAAA9K,EAAwBwY,IACxB5K,GAAA3C,EAAAhB,EAAM,SAAQ,UAAd,YAAA2D,EAAA,KAAA3C,EAAwBuN,EAC5B,CAAG,EAAE,KAAK,CAAC,CAACC,EAAeC,EAAS5D,CAAO,IAAM,CAC7C,MAAM6D,EAAOF,GAAA,YAAAA,EAAe,KACtBG,EAAQH,GAAA,YAAAA,EAAe,MACvBI,EAAcJ,GAAA,YAAAA,EAAe,QAC7BK,EAASL,GAAA,YAAAA,EAAe,OAC9B,MAAO,CACL,KAAAE,EACA,MAAAC,EACA,YAAAC,EACA,QAAA/D,EACA,QAAA4D,EACA,OAAAI,CACN,CACE,CAAC,CACH,EACMC,GAAmB,CAAC7D,EAAOE,EAAS1T,EAAOuI,IAAU,CACzD,MAAM+O,EAAqB9D,EAAM,cAAcxT,EAAQ,CAAC,EAClD,CAAE,OAAAsL,EAAQ,WAAAiM,EAAY,gBAAAxB,EAAiB,MAAAG,CAAK,EAAK1C,EAAM,OAAO,SAASE,CAAO,EAC9EG,EAAUF,GAAkBH,EAAOxT,CAAK,EACxCmW,EAAU1C,GAAeD,EAAOE,CAAO,EAC7C,MAAO,CACL,OAAApI,EACA,KAAMiM,EACN,QAAS,CAAC,CAACpB,EACX,mBAAAmB,EACA,gBAAAvB,EACA,QAAAlC,EACA,SAAUL,EAAM,SAChB,SAAW7U,GAAS6U,EAAM,OAAO,SAAS,CACxC,GAAG7U,EACH,cAAe6U,EAAM,QAC3B,CAAK,EACD,MAAO2C,EAAU,UAAYD,EAC7B,MAAA3N,EACA,GAAGiL,EAAM,OAAO,QAAQ,iBAC5B,CACA,EACMgE,GAAY,MAAOhE,EAAOE,EAAS1T,EAAOuI,IAAU,iBACxD,GAAI,CACF,MAAM1C,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EAC3C,GAAI,EACE,CAACF,EAAM,OAAO,UAAY3N,EAAM,MAAQ,KAC1C4R,GAAelP,CAAK,EAEtB,MAAMmP,GAAetZ,GAAAD,EAAAoK,EAAM,SAAQ,SAAd,YAAAnK,EAAA,KAAAD,EACnBkZ,GAAiB7D,EAAOE,EAAS1T,EAAOuI,CAAK,GAEzCoP,EAAwBpP,EAAM,QAAQ,QAAU/C,EAAUkS,CAAY,EAQ5E,GAP0B,CAAC,EAAEC,GAAyBpP,EAAM,cAAgBA,EAAM,oBAAsBA,EAAM,QAAQ,MAAQA,EAAM,QAAQ,SAAWA,EAAM,QAAQ,SAAW1C,EAAM,aAAa,oBAEjM2N,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,WAAY,QACtB,EAAU,EAEAiF,EAAM,QAAQ,OAAQ,CACxB,MAAMqP,EAAaD,EAAwB,MAAMD,EAAeA,EAChEvD,EACEX,EACAA,EAAM,OAAO,SAASE,CAAO,EAC7BkE,CACV,EACYA,IAAe,QACjBpE,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,WAAAsU,CACZ,EAAY,CAEN,CACIrP,EAAM,cAAc,MAAMA,EAAM,aACpC,MAAMsP,EAAiBhS,EAAM,aAAa,kBACtCgS,GAAgB,MAAMA,EACtBtP,EAAM,oBAAoB,MAAMA,EAAM,mBAC1CiL,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,MAAO,OACP,OAAQ,UACR,WAAY,GACZ,UAAW,KAAK,IAAG,CAC3B,EAAQ,CACJ,OAASpH,EAAG,CACV,IAAI0U,EAAQ1U,EACZ,MAAM2b,EAAiBhS,EAAM,aAAa,kBACtCgS,GAAgB,MAAMA,EACtBvI,EAAWpT,CAAC,GACd,OAAMkN,GAAA9K,EAAAiK,EAAM,QAAQ,oBAAd,YAAAjK,EAAiC,UAAjC,YAAA8K,EAAA,KAAA9K,IAER6V,EAA0BX,EAAOA,EAAM,OAAO,SAASE,CAAO,EAAGxX,CAAC,EAClE,GAAI,EACFgQ,GAAA3C,EAAAhB,EAAM,SAAQ,UAAd,MAAA2D,EAAA,KAAA3C,EAAwBrN,EAC1B,OAAS4b,EAAc,CACrBlH,EAAQkH,EACR3D,EACEX,EACAA,EAAM,OAAO,SAASE,CAAO,EAC7BoE,CACV,CACM,CACAtE,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,MAAAsN,EACA,OAAQ,QACR,WAAY,EACpB,EAAQ,CACJ,CACF,OAASoD,EAAK,CACZ,MAAMnO,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EACvC7N,IACFA,EAAM,aAAa,cAAgB,QAErCsO,EAA0BX,EAAO3N,EAAOmO,CAAG,CAC7C,CACF,EACM+D,GAAiB,MAAOvE,EAAOxT,IAAU,SAC7C,KAAM,CAAE,GAAI0T,EAAS,QAAAc,CAAO,EAAKhB,EAAM,QAAQxT,CAAK,EACpD,IAAIgY,EAAuB,GACvBC,EAAuB,GAC3B,MAAM1P,EAAQiL,EAAM,OAAO,gBAAgBgB,CAAO,EAC5C0D,EAAgB,IAAM,CAC1B1E,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,QAASqQ,GAAkBH,EAAOxT,CAAK,CAC7C,EAAM,CACJ,EACA,GAAIqU,GAAiBb,EAAOE,CAAO,GACjC,GAAIF,EAAM,OAAO,SACf,OAAOA,EAAM,OAAO,SAASE,CAAO,MAEjC,CACL,MAAMyE,EAAY3E,EAAM,OAAO,SAASE,CAAO,EAC/C,GAAIyE,EAAU,aAAa,cAAe,CACxC,GAAIA,EAAU,SAAW,WAAa,CAAC3E,EAAM,MAAQ,CAAC2E,EAAU,QAC9D,OAAOA,EAET,MAAMA,EAAU,aAAa,cAC7B,MAAMC,EAAS5E,EAAM,OAAO,SAASE,CAAO,EACtC9C,EAAQwH,EAAO,aAAa,OAASA,EAAO,MAC9CxH,GACFuD,EAA0BX,EAAO4E,EAAQxH,CAAK,CAElD,KAAO,CACL,MAAMyH,EAAM,KAAK,IAAG,EAAKF,EAAU,UAC7BhC,EAAU1C,GAAeD,EAAOE,CAAO,EACvC4E,EAAWnC,EAAU5N,EAAM,QAAQ,kBAAoBiL,EAAM,OAAO,QAAQ,yBAA2B,IAAMjL,EAAM,QAAQ,WAAaiL,EAAM,OAAO,QAAQ,kBAAoB,EACjL+E,EAAqBhQ,EAAM,QAAQ,aACnCiQ,EAAe,OAAOD,GAAuB,WAAaA,EAAmBlB,GAAiB7D,EAAOE,EAAS1T,EAAOuI,CAAK,CAAC,EAAIgQ,EAC/HE,EAAc,CAAC,CAACtC,GAAW,CAAC3C,EAAM,OAAO,MAAM,QAAQ,KAAMvX,GAAMA,EAAE,KAAOyX,CAAO,EACnF0E,EAAS5E,EAAM,OAAO,SAASE,CAAO,EAC5C0E,EAAO,aAAa,cAAgBnT,GAAuB,EACvDwT,IAAgBL,EAAO,SACzB5E,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,QAASmV,CACnB,EAAU,EAEJ,KAAM,CAAE,OAAArE,EAAQ,QAAAsE,CAAO,EAAKN,EAC5BJ,EAAuB5D,IAAW,YAAcsE,IAAYF,GAAgBH,EAAMC,IAC9EnC,GAAW5N,EAAM,QAAQ,UAAY,KAChCyP,GAAwB,CAACxE,EAAM,MACtCyE,EAAuB,IACtB,SAAY,SACX,GAAI,CACF,MAAMT,GAAUhE,EAAOE,EAAS1T,EAAOuI,CAAK,EAC5C2P,EAAa,EACb,MAAMS,EAASnF,EAAM,OAAO,SAASE,CAAO,GAC5CvV,EAAAwa,EAAO,aAAa,gBAApB,MAAAxa,EAAmC,WACnCC,EAAAua,EAAO,aAAa,cAApB,MAAAva,EAAiC,UACjCua,EAAO,aAAa,cAAgB,MACtC,OAAS3E,EAAK,CACRV,EAAWU,CAAG,GAChB,MAAMR,EAAM,OAAO,SAASQ,EAAI,OAAO,CAE3C,CACF,GAAC,IACQI,IAAW,WAAa4D,GAAwBxE,EAAM,OAC/D,MAAMgE,GAAUhE,EAAOE,EAAS1T,EAAOuI,CAAK,EAEhD,CACF,CACA,MAAM1C,EAAQ2N,EAAM,OAAO,SAASE,CAAO,EACtCuE,KACH9Z,EAAA0H,EAAM,aAAa,gBAAnB,MAAA1H,EAAkC,WAClCC,EAAAyH,EAAM,aAAa,cAAnB,MAAAzH,EAAgC,WAElC,aAAayH,EAAM,aAAa,cAAc,EAC9CA,EAAM,aAAa,eAAiB,OAC/BoS,IAAsBpS,EAAM,aAAa,cAAgB,QAC9DA,EAAM,aAAa,WAAa,OAC3BoS,GACHC,EAAa,EAEf,MAAMU,EAAiBX,EAAuBpS,EAAM,WAAa,GACjE,OAAI+S,IAAmB/S,EAAM,YAAcA,EAAM,UAAY,IAC3D2N,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,WAAYsV,EACZ,QAAS,EACf,EAAM,EACKpF,EAAM,OAAO,SAASE,CAAO,GAE7B7N,CAEX,EACA,eAAegT,GAAYC,EAAK,CAC9B,MAAMtF,EAAQ,OAAO,OAAOsF,EAAK,CAC/B,cAAe,CAAA,CACnB,CAAG,EACG,CAACtF,EAAM,OAAO,UAAYA,EAAM,OAAO,MAAM,QAAQ,KAAMvX,GAAMA,EAAE,aAAa,GAClFsX,GAAeC,CAAK,EAEtB,GAAI,CACF,QAAStP,EAAI,EAAGA,EAAIsP,EAAM,QAAQ,OAAQtP,IAAK,CAC7C,MAAM6U,EAAavC,GAAiBhD,EAAOtP,CAAC,EACxCsB,EAAUuT,CAAU,GAAG,MAAMA,CACnC,CACA,MAAMvS,EAAMgN,EAAM,oBAAsBA,EAAM,QAAQ,OACtD,QAAStP,EAAI,EAAGA,EAAIsC,EAAKtC,IACvBsP,EAAM,cAAc,KAAKuE,GAAevE,EAAOtP,CAAC,CAAC,EAGnD,MAAM8U,GADU,MAAM,QAAQ,WAAWxF,EAAM,aAAa,GACnC,OACtBtN,GAAWA,EAAO,SAAW,UACpC,EAAM,IAAKA,GAAWA,EAAO,MAAM,EAC/B,IAAI+S,EACJ,UAAWjF,KAAOgF,EAAU,CAC1B,GAAI1F,EAAWU,CAAG,EAChB,MAAMA,EAEJ,CAACiF,GAAiB3J,EAAW0E,CAAG,IAClCiF,EAAgBjF,EAEpB,CACA,UAAWnO,KAAS2N,EAAM,QAAS,CACjC,KAAM,CAAE,GAAIE,EAAS,QAAAc,CAAO,EAAK3O,EAC3B0C,EAAQiL,EAAM,OAAO,gBAAgBgB,CAAO,EAClD,GAAI,CACF,MAAM0E,EAAarC,GAAYrD,EAAOE,EAASnL,CAAK,EACpD,GAAI2Q,EAAY,CACd,MAAMC,EAAO,MAAMD,EACnB1F,EAAM,YAAYE,EAAUpQ,IAAU,CACpC,GAAGA,EACH,GAAG6V,CACf,EAAY,CACJ,CACF,OAASnF,EAAK,CACZ,QAAQ,MAAM,kCAAkCQ,CAAO,IAAKR,CAAG,CACjE,CACF,CACA,GAAIiF,EACF,MAAMA,EAER,MAAMG,EAAe7F,GAAeC,CAAK,EACrChO,EAAU4T,CAAY,GAAG,MAAMA,CACrC,OAASpF,EAAK,CACZ,GAAI1E,EAAW0E,CAAG,GAAK,CAACR,EAAM,QAAS,CACrC,MAAM4F,EAAe7F,GAAeC,CAAK,EACzC,MAAIhO,EAAU4T,CAAY,GAAG,MAAMA,EAC7BpF,CACR,CACA,GAAIV,EAAWU,CAAG,EAChB,MAAMA,CAEV,CACA,OAAOR,EAAM,OACf,CACA,eAAeiE,GAAelP,EAAO,CAanC,GAZI,CAACA,EAAM,aAAeA,EAAM,eAAiB,SAC3CA,EAAM,OACRA,EAAM,aAAeA,EAAM,OAAM,EAAG,KAAM8Q,GAAc,CACtD,KAAM,CAAE,GAAIC,EAAK,GAAGpb,CAAO,EAAKmb,EAAU,QAC1C,OAAO,OAAO9Q,EAAM,QAASrK,CAAO,EACpCqK,EAAM,YAAc,GACpBA,EAAM,aAAe,MACvB,CAAC,EAEDA,EAAM,YAAc,IAGpB,CAACA,EAAM,mBAAqBA,EAAM,qBAAuB,OAAQ,CACnE,MAAMgR,EAAiB,IAAM,OAC3B,MAAMC,EAAW,CAAA,EACjB,UAAW7X,KAAQ8X,GAAgB,CACjC,MAAMtD,GAAUhY,EAAAoK,EAAM,QAAQ5G,CAAI,IAAlB,YAAAxD,EAAqB,QACjCgY,GAASqD,EAAS,KAAKrD,EAAO,CAAE,CACtC,CACA,GAAIqD,EAAS,OACX,OAAO,QAAQ,IAAIA,CAAQ,EAAE,KAAK,IAAM,CACtCjR,EAAM,kBAAoB,GAC1BA,EAAM,mBAAqB,MAC7B,CAAC,EACHA,EAAM,kBAAoB,GAC1BA,EAAM,mBAAqB,MAE7B,EACAA,EAAM,mBAAqBA,EAAM,aAAeA,EAAM,aAAa,KAAKgR,CAAc,EAAIA,EAAc,CAC1G,CACA,OAAOhR,EAAM,kBACf,CACA,SAAS2M,GAAU9X,EAAOwT,EAAO,CAC/B,OAAIA,EACK,CAAE,OAAQ,QAAS,MAAAA,CAAK,EAE1B,CAAE,OAAQ,UAAW,MAAAxT,CAAK,CACnC,CACA,SAASmY,GAAkBhN,EAAO,OAChC,UAAWmR,KAAiBD,GAC1B,IAAItb,EAAAoK,EAAM,QAAQmR,CAAa,IAA3B,MAAAvb,EAA8B,QAChC,MAAO,GAGX,MAAO,EACT,CACA,MAAMsb,GAAiB,CACrB,YACA,iBACA,mBACA,mBACF,ECppBA,SAASE,GAAgBC,EAAU,CACjC,MAAO,CACL,MAAO,CAAC,CAAE,IAAAC,KAAU,CAClB,UAAWC,KAAWF,EACpBC,EAAME,GAAoBD,EAASD,CAAG,EAExC,OAAOA,CACT,EACA,OAAQ,CAAC,CAAE,IAAAA,KAAU,CACnB,QAAS3V,EAAI0V,EAAS,OAAS,EAAG1V,GAAK,EAAGA,IACxC2V,EAAMG,GAAqBJ,EAAS1V,CAAC,EAAG2V,CAAG,EAE7C,OAAOA,CACT,CACJ,CACA,CACA,SAASI,GAAgBtb,EAAM,CAC7B,MAAMub,EAAkBpM,GAASnP,EAAK,QAAQ,EACxCwb,EAAqB,IAAID,CAAe,GACxCE,EAA8B,GAAGD,CAAkB,IACnDE,EAAgB1b,EAAK,cAAgBwb,EAAqBA,EAAmB,YAAW,EACxFG,EAAyB3b,EAAK,cAAgByb,EAA8BA,EAA4B,YAAW,EACzH,MAAO,CACL,MAAO,CAAC,CAAE,IAAAP,KAAU,CAClB,MAAMU,EAAW5b,EAAK,cAAgBkb,EAAI,SAAWA,EAAI,SAAS,YAAW,EAC7E,OAAIU,IAAaF,EACfR,EAAI,SAAW,IACNU,EAAS,WAAWD,CAAsB,IACnDT,EAAI,SAAWA,EAAI,SAAS,MAAMM,EAAmB,MAAM,GAEtDN,CACT,EACA,OAAQ,CAAC,CAAE,IAAAA,MACTA,EAAI,SAAWrM,GAAU,CAAC,IAAK0M,EAAiBL,EAAI,QAAQ,CAAC,EACtDA,EAEb,CACA,CACA,SAASE,GAAoBD,EAASD,EAAK,OACzC,MAAMpX,GAAMtE,EAAA2b,GAAA,YAAAA,EAAS,QAAT,YAAA3b,EAAA,KAAA2b,EAAiB,CAAE,IAAAD,CAAG,GAClC,GAAIpX,EAAK,CACP,GAAI,OAAOA,GAAQ,SACjB,OAAO,IAAI,IAAIA,CAAG,EACb,GAAIA,aAAe,IACxB,OAAOA,CAEX,CACA,OAAOoX,CACT,CACA,SAASG,GAAqBF,EAASD,EAAK,OAC1C,MAAMpX,GAAMtE,EAAA2b,GAAA,YAAAA,EAAS,SAAT,YAAA3b,EAAA,KAAA2b,EAAkB,CAAE,IAAAD,CAAG,GACnC,GAAIpX,EAAK,CACP,GAAI,OAAOA,GAAQ,SACjB,OAAO,IAAI,IAAIA,CAAG,EACb,GAAIA,aAAe,IACxB,OAAOA,CAEX,CACA,OAAOoX,CACT,CC3BA,SAASW,GAAsBC,EAAa,CAC1C,MAAMC,EAAeD,EAAY,iBAC3BE,EAAaF,EAAY,SACzBG,GAAcF,GAAA,YAAAA,EAAc,YAAaC,EAAW,SACpDE,GAAcH,GAAA,YAAAA,EAAc,QAASC,EAAW,KAChDG,GAAcJ,GAAA,YAAAA,EAAc,QAASC,EAAW,KACtD,MAAO,CAAE,aAAAD,EAAc,WAAAC,EAAY,YAAAC,EAAa,YAAAC,EAAa,YAAAC,CAAA,CAC/D,CACA,MAAMC,EAAW,CAIf,YAAY7c,EAAS,CACnB,KAAK,gBAAkB,GAAG,KAAK,MAC7B,KAAK,SAAW,GAAA,CACjB,GACD,KAAK,gBAAkB,GACvB,KAAK,qBAAuB,OAC5B,KAAK,+BAAiC,OACtC,KAAK,gBAAkC,IACvC,KAAK,kBAAoB,GACzB,KAAK,yBAA2B,GAChC,KAAK,gBAAmBN,GAAOA,EAAA,EAC/B,KAAK,OAAUod,GAAe,OACxBA,EAAW,eACb,QAAQ,KACN,+MAAA,EAGJ,MAAMC,EAAc,KAAK,QACnBC,EAAe,KAAK,WAAYD,GAAA,YAAAA,EAAa,WAAY,IACzDE,EAAmB,KAAK,WAAa,OACrCC,EAAoBH,GAAA,YAAAA,EAAa,QACvC,KAAK,QAAU,CACb,GAAGA,EACH,GAAGD,CAAA,EAEL,KAAK,SAAW,KAAK,QAAQ,UAAY,OAAO,SAAa,IAC7D,KAAK,wBAA0B,KAAK,QAAQ,4BAA8B,IAAI,IAC5E,KAAK,QAAQ,4BAA4B,IAAK3L,GAAS,CACrD,mBAAmBA,CAAI,EACvBA,CAAA,CACD,CAAA,EACC,QACA,CAAC,KAAK,SAAW,KAAK,QAAQ,SAAW,KAAK,QAAQ,UAAY,KAAK,WACpE,KAAK,QAAQ,QAKhB,KAAK,QAAU,KAAK,QAAQ,QAJvB,KAAK,WACR,KAAK,QAAUhP,GAAA,IAMrB,KAAK,OAAS,KAAK,QAAQ,OACtB,KAAK,SACJ,CAAC,KAAK,WAAY,qBAAQ,SAAU,OAAO,SAAW,OACxD,KAAK,OAAS,OAAO,OAErB,KAAK,OAAS,oBAGd,KAAK,SACP,KAAK,qBAAA,EAEH,KAAK,QAAQ,YAAc,KAAK,YAClC,KAAK,UAAY,KAAK,QAAQ,UAC9B,KAAK,eAAA,GAEH,CAAC,KAAK,SAAW,KAAK,iBACxB,KAAK,QAAU,IAAIrC,GAAMqd,GAAsB,KAAK,cAAc,EAAG,CACnE,SAAU,IAAM,CACd,KAAK,QAAQ,MAAQ,CACnB,GAAG,KAAK,MACR,cAAe,KAAK,MAAM,cAAc,OACrCpf,GAAM,CAAC,CAAC,YAAY,EAAE,SAASA,EAAE,MAAM,CAAA,CAC1C,CAEJ,CAAA,CACD,EACDqV,GAAuB,IAAI,GAE7B,IAAIgK,EAAsB,GAC1B,MAAMC,EAAe,KAAK,QAAQ,UAAY,IACxCC,EAAoB,KAAK,QAAQ,QAGvC,GAFwBL,GAAoBD,IAAiBK,GACtCH,IAAsBI,EACN,CACrC,KAAK,SAAWD,EAChB,MAAM3B,EAAW,CAAA,EACb9L,GAASyN,CAAY,IAAM,IAC7B3B,EAAS,KACPK,GAAgB,CACd,SAAUsB,CAAA,CACX,CAAA,EAGDC,GACF5B,EAAS,KAAK4B,CAAiB,EAEjC,KAAK,QAAU5B,EAAS,SAAW,EAAI,OAASA,EAAS,SAAW,EAAIA,EAAS,CAAC,EAAID,GAAgBC,CAAQ,EAC1G,KAAK,SACP,KAAK,qBAAA,EAEP0B,EAAsB,EACxB,CACIA,GAAuB,KAAK,UAC9B,KAAK,QAAQ,MAAQ,CACnB,GAAG,KAAK,MACR,SAAU,KAAK,cAAA,GAGf,OAAO,OAAW,KAAe,QAAS,QAAU,QAAOnd,EAAA,OAAO,MAAP,YAAAA,EAAY,WAAa,aACtF,KAAK,+BAAiC,OAAO,IAAI,SAC/C,0CAAA,EAGN,EACA,KAAK,qBAAuB,IAAM,CAChC,KAAK,eAAiB,KAAK,cACzB,KAAK,QAAQ,SACb,KAAK,cAAA,CAET,EACA,KAAK,eAAiB,IAAM,CAC1B,KAAM,CAAE,WAAA6M,EAAY,aAAAC,EAAc,cAAAhB,CAAA,EAAkBY,GAClD,KAAK,UACL,KAAK,QAAQ,cACb,CAACtC,EAAOrE,IAAM,CACZqE,EAAM,KAAK,CACT,cAAerE,CAAA,CAChB,CACH,CAAA,EAEE,KAAK,QAAQ,YACf6F,GAAkB,KAAK,QAAQ,WAAYE,CAAa,EAE1D,KAAK,WAAae,EAClB,KAAK,aAAeC,EACpB,KAAK,cAAgBhB,EACrB,MAAMwR,EAAgB,KAAK,QAAQ,cAC/BA,IACFA,EAAc,KAAK,CACjB,cAAe,WAAA,CAChB,EACD,KAAK,WAAWA,EAAc,EAAE,EAAIA,EAExC,EACA,KAAK,UAAY,CAACC,EAAW9d,IAAO,CAClC,MAAMP,EAAW,CACf,UAAAqe,EACA,GAAA9d,CAAA,EAEF,YAAK,YAAY,IAAIP,CAAQ,EACtB,IAAM,CACX,KAAK,YAAY,OAAOA,CAAQ,CAClC,CACF,EACA,KAAK,KAAQse,GAAgB,CAC3B,KAAK,YAAY,QAASte,GAAa,CACjCA,EAAS,YAAcse,EAAY,MACrCte,EAAS,GAAGse,CAAW,CAE3B,CAAC,CACH,EACA,KAAK,cAAgB,CAACC,EAAiBC,IAAqB,CAC1D,MAAMC,EAAQ,CAAC,CACb,KAAAja,EACA,MAAAhC,CAAA,IACI,CACJ,MAAMkc,EAAU,IAAI,IAAIla,EAAM,KAAK,MAAM,EACnCgY,EAAME,GAAoB,KAAK,QAASgC,CAAO,EAC/CC,EAAe,KAAK,QAAQ,YAAYnC,EAAI,MAAM,EAClDhH,EAAY,KAAK,QAAQ,gBAAgBmJ,CAAY,EAC3D,OAAAnC,EAAI,OAAShH,EAEN,CACL,KAFegH,EAAI,KAAK,QAAQA,EAAI,OAAQ,EAAE,EAG9C,WAAYhY,EACZ,IAAAgY,EACA,SAAU/T,GAAW+T,EAAI,QAAQ,EACjC,UAAAhH,EACA,OAAQxP,EAAiBwY,GAAA,YAAAA,EAAkB,OAAQG,CAAY,EAC/D,KAAMnC,EAAI,KAAK,MAAM,GAAG,EAAE,QAAA,EAAU,CAAC,GAAK,GAC1C,MAAOxW,EAAiBwY,GAAA,YAAAA,EAAkB,MAAOhc,CAAK,CAAA,CAE1D,EACMjB,EAAWkd,EAAMF,CAAe,EAChC,CAAE,eAAAK,EAAgB,UAAAC,CAAA,EAActd,EAAS,MAC/C,GAAIqd,IAAmB,CAACC,GAAaA,IAAc,KAAK,iBAAkB,CACxE,MAAMC,EAAqBL,EAAMG,CAAc,EAC/C,OAAAE,EAAmB,MAAM,IAAMvd,EAAS,MAAM,IAC9Cud,EAAmB,MAAM,UAAYvd,EAAS,MAAM,UACpD,OAAOud,EAAmB,MAAM,eACzB,CACL,GAAGA,EACH,eAAgBvd,CAAA,CAEpB,CACA,OAAOA,CACT,EACA,KAAK,iBAAmB2H,GAAe,GAAG,EAC1C,KAAK,oBAAsB,CAACgE,EAAM3K,IACXwO,GAAY,CAC/B,KAAM7D,EACN,GAAImD,GAAU9N,CAAI,EAClB,cAAe,KAAK,QAAQ,cAC5B,MAAO,KAAK,gBAAA,CACb,EAGH,KAAK,YAAc,CAACwc,EAAgBC,EAAsB1d,IACpD,OAAOyd,GAAmB,SACrB,KAAK,oBACV,CACE,SAAUA,EACV,OAAQC,CAAA,EAEV1d,CAAA,EAGG,KAAK,oBAAoByd,EAAgBC,CAAoB,EAEtE,KAAK,iBAAoB9B,GAChB+B,GAAiB,CACtB,SAAA/B,EACA,WAAY,KAAK,WACjB,cAAe,KAAK,aAAA,CACrB,EAEH,KAAK,YAAegC,GAAO,CACzB,MAAM1W,EAAQ,KAAK,SAAS0W,CAAE,EACzB1W,IACLA,EAAM,gBAAgB,MAAA,EACtB,aAAaA,EAAM,aAAa,cAAc,EAC9CA,EAAM,aAAa,eAAiB,OACtC,EACA,KAAK,cAAgB,IAAM,CACzB,MAAM2W,EAAwB,KAAK,MAAM,QAAQ,OAC9C3W,GAAUA,EAAM,SAAW,SAAA,EAExB4W,EAAwB,KAAK,MAAM,QAAQ,OAC9C5W,GAAUA,EAAM,aAAe,QAAA,MAEe,IAAI,CACnD,GAAG,KAAK,MAAM,gBAAkB,CAAA,EAChC,GAAG2W,EACH,GAAGC,CAAA,CACJ,EACoB,QAAS5W,GAAU,CACtC,KAAK,YAAYA,EAAM,EAAE,CAC3B,CAAC,CACH,EACA,KAAK,cAAiBlH,GAAS,CAC7B,MAAM+d,EAAQ,CAACC,EAAO,KAAO,SAC3B,MAAM5b,EAAkB4b,EAAK,eAAiB,KAAK,sBAAwB,KAAK,eAC1EC,EAA4B,KAAK,YAAY7b,EAAiB,CAClE,eAAgB,EAAA,CACjB,EACK8b,EAAY9Z,GAAK6Z,CAAyB,EAC5CD,EAAK,KAYT,MAAMG,EAAoBH,EAAK,iBAAmB,OAAS5b,EAAgB,SAAW4b,EAAK,MAAQE,EAAU,SACvGE,EAAW,KAAK,oBAAoBD,EAAmB,GAAG,EAC1DE,EAAaH,EAAU,OACvBI,EAAa,CAAE,GAAGJ,EAAU,MAAA,EAC5BK,EAASP,EAAK,GAAK,KAAK,oBAAoBI,EAAU,GAAGJ,EAAK,EAAE,EAAE,EAAI,KAAK,oBAAoBI,EAAU,GAAG,EAC5GI,EAAaR,EAAK,SAAW,IAASA,EAAK,SAAW,KAAO,CAAA,GAAMA,EAAK,QAAU,MAAU,GAAOM,EAAa,OAAO,OAC3HA,EACA/Z,EAAiByZ,EAAK,OAAQM,CAAU,CAAA,EAEpCG,EAAqBrO,GAAgB,CACzC,KAAMmO,EACN,OAAQC,CAAA,CACT,EAAE,iBACGE,EAAa,KAAK,YAAYD,EAAoB,OAAQ,CAC9D,eAAgB,EAAA,CACjB,EAAE,IAAKnhB,GAAM,KAAK,gBAAgBA,EAAE,OAAO,CAAC,EAC7C,GAAI,OAAO,KAAKkhB,CAAU,EAAE,OAAS,EACnC,UAAW5U,KAAS8U,EAAY,CAC9B,MAAMzf,IAAKO,EAAAoK,EAAM,QAAQ,SAAd,YAAApK,EAAsB,YAAaoK,EAAM,QAAQ,gBACxD3K,GACF,OAAO,OAAOuf,EAAYvf,EAAGuf,CAAU,CAAC,CAE5C,CAEF,MAAMG,EAAe3e,EAAK,YAGxBue,EACEpX,GACFiJ,GAAgB,CACd,KAAMmO,EACN,OAAQC,EACR,cAAe,KAAK,uBAAA,CACrB,EAAE,gBAAA,EAEL,IAAII,EAAaP,EACjB,GAAIre,EAAK,0BAA0BP,EAAA,KAAK,QAAQ,SAAb,MAAAA,EAAqB,QAAQ,CAC9D,MAAMof,EAAkB,CAAA,EACxBH,EAAW,QAAS9U,GAAU,CAC5B,GAAIA,EAAM,QAAQ,eAChB,GAAI,CACF,OAAO,OACLiV,EACAC,GAAelV,EAAM,QAAQ,eAAgB,CAC3C,GAAGiV,EACH,GAAGD,CAAA,CACJ,CAAA,CAEL,MAAQ,CACR,CAEJ,CAAC,EACDA,EAAaC,CACf,CACAD,EAAaG,GAAsB,CACjC,OAAQH,EACR,KAAAZ,EACA,WAAAU,EACA,uBAAwB1e,EAAK,sBAAA,CAC9B,EACD4e,EAAala,EAAiB2Z,EAAYO,CAAU,EACpD,MAAM1K,EAAY,KAAK,QAAQ,gBAAgB0K,CAAU,EACnDrM,EAAOyL,EAAK,OAAS,GAAO5b,EAAgB,KAAO4b,EAAK,KAAOzZ,EAAiByZ,EAAK,KAAM5b,EAAgB,IAAI,EAAI,OACnH4c,EAAUzM,EAAO,IAAIA,CAAI,GAAK,GACpC,IAAI0M,EAAYjB,EAAK,QAAU,GAAO5b,EAAgB,MAAQ4b,EAAK,MAAQzZ,EAAiByZ,EAAK,MAAO5b,EAAgB,KAAK,EAAI,CAAA,EACjI6c,EAAYva,EAAiBtC,EAAgB,MAAO6c,CAAS,EAC7D,MAAM/T,EAAW,GAAGyT,CAAY,GAAGzK,CAAS,GAAG8K,CAAO,GAChD9D,EAAM,IAAI,IAAIhQ,EAAU,KAAK,MAAM,EACnCgU,EAAe7D,GAAqB,KAAK,QAASH,CAAG,EAC3D,MAAO,CACL,WAAYgE,EAAa,SAAWA,EAAa,OAASA,EAAa,KACvE,KAAMhU,EACN,IAAKgU,EACL,SAAUP,EACV,OAAQC,EACR,UAAA1K,EACA,MAAO+K,EACP,KAAM1M,GAAQ,GACd,eAAgByL,EAAK,cAAA,CAEzB,EACMmB,EAAmB,CAACnB,EAAO,CAAA,EAAIoB,IAAe,CAClD,MAAMzc,EAAOob,EAAMC,CAAI,EACvB,IAAIqB,EAAaD,EAAarB,EAAMqB,CAAU,EAAI,OAClD,GAAI,CAACC,EAAY,CACf,MAAM1S,EAAS,CAAA,EACf,GAAI,KAAK,QAAQ,WAAY,CAC3B,MAAMzF,EAAQsE,GACZ7I,EAAK,SACL,KAAK,aAAA,EAEP,GAAIuE,EAAO,CACT,OAAO,OAAOyF,EAAQzF,EAAM,MAAM,EAClC,KAAM,CACJ,KAAMoY,EACN,OAAQC,EACR,GAAGC,CAAA,EACDtY,EAAM,MACJsX,EAAae,IAAe,IAASA,IAAe,KAAO,CAAA,GAAMA,GAAc,MAAU,GAAO5S,EAAS,OAAO,OAAOA,EAAQpI,EAAiBgb,EAAY5S,CAAM,CAAC,EACzKyS,EAAa,CACX,KAAMpf,EAAK,KACX,GAAGwf,EACH,OAAQhB,CAAA,EAEVa,EAAatB,EAAMqB,CAAU,CAC/B,CACF,CACF,CACA,OAAIC,IACF1c,EAAK,eAAiB0c,GAEjB1c,CACT,EACA,OAAI3C,EAAK,KACAmf,EAAiBnf,EAAM,CAC5B,KAAMA,EAAK,KACX,GAAGA,EAAK,IAAA,CACT,EAEImf,EAAiBnf,CAAI,CAC9B,EACA,KAAK,eAAiB,CAAC,CACrB,eAAAyf,EACA,cAAA7b,EACA,GAAGjB,CAAA,IACC,CACJ,MAAM+c,EAAc,IAAM,CACxB,MAAMC,EAAe,CACnB,MAEA,YACA,cACA,6BAAA,EAEFA,EAAa,QAASC,GAAS,CAC7Bjd,EAAK,MAAMid,CAAI,EAAI,KAAK,eAAe,MAAMA,CAAI,CACnD,CAAC,EACD,MAAMC,EAAU3Z,GAAUvD,EAAK,MAAO,KAAK,eAAe,KAAK,EAC/D,OAAAgd,EAAa,QAASC,GAAS,CAC7B,OAAOjd,EAAK,MAAMid,CAAI,CACxB,CAAC,EACMC,CACT,EACMC,EAAY7T,GAAc,KAAK,eAAe,IAAI,IAAMA,GAActJ,EAAK,IAAI,EAC/Eod,EAAwB,KAAK,sBAInC,GAHA,KAAK,sBAAwBzZ,GAAwB,IAAM,CACzDyZ,GAAA,MAAAA,EAAuB,SACzB,CAAC,EACGD,GAAaJ,IACf,KAAK,KAAA,MACA,CACL,GAAI,CAEF,eAAAM,EAEA,mBAAAC,EAGA,IAAKC,EACL,GAAGC,CAAA,EACDxd,EACAqd,IACFG,EAAc,CACZ,GAAGH,EACH,MAAO,CACL,GAAGA,EAAe,MAClB,UAAW,OACX,eAAgB,CACd,GAAGG,EACH,OAAQA,EAAY,UACpB,MAAO,CACL,GAAGA,EAAY,MACf,UAAW,OACX,eAAgB,OAChB,UAAW,OACX,IAAK,MAAA,CAEP,CACF,CACF,GAEEA,EAAY,gBAAkB,KAAK,QAAQ,gBAAkB,MAC/DA,EAAY,MAAM,UAAY,KAAK,kBAGvCA,EAAY,MAAM,4BAA8BF,GAAsB,KAAK,QAAQ,2BAA6B,GAChH,KAAK,qBAAuBR,EAC5B,KAAK,QAAQ9c,EAAK,QAAU,UAAY,MAAM,EAC5Cwd,EAAY,WACZA,EAAY,MACZ,CAAE,cAAAvc,CAAA,CAAc,CAEpB,CACA,YAAK,gBAAkBjB,EAAK,aAAe,GACtC,KAAK,QAAQ,YAAY,MAC5B,KAAK,KAAA,EAEA,KAAK,qBACd,EACA,KAAK,uBAAyB,CAAC,CAC7B,QAAAyd,EACA,YAAAC,EACA,mBAAAJ,EACA,eAAAR,EACA,cAAA7b,EACA,KAAAV,EACA,GAAGod,CAAA,EACD,KAAO,CACT,GAAIpd,EAAM,CACR,MAAM/B,EAAe,KAAK,QAAQ,SAAS,MAAM,YAC3Cof,EAASxf,GAAUmC,EAAM,CAC7B,YAAakd,EAAUjf,EAAeA,EAAe,CAAA,CACtD,EACDmf,EAAK,GAAKC,EAAO,SACjBD,EAAK,OAAS,KAAK,QAAQ,YAAYC,EAAO,MAAM,EACpDD,EAAK,KAAOC,EAAO,KAAK,MAAM,CAAC,CACjC,CACA,MAAMtgB,EAAW,KAAK,cAAc,CAClC,GAAGqgB,EACH,uBAAwB,EAAA,CACzB,EACD,KAAK,qBAAuBrgB,EAC5B,MAAMugB,EAAgB,KAAK,eAAe,CACxC,GAAGvgB,EACH,eAAAwf,EACA,QAAAW,EACA,YAAAC,EACA,mBAAAJ,EACA,cAAArc,CAAA,CACD,EACD,eAAQ,UAAU,KAAK,IAAM,CACvB,KAAK,uBAAyB3D,IAChC,KAAK,qBAAuB,OAEhC,CAAC,EACMugB,CACT,EACA,KAAK,SAAW,MAAO,CACrB,GAAA7Q,EACA,eAAA8Q,EACA,KAAAvd,EACA,WAAAwd,EACA,GAAGJ,CAAA,IACC,OACJ,IAAIK,EAAY,GAChB,GAAIzd,EACF,GAAI,CACF,IAAI,IAAI,GAAGA,CAAI,EAAE,EACjByd,EAAY,EACd,MAAQ,CACR,CAKF,GAHIA,GAAa,CAACF,IAChBA,EAAiB,IAEfA,EAAgB,CAClB,GAAI,CAACvd,GAAQ,CAACwd,GAAc,CAACC,EAAW,CACtC,MAAM1gB,EAAW,KAAK,cAAc,CAAE,GAAA0P,EAAI,GAAG2Q,EAAM,EACnDpd,EAAOA,GAAQjD,EAAS,IAAI,KAC5BygB,EAAaA,GAAczgB,EAAS,IAAI,IAC1C,CACA,MAAM2gB,EAAa,CAACD,GAAaD,EAAaA,EAAaxd,EAC3D,GAAI,CAACod,EAAK,cAAe,CACvB,MAAMO,EAAsB,KAAK,QAC3BlgB,IAAWnB,EAAAqhB,EAAoB,cAApB,YAAArhB,EAAA,KAAAqhB,KAAuC,CAAA,EACxD,UAAWhgB,KAAWF,EACpB,GAAIE,GAAA,MAAAA,EAAS,WACS,MAAMA,EAAQ,UAAU,CAC1C,gBAAiB,KAAK,eACtB,aAAc,KAAK,eAEnB,OAAQ,MAAA,CACT,EAEC,OAAO,QAAQ,QAAA,CAIvB,CACA,OAAIyf,EAAK,QACP,OAAO,SAAS,QAAQM,CAAU,EAElC,OAAO,SAAS,KAAOA,EAElB,QAAQ,QAAA,CACjB,CACA,OAAO,KAAK,uBAAuB,CACjC,GAAGN,EACH,KAAApd,EACA,GAAAyM,EACA,YAAa,EAAA,CACd,CACH,EACA,KAAK,WAAa,IAAM,CAGtB,GAFA,KAAK,cAAA,EACL,KAAK,qBAAA,EACD,KAAK,SAAU,CACjB,MAAM7O,EAAe,KAAK,cAAc,CACtC,GAAI,KAAK,eAAe,SACxB,OAAQ,GACR,OAAQ,GACR,KAAM,GACN,MAAO,GACP,uBAAwB,EAAA,CACzB,EACD,GAAI,KAAK,eAAe,aAAeA,EAAa,YAAcA,EAAa,IAAI,SAAW,KAAK,OAAQ,CACzG,MAAMoC,EAAO,KAAK,sBAAsBpC,CAAY,EACpD,MAAM0T,GAAS,CAAE,KAAAtR,EAAM,CACzB,CACF,CACA,MAAM4d,EAAiB,KAAK,YAAY,KAAK,cAAc,EAC3D,KAAK,QAAQ,SAAU,IAAO,CAC5B,GAAG,EACH,OAAQ,UACR,WAAY,IACZ,UAAW,GACX,SAAU,KAAK,eACf,eAAAA,EAEA,cAAe,EAAE,cAAc,OAC5BxjB,GAAM,CAACwjB,EAAe,KAAMvjB,GAAMA,EAAE,KAAOD,EAAE,EAAE,CAAA,CAClD,EACA,CACJ,EACA,KAAK,KAAO,MAAO0C,GAAS,CAC1B,IAAI+gB,EACAC,EACAC,EAmHJ,IAlHAA,EAAc,IAAI,QAASta,GAAY,CACrC,KAAK,gBAAgB,SAAY,OAC/B,GAAI,CACF,KAAK,WAAA,EACL,MAAMhE,EAAO,KAAK,eACZue,EAAe,KAAK,MAAM,iBAC3B,KAAK,MAAM,UACd,KAAK,KAAK,CACR,KAAM,mBACN,GAAGrF,GAAsB,CACvB,iBAAkBqF,EAClB,SAAUve,CAAA,CACX,CAAA,CACF,EAEH,KAAK,KAAK,CACR,KAAM,eACN,GAAGkZ,GAAsB,CACvB,iBAAkBqF,EAClB,SAAUve,CAAA,CACX,CAAA,CACF,EACD,MAAMuX,GAAY,CAChB,OAAQ,KACR,KAAMla,GAAA,YAAAA,EAAM,KACZ,QAAS,KAAK,MAAM,eACpB,SAAU2C,EACV,YAAa,KAAK,YAElB,QAAS,SAAY,CACnB,KAAK,gBAAgB,IAAM,CACzB,KAAK,oBAAoB,SAAY,CACnC,IAAIwe,EAAiB,CAAA,EACjBC,EAAkB,CAAA,EAClBC,EAAiB,CAAA,EACrBriB,GAAM,IAAM,CACV,KAAK,QAAQ,SAAU0L,GAAM,CAC3B,MAAM4W,EAAkB5W,EAAE,QACpB6W,EAAa7W,EAAE,gBAAkBA,EAAE,QACzC,OAAAyW,EAAiBG,EAAgB,OAC9Bpa,GAAU,CAACqa,EAAW,KAAMjkB,GAAMA,EAAE,KAAO4J,EAAM,EAAE,CAAA,EAEtDka,EAAkBG,EAAW,OAC1Bra,GAAU,CAACoa,EAAgB,KAAMhkB,GAAMA,EAAE,KAAO4J,EAAM,EAAE,CAAA,EAE3Dma,EAAiBE,EAAW,OACzBra,GAAUoa,EAAgB,KAAMhkB,GAAMA,EAAE,KAAO4J,EAAM,EAAE,CAAA,EAEnD,CACL,GAAGwD,EACH,UAAW,GACX,SAAU,KAAK,IAAA,EACf,QAAS6W,EACT,eAAgB,OAOhB,cAAe,CACb,GAAG7W,EAAE,cACL,GAAGyW,EAAe,OACf7jB,GAAMA,EAAE,SAAW,SAAWA,EAAE,SAAW,UAAA,CAC9C,CACF,CAEJ,CAAC,EACD,KAAK,kBAAA,CACP,CAAC,EACD,CACE,CAAC6jB,EAAgB,SAAS,EAC1B,CAACC,EAAiB,SAAS,EAC3B,CAACC,EAAgB,QAAQ,CAAA,EACzB,QAAQ,CAAC,CAACG,EAASC,CAAI,IAAM,CAC7BD,EAAQ,QAASta,GAAU,UACzBzH,GAAAD,EAAA,KAAK,gBAAgB0H,EAAM,OAAO,EAAE,SAAQua,KAA5C,MAAAhiB,EAAA,KAAAD,EACE0H,EAEJ,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAA,CACD,CACH,OAASmO,EAAK,CACRV,EAAWU,CAAG,GAChB0L,EAAY1L,EACP,KAAK,UACR,KAAK,SAAS,CACZ,GAAG0L,EAAU,QACb,QAAS,GACT,cAAe,EAAA,CAChB,GAEMpQ,EAAW0E,CAAG,IACvB2L,EAAW3L,GAEb,KAAK,QAAQ,SAAU3K,IAAO,CAC5B,GAAGA,EACH,WAAYqW,EAAYA,EAAU,OAASC,EAAW,IAAMtW,EAAE,QAAQ,KAAMpN,GAAMA,EAAE,SAAW,OAAO,EAAI,IAAM,IAChH,SAAUyjB,CAAA,EACV,CACJ,CACI,KAAK,oBAAsBE,KAC7BzhB,EAAA,KAAK,wBAAL,MAAAA,EAA4B,UAC5B,KAAK,kBAAoB,OACzB,KAAK,sBAAwB,QAE/BmH,EAAA,CACF,CAAC,CACH,CAAC,EACD,KAAK,kBAAoBsa,EACzB,MAAMA,EACC,KAAK,mBAAqBA,IAAgB,KAAK,mBACpD,MAAM,KAAK,kBAEb,IAAIS,EACA,KAAK,mBACPA,EAAgB,IACP,KAAK,QAAQ,MAAM,QAAQ,KAAMpkB,GAAMA,EAAE,SAAW,OAAO,IACpEokB,EAAgB,KAEdA,IAAkB,QACpB,KAAK,QAAQ,SAAUhX,IAAO,CAC5B,GAAGA,EACH,WAAYgX,CAAA,EACZ,CAEN,EACA,KAAK,oBAAuBziB,GAAO,CACjC,MAAM0iB,EAAuB,KAAK,sBAAwB,KAAK,QAAQ,sBAEvE,GADA,OAAO,KAAK,qBACRA,GAAwB,OAAO,SAAa,KAAe,wBAAyB,UAAY,OAAO,SAAS,qBAAwB,WAAY,CACtJ,IAAIC,EACJ,GAAI,OAAOD,GAAyB,UAAY,KAAK,+BAAgC,CACnF,MAAMhf,EAAO,KAAK,eACZue,EAAe,KAAK,MAAM,iBAC1BW,EAA8B,OAAOF,EAAqB,OAAU,WAAaA,EAAqB,MAC1G9F,GAAsB,CACpB,iBAAkBqF,EAClB,SAAUve,CAAA,CACX,CAAA,EACCgf,EAAqB,MACzB,GAAIE,IAAgC,GAAO,CACzC5iB,EAAA,EACA,MACF,CACA2iB,EAA4B,CAC1B,OAAQ3iB,EACR,MAAO4iB,CAAA,CAEX,MACED,EAA4B3iB,EAE9B,SAAS,oBAAoB2iB,CAAyB,CACxD,MACE3iB,EAAA,CAEJ,EACA,KAAK,YAAc,CAAC2e,EAAIxe,IAAY,CAClC,KAAK,gBAAgB,IAAM,OACzB,MAAM0iB,GAAatiB,EAAA,KAAK,MAAM,iBAAX,MAAAA,EAA2B,KAAMlC,GAAMA,EAAE,KAAOsgB,GAAM,iBAAmB,KAAK,MAAM,QAAQ,KAAMtgB,GAAMA,EAAE,KAAOsgB,CAAE,EAAI,UAAY,KAAK,MAAM,cAAc,KAAMtgB,GAAMA,EAAE,KAAOsgB,CAAE,EAAI,gBAAkB,GACxNkE,GACF,KAAK,QAAQ,SAAUpX,GAAA,OAAO,OAC5B,GAAGA,EACH,CAACoX,CAAU,GAAGtiB,EAAAkL,EAAEoX,CAAU,IAAZ,YAAAtiB,EAAe,IAC1BlC,GAAMA,EAAE,KAAOsgB,EAAKxe,EAAQ9B,CAAC,EAAIA,EACpC,EACA,CAEN,CAAC,CACH,EACA,KAAK,SAAYyX,GAAY,OAC3B,MAAMgN,EAAUzkB,GAAMA,EAAE,KAAOyX,EAC/B,OAAO,KAAK,MAAM,cAAc,KAAKgN,CAAM,KAAKviB,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,KAAKuiB,KAAW,KAAK,MAAM,QAAQ,KAAKA,CAAM,CAC3H,EACA,KAAK,WAAc/hB,GAAS,CAC1B,MAAMgiB,EAAc1kB,GAAM,OACxB,QAAIkC,EAAAQ,GAAA,YAAAA,EAAM,SAAN,YAAAR,EAAA,KAAAQ,EAAe1C,KAAM,GAChB,CACL,GAAGA,EACH,QAAS,GACT,GAAG0C,GAAA,MAAAA,EAAM,cAAgB1C,EAAE,SAAW,SAAWA,EAAE,SAAW,WAAa,CAAE,OAAQ,UAAW,MAAO,QAAW,MAAA,EAG/GA,CACT,EACA,YAAK,QAAQ,SAAUoN,GAAA,OAAO,OAC5B,GAAGA,EACH,QAASA,EAAE,QAAQ,IAAIsX,CAAU,EACjC,cAAetX,EAAE,cAAc,IAAIsX,CAAU,EAC7C,gBAAgBxiB,EAAAkL,EAAE,iBAAF,YAAAlL,EAAkB,IAAIwiB,EAAU,EAChD,EACF,KAAK,qBAAuB,GACrB,KAAK,KAAK,CAAE,KAAMhiB,GAAA,YAAAA,EAAM,KAAM,CACvC,EACA,KAAK,sBAAyBC,GAAa,CACzC,IAAIiD,EAAOjD,EAAS,IAAI,KACxB,OAAI,KAAK,QAAUA,EAAS,IAAI,SAAW,KAAK,SAC9CiD,EAAOA,EAAK,QAAQ,KAAK,OAAQ,EAAE,GAAK,KAEnCA,CACT,EACA,KAAK,gBAAmB6d,GAAc,CACpC,GAAI,CAACA,EAAU,QAAQ,KAAM,CAC3B,MAAM9gB,EAAW,KAAK,cAAc8gB,EAAU,OAAO,EAC/C7d,EAAO,KAAK,sBAAsBjD,CAAQ,EAChD8gB,EAAU,QAAQ,KAAO9gB,EAAS,KAClC8gB,EAAU,QAAQ,IAAI,WAAY7d,CAAI,CACxC,CACA,OAAK6d,EAAU,QAAQ,IAAI,UAAU,GACnCA,EAAU,QAAQ,IAAI,WAAYA,EAAU,QAAQ,IAAI,EAEnDA,CACT,EACA,KAAK,WAAc/gB,GAAS,CAC1B,MAAMiiB,EAASjiB,GAAA,YAAAA,EAAM,OACjBiiB,IAAW,OACb,KAAK,QAAQ,SAAUvX,IACd,CACL,GAAGA,EACH,cAAeA,EAAE,cAAc,OAC5B5N,GAAM,CAACmlB,EAAOnlB,CAAC,CAAA,CAClB,EAEH,EAED,KAAK,QAAQ,SAAU4N,IACd,CACL,GAAGA,EACH,cAAe,CAAA,CAAC,EAEnB,CAEL,EACA,KAAK,kBAAoB,IAAM,CAC7B,MAAMuX,EAAU3kB,GAAM,CACpB,MAAMsM,EAAQ,KAAK,gBAAgBtM,EAAE,OAAO,EAC5C,GAAI,CAACsM,EAAM,QAAQ,OACjB,MAAO,GAET,MAAMsY,GAAU5kB,EAAE,QAAUsM,EAAM,QAAQ,eAAiB,KAAK,QAAQ,qBAAuBA,EAAM,QAAQ,QAAU,KAAK,QAAQ,gBAAkB,EAAI,GAAK,IAE/J,OADgBtM,EAAE,SAAW,QACT,GACD,KAAK,IAAA,EAAQA,EAAE,WAAa4kB,CAEjD,EACA,KAAK,WAAW,CAAE,OAAAD,EAAQ,CAC5B,EACA,KAAK,eAAiBnJ,GACtB,KAAK,aAAe,MAAO9Y,GAAS,CAClC,MAAM2C,EAAO,KAAK,cAAc3C,CAAI,EACpC,IAAIwhB,EAAU,KAAK,YAAY7e,EAAM,CACnC,aAAc,GACd,QAAS,GACT,KAAM3C,CAAA,CACP,EACD,MAAMmiB,EAAiB,IAAI,IACzB,CAAC,GAAG,KAAK,MAAM,QAAS,GAAG,KAAK,MAAM,gBAAkB,CAAA,CAAE,EAAE,IACzD7kB,GAAMA,EAAE,EAAA,CACX,EAEI8kB,MAAqC,IAAI,CAC7C,GAAGD,EACH,GAAG,KAAK,MAAM,cAAc,IAAK7kB,GAAMA,EAAE,EAAE,CAAA,CAC5C,EACD0B,GAAM,IAAM,CACVwiB,EAAQ,QAASta,GAAU,CACpBkb,EAAe,IAAIlb,EAAM,EAAE,GAC9B,KAAK,QAAQ,SAAUwD,IAAO,CAC5B,GAAGA,EACH,cAAe,CAAC,GAAGA,EAAE,cAAexD,CAAK,CAAA,EACzC,CAEN,CAAC,CACH,CAAC,EACD,GAAI,CACF,OAAAsa,EAAU,MAAMtH,GAAY,CAC1B,OAAQ,KACR,QAAAsH,EACA,SAAU7e,EACV,QAAS,GACT,YAAa,CAACib,EAAIxe,IAAY,CACxB+iB,EAAe,IAAIvE,CAAE,EACvB4D,EAAUA,EAAQ,IAAKlkB,GAAMA,EAAE,KAAOsgB,EAAKxe,EAAQ9B,CAAC,EAAIA,CAAC,EAEzD,KAAK,YAAYsgB,EAAIxe,CAAO,CAEhC,CAAA,CACD,EACMoiB,CACT,OAASnM,EAAK,CACZ,GAAIV,EAAWU,CAAG,EAChB,OAAIA,EAAI,QAAQ,eACd,OAEK,MAAM,KAAK,aAAa,CAC7B,GAAGA,EAAI,QACP,cAAe1S,CAAA,CAChB,EAEEgO,EAAW0E,CAAG,GACjB,QAAQ,MAAMA,CAAG,EAEnB,MACF,CACF,EACA,KAAK,WAAa,CAACpV,EAAUD,IAAS,CACpC,MAAMqiB,EAAgB,CACpB,GAAGpiB,EACH,GAAIA,EAAS,GAAK,KAAK,oBACrBA,EAAS,MAAQ,GACjBA,EAAS,EAAA,EACP,OACJ,OAAQA,EAAS,QAAU,CAAA,EAC3B,YAAa,EAAA,EAET0C,EAAO,KAAK,cAAc0f,CAAa,EAC7C,GAAIriB,GAAA,MAAAA,EAAM,SAAW,KAAK,MAAM,SAAW,UACzC,MAAO,GAGT,MAAMsiB,IADUtiB,GAAA,YAAAA,EAAM,WAAY,OAAS,CAAC,KAAK,MAAM,UAAYA,EAAK,SACzC,KAAK,eAAiB,KAAK,MAAM,kBAAoB,KAAK,MAAM,SACzFkH,EAAQyE,GACZhJ,EAAK,UACL3C,GAAA,YAAAA,EAAM,gBAAiB,IACvBA,GAAA,YAAAA,EAAM,QAAS,GACfsiB,EAAa,SACb,KAAK,aAAA,EAKP,MAHI,CAACpb,GAGDjH,EAAS,QACP,CAACiG,GAAUgB,EAAM,OAAQjH,EAAS,OAAQ,CAAE,QAAS,EAAA,CAAM,EACtD,IAGPD,GAAA,YAAAA,EAAM,gBAAiB,GAClBkG,GAAUoc,EAAa,OAAQ3f,EAAK,OAAQ,CAAE,QAAS,EAAA,CAAM,EAAIuE,EAAM,OAAS,GAElFA,EAAM,MACf,EACA,KAAK,iBAAmB,IACf,KAAK,QAAQ,MAAM,QAAQ,KAC/B5J,GAAMA,EAAE,SAAW,YAAcA,EAAE,cAAA,EAGxC,KAAK,OAAO,CACV,oBAAqB,GACrB,iBAAkB,IAClB,oBAAqB,IACrB,QAAS,OACT,GAAGiC,EACH,cAAeA,EAAQ,eAAiB,GACxC,aAAcA,EAAQ,cAAgB,QACtC,gBAAiBA,EAAQ,iBAAmBwU,GAC5C,YAAaxU,EAAQ,aAAesU,EAAA,CACrC,EACG,OAAO,SAAa,MACtB,KAAK,eAAiB,KAE1B,CACA,SAAU,CACR,MAAO,CAAC,CAAC,KAAK,QAAQ,OACxB,CACA,gBAAiB,CACf,MAAO,CAAC,CAAC,KAAK,QAAQ,cACxB,CACA,IAAI,OAAQ,CACV,OAAO,KAAK,QAAQ,KACtB,CACA,IAAI,iBAAkB,CACpB,OAAO,KAAK,UACd,CACA,oBAAoBlR,EAAM3C,EAAM,CAC9B,MAAMuiB,EAAsB,KAAK,iBAAiB5f,EAAK,QAAQ,EACzD,CAAE,WAAA6f,EAAY,YAAAC,CAAA,EAAgBF,EACpC,GAAI,CAAE,cAAAG,GAAkBH,EACpBI,EAAmB,IAGrBH,EAAaA,EAAW,OAAS,KAAOC,EAAY,IAAI,EAEtDxW,GAActJ,EAAK,QAAQ,KAGzB,KAAK,QAAQ,cACf+f,EAAgB,CAAC,GAAGA,EAAe,KAAK,QAAQ,aAAa,EAE7DC,EAAmB,IAGvB,MAAMC,GAAyB,IAAM,CACnC,GAAKD,EAGL,IAAI,KAAK,QAAQ,eAAiB,OAChC,QAASpd,EAAImd,EAAc,OAAS,EAAGnd,GAAK,EAAGA,IAAK,CAClD,MAAMqE,EAAQ8Y,EAAcnd,CAAC,EAC7B,GAAIqE,EAAM,SACR,OAAOA,EAAM,EAEjB,CAEF,OAAO2K,EACT,GAAA,EACMiN,EAAU,CAAA,EACVqB,EAAoB3M,IACFA,GAAA,YAAAA,EAAa,IACqCA,EAAY,SAAW,KAAK,QAAQ,SAAW,OAAhF,KAAK,QAAQ,SAAW,OAGjE,OAAAwM,EAAc,QAAQ,CAAC9Y,EAAOvI,IAAU,YACtC,MAAM6U,EAAcsL,EAAQngB,EAAQ,CAAC,EAC/B,CAACyhB,EAAgBC,EAAmB5L,CAAW,GAAK,IAAM,CAC9D,MAAM6L,GAAe9M,GAAA,YAAAA,EAAa,SAAUvT,EAAK,OAC3CsgB,GAAqB/M,GAAA,YAAAA,EAAa,gBAAiB,OACzD,GAAI,CACF,MAAMgN,EAAepE,GAAelV,EAAM,QAAQ,eAAgB,CAAE,GAAGoZ,EAAc,GAAK,OAC1F,MAAO,CACL,CACE,GAAGA,EACH,GAAGE,CAAA,EAEL,CAAE,GAAGD,EAAoB,GAAGC,CAAA,EAC5B,MAAA,CAEJ,OAAS7N,EAAK,CACZ,IAAI8N,GAAmB9N,EAMvB,GALMA,aAAe+N,KACnBD,GAAmB,IAAIC,GAAiB/N,EAAI,QAAS,CACnD,MAAOA,CAAA,CACR,GAECrV,GAAA,MAAAA,EAAM,aACR,MAAMmjB,GAER,MAAO,CAACH,EAAc,CAAA,EAAIG,EAAgB,CAC5C,CACF,GAAA,EACMvK,IAAanZ,GAAAD,EAAAoK,EAAM,SAAQ,aAAd,YAAAnK,EAAA,KAAAD,EAA2B,CAC5C,OAAQsjB,CAAA,KACJ,GACAO,EAAiBzK,EAAa,KAAK,UAAUA,CAAU,EAAI,GAC3D,CAAE,iBAAA0K,EAAkB,WAAAhT,CAAA,EAAeF,GAAgB,CACvD,KAAMxG,EAAM,SACZ,OAAQ6Y,EACR,cAAe,KAAK,uBAAA,CACrB,EACK1N,EAEJnL,EAAM,GACN0Z,EACAD,EAEIrN,EAAgB,KAAK,SAASjB,CAAO,EACrCwO,EAAgB,KAAK,MAAM,QAAQ,KACtCjmB,GAAMA,EAAE,UAAYsM,EAAM,EAAA,EAEvB4Z,GAAexN,GAAA,YAAAA,EAAe,gBAAiB1F,EACrD,IAAI4G,EACJ,GAAI,CAAClB,EAAe,CAClB,MAAMyN,IAAoB9jB,GAAAiK,EAAM,QAAQ,SAAd,YAAAjK,GAAsB,QAASiK,EAAM,QAAQ,YACvE,GAAI6Z,EACF,GAAI,CACF,OAAO,OACLD,EACAC,EAAkBD,CAAY,CAAA,CAElC,OAASnO,EAAK,CAQZ,GAPI1E,EAAW0E,CAAG,GAAKV,EAAWU,CAAG,EACnC6B,EAAc7B,EAEd6B,EAAc,IAAIwM,GAAerO,EAAI,QAAS,CAC5C,MAAOA,CAAA,CACR,EAECrV,GAAA,MAAAA,EAAM,aACR,MAAMkX,CAEV,CAEJ,CACA,OAAO,OAAOuL,EAAae,CAAY,EACvC,MAAMjM,EAAQgM,EAAgB,OAAS,QACvC,IAAIrc,EACJ,GAAI8O,EACF9O,EAAQ,CACN,GAAG8O,EACH,MAAAuB,EACA,OAAQgM,EAAgB7e,EAAiB6e,EAAc,OAAQd,CAAW,EAAIA,EAC9E,cAAee,EACf,OAAwB9e,EAAhB6e,EAAiCA,EAAc,OAA2CvN,EAAc,OAAjD8M,CAAc,EAC7E,cAAeC,CAAA,MAEZ,CACL,MAAMtN,EAAS7L,EAAM,QAAQ,QAAUA,EAAM,QAAQ,YAAcA,EAAM,QAAUgN,GAAkBhN,CAAK,EAAI,UAAY,UAC1H1C,EAAQ,CACN,GAAI6N,EACJ,IAAK,KAAK,SAAW,OAASnL,EAAM,QAAQ,IAC5C,MAAAvI,EACA,QAASuI,EAAM,GACf,OAAQ2Z,EAAgB7e,EAAiB6e,EAAc,OAAQd,CAAW,EAAIA,EAC9E,cAAee,EACf,SAAUF,EACV,UAAW,KAAK,IAAA,EAChB,OAAQC,EAAgB7e,EAAiB6e,EAAc,OAAQT,CAAc,EAAIA,EACjF,cAAeC,EACf,YAAa,OACb,OAAAtN,EACA,WAAY,GACZ,MAAO,OACP,YAAAyB,EACA,eAAgB,OAChB,aAAc,CACZ,YAAa5Q,GAAA,CAAwB,EAEvC,oBAAqB,OACrB,QAAS,CAAA,EACT,gBAAiB,IAAI,gBACrB,WAAY,EACZ,MAAAiR,EACA,WAAYgM,EAAgB7e,EAAiB6e,EAAc,WAAY3K,CAAU,EAAIA,EACrF,QAAS,GACT,QAAS,GACT,MAAO,OACP,QAAS,OACT,YAAa,OACb,KAAM,OACN,WAAYhP,EAAM,QAAQ,YAAc,CAAA,EACxC,SAAUA,EAAM,QAAA,CAEpB,CACK5J,GAAA,MAAAA,EAAM,UACTkH,EAAM,eAAiB0b,IAA0BhZ,EAAM,IAEzD1C,EAAM,YAAciQ,EACpB,MAAMwM,EAAgBd,EAAiB3M,CAAW,EAClDhP,EAAM,QAAU,CACd,GAAGyc,EACH,GAAGzc,EAAM,eACT,GAAGA,EAAM,mBAAA,EAEXsa,EAAQ,KAAKta,CAAK,CACpB,CAAC,EACDsa,EAAQ,QAAQ,CAACta,EAAO7F,IAAU,CAChC,MAAMuI,EAAQ,KAAK,gBAAgB1C,EAAM,OAAO,EAEhD,GAAI,CADkB,KAAK,SAASA,EAAM,EAAE,IACtBlH,GAAA,YAAAA,EAAM,kBAAmB,GAAM,CACnD,MAAMkW,EAAcsL,EAAQngB,EAAQ,CAAC,EAC/BsiB,EAAgBd,EAAiB3M,CAAW,EAClD,GAAItM,EAAM,QAAQ,QAAS,CACzB,MAAMga,EAAmB,CACvB,KAAM1c,EAAM,WACZ,OAAQA,EAAM,OACd,QAASyc,GAAiB,CAAA,EAC1B,SAAUhhB,EACV,SAAWkhB,GAAU,KAAK,SAAS,CAAE,GAAGA,EAAO,cAAelhB,EAAM,EACpE,cAAe,KAAK,cACpB,MAAOuE,EAAM,MACb,gBAAiBA,EAAM,gBACvB,QAAS,CAAC,CAACA,EAAM,QACjB,QAAAsa,CAAA,EAEFta,EAAM,eAAiB0C,EAAM,QAAQ,QAAQga,CAAgB,GAAK,MACpE,CACA1c,EAAM,QAAU,CACd,GAAGyc,EACH,GAAGzc,EAAM,eACT,GAAGA,EAAM,mBAAA,CAEb,CACF,CAAC,EACMsa,CACT,CACF,CACA,MAAM4B,WAAyB,KAAM,CACrC,CACA,MAAMM,WAAuB,KAAM,CACnC,CAWA,SAAShH,GAAsBzc,EAAU,CACvC,MAAO,CACL,SAAU,EACV,UAAW,GACX,gBAAiB,GACjB,OAAQ,OACR,iBAAkB,OAClB,SAAAA,EACA,QAAS,CAAA,EACT,eAAgB,CAAA,EAChB,cAAe,CAAA,EACf,WAAY,GAAA,CAEhB,CACA,SAAS6e,GAAegF,EAAiBC,EAAO,CAC9C,GAAID,GAAmB,KAAM,MAAO,CAAA,EACpC,GAAI,cAAeA,EAAiB,CAClC,MAAMvc,EAASuc,EAAgB,WAAW,EAAE,SAASC,CAAK,EAC1D,GAAIxc,aAAkB,QACpB,MAAM,IAAI6b,GAAiB,gCAAgC,EAC7D,GAAI7b,EAAO,OACT,MAAM,IAAI6b,GAAiB,KAAK,UAAU7b,EAAO,OAAQ,OAAQ,CAAC,EAAG,CACnE,MAAOA,CAAA,CACR,EACH,OAAOA,EAAO,KAChB,CACA,MAAI,UAAWuc,EACNA,EAAgB,MAAMC,CAAK,EAEhC,OAAOD,GAAoB,WACtBA,EAAgBC,CAAK,EAEvB,CAAA,CACT,CACA,SAASpG,GAAiB,CACxB,SAAA/B,EACA,WAAAvP,EACA,cAAAf,CACF,EAAG,CACD,MAAMmX,EAAc,CAAA,EACduB,EAAc/X,GAAc2P,CAAQ,EAC1C,IAAI4G,EACJ,MAAMtb,EAAQ6E,GAAeiY,EAAa1Y,EAAe,EAAI,EAC7D,OAAIpE,IACFsb,EAAatb,EAAM,MACnB,OAAO,OAAOub,EAAavb,EAAM,MAAM,GAGlC,CAAE,eADaA,GAAA,YAAAA,EAAO,SAAU,CAACmF,EAAWkI,CAAW,CAAC,EACvC,YAAAkO,EAAa,WAAAD,CAAA,CACvC,CACA,SAASzD,GAAsB,CAC7B,OAAAzK,EACA,KAAA0J,EACA,WAAAU,EACA,uBAAAuF,CACF,EAAG,CACD,MAAMC,EAAiBxF,EAAW,OAChC,CAACyF,EAAKva,IAAU,OACd,MAAMwa,EAAc,CAAA,EACpB,GAAI,WAAYxa,EAAM,SAChBpK,EAAAoK,EAAM,QAAQ,SAAd,MAAApK,EAAsB,aACxB4kB,EAAY,KAAK,GAAGxa,EAAM,QAAQ,OAAO,WAAW,UAE7CA,EAAM,QAAQ,kBAAoBA,EAAM,QAAQ,kBAAmB,CAC5E,MAAMya,EAAmB,CAAC,CACxB,OAAQC,EACR,KAAA3hB,CAAA,IACI,CACJ,IAAIic,EAAa0F,EACb,qBAAsB1a,EAAM,SAAWA,EAAM,QAAQ,mBACvDgV,EAAahV,EAAM,QAAQ,iBAAiB,OAC1C,CAACjF,EAAM4f,IAAUA,EAAM5f,CAAI,EAC3B2f,CAAA,GAGJ,MAAM/c,EAAS5E,EAAKic,CAAU,EAC9B,MAAI,sBAAuBhV,EAAM,SAAWA,EAAM,QAAQ,kBACjDA,EAAM,QAAQ,kBAAkB,OACrC,CAACjF,EAAM4f,IAAUA,EAAM5f,CAAI,EAC3B4C,CAAA,EAGGA,CACT,EACA6c,EAAY,KAAKC,CAAgB,CACnC,CACA,GAAIJ,GAA0Bra,EAAM,QAAQ,eAAgB,CAC1D,MAAM4a,EAAW,CAAC,CAAE,OAAQF,EAAS,KAAA3hB,KAAW,CAC9C,MAAM4E,EAAS5E,EAAK2hB,CAAO,EAC3B,GAAI,CAKF,MAJwB,CACtB,GAAG/c,EACH,GAAGuX,GAAelV,EAAM,QAAQ,eAAgBrC,CAAM,GAAK,MAAA,CAG/D,MAAQ,CACN,OAAOA,CACT,CACF,EACA6c,EAAY,KAAKI,CAAQ,CAC3B,CACA,OAAOL,EAAI,OAAOC,CAAW,CAC/B,EACA,CAAA,CAAC,GACE,CAAA,EACCK,EAAQ,CAAC,CAAE,OAAQH,KAClBtG,EAAK,OAGNA,EAAK,SAAW,GACXsG,EAEF/f,EAAiByZ,EAAK,OAAQsG,CAAO,EALnC,CAAA,EAOXJ,EAAe,KAAKO,CAAK,EACzB,MAAMC,EAAY,CAACrjB,EAAOsjB,IAAkB,CAC1C,GAAItjB,GAAS6iB,EAAe,OAC1B,OAAOS,EAET,MAAMC,EAAaV,EAAe7iB,CAAK,EAIvC,OAAOujB,EAAW,CAAE,OAAQD,EAAe,KAH7BE,GACLH,EAAUrjB,EAAQ,EAAGwjB,CAAS,EAEU,CACnD,EACA,OAAOH,EAAU,EAAGpQ,CAAM,CAC5B,CCt0CA,MAAMwQ,GAAiB,6BCIvB,MAAMC,EAAU,CACd,YAAYxlB,EAAS,CAgEnB,GA/DA,KAAK,KAAQS,GAAS,SACpB,KAAK,cAAgBA,EAAK,cAC1B,MAAMglB,EAAW,KAAK,QAChBC,EAAS,EAACD,GAAA,MAAAA,EAAU,OAAQ,EAACA,GAAA,MAAAA,EAAU,IAC7C,KAAK,aAAcvlB,GAAAD,EAAA,KAAK,SAAQ,iBAAb,YAAAC,EAAA,KAAAD,GACfylB,EACF,KAAK,MAAQ1Q,EACH,KAAK,aACf9M,EACE,EAEF,EAEF,IAAIxG,EAAOgkB,EAAS1Q,EAAcyQ,GAAA,YAAAA,EAAU,KACxC/jB,GAAQA,IAAS,MACnBA,EAAOgO,GAAahO,CAAI,GAE1B,MAAMikB,GAAWF,GAAA,YAAAA,EAAU,KAAM/jB,EACjC,IAAI2c,EAAKqH,EAAS1Q,EAAc1F,GAAU,CACxC,KAAK,YAAY,KAAO0F,EAAc,GAAK,KAAK,YAAY,GAC5D2Q,CACR,CAAO,EACGjkB,IAASsT,IACXtT,EAAO,KAEL2c,IAAOrJ,IACTqJ,EAAK/O,GAAU,CAAC,IAAK+O,CAAE,CAAC,GAE1B,MAAM1S,EAAW0S,IAAOrJ,EAAc,IAAM1F,GAAU,CAAC,KAAK,YAAY,SAAU5N,CAAI,CAAC,EACvF,KAAK,MAAQA,EACb,KAAK,IAAM2c,EACX,KAAK,UAAY1S,EACjB,KAAK,IAAMA,CACb,EACA,KAAK,YAAeia,GACX,KAAK,iBAAiBA,CAAQ,EAEvC,KAAK,iBAAoBA,IACnB,MAAM,QAAQA,CAAQ,IACxB,KAAK,SAAWA,GAEd,OAAOA,GAAa,UAAYA,IAAa,OAC/C,KAAK,SAAW,OAAO,OAAOA,CAAQ,GAEjC,MAET,KAAK,cAAgB,IACZ,KAET,KAAK,aAAgBH,IACnB,OAAO,OAAO,KAAK,QAASA,CAAQ,EAC7B,MAET,KAAK,OAAUA,IACb,OAAO,OAAO,KAAK,QAASA,CAAQ,EAC7B,MAET,KAAK,KAAQI,IACX,KAAK,OAASA,EACP,MAET,KAAK,QAAU7lB,GAAW,CAAA,EAC1B,KAAK,OAAS,EAACA,GAAA,MAAAA,EAAS,gBACpBA,GAAA,MAAAA,EAAS,KAAMA,GAAA,MAAAA,EAAS,MAC1B,MAAM,IAAI,MAAM,qDAAqD,CAEzE,CACA,IAAI,IAAK,CACP,OAAO,KAAK,GACd,CACA,IAAI,IAAK,CACP,OAAO,KAAK,GACd,CACA,IAAI,MAAO,CACT,OAAO,KAAK,KACd,CACA,IAAI,UAAW,CACb,OAAO,KAAK,SACd,CACF,CASA,MAAM8lB,WAAsBN,EAAU,CACpC,YAAYxlB,EAAS,CACnB,MAAMA,CAAO,CACf,CACF,CChGA,SAAS+lB,GAAcC,EAAO,CAC5B,MAAMC,EAAiBD,EAAM,gBAAkBE,GAC/C,OAAuBC,EAAAA,IACrBC,GACA,CACE,YAAaJ,EAAM,YACnB,QAASA,EAAM,QACf,SAAU,CAAC,CAAE,MAAAtT,EAAO,MAAA2T,KACd3T,EACK4T,EAAAA,cAAoBL,EAAgB,CACzC,MAAAvT,EACA,MAAA2T,CAAA,CACD,EAEIL,EAAM,QACf,CACF,CAEJ,CACA,MAAMI,WAA0BG,EAAAA,SAAgB,CAC9C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,CAAE,MAAO,IAAA,CACxB,CACA,OAAO,yBAAyBP,EAAO,CACrC,MAAO,CAAE,SAAUA,EAAM,aAAY,CACvC,CACA,OAAO,yBAAyBtT,EAAO,CACrC,MAAO,CAAE,MAAAA,CAAA,CACX,CACA,OAAQ,CACN,KAAK,SAAS,CAAE,MAAO,IAAA,CAAM,CAC/B,CACA,mBAAmB8T,EAAWjnB,EAAW,CACnCA,EAAU,OAASA,EAAU,WAAa,KAAK,MAAM,UACvD,KAAK,MAAA,CAET,CACA,kBAAkBmT,EAAO+T,EAAW,CAC9B,KAAK,MAAM,SACb,KAAK,MAAM,QAAQ/T,EAAO+T,CAAS,CAEvC,CACA,QAAS,CACP,OAAO,KAAK,MAAM,SAAS,CACzB,MAAO,KAAK,MAAM,WAAa,KAAK,MAAM,cAAgB,KAAO,KAAK,MAAM,MAC5E,MAAO,IAAM,CACX,KAAK,MAAA,CACP,CAAA,CACD,CACH,CACF,CACA,SAASP,GAAe,CAAE,MAAAxT,GAAS,CACjC,KAAM,CAACgU,EAAMC,CAAO,EAAIC,EAAAA,SAAe,EAAqC,EAC5E,OAAuBC,EAAAA,KAAK,MAAO,CAAE,MAAO,CAAE,QAAS,QAAS,SAAU,MAAA,EAAU,SAAU,CAC5EA,EAAAA,KAAK,MAAO,CAAE,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,OAAA,EAAW,SAAU,CACtFV,MAAI,SAAU,CAAE,MAAO,CAAE,SAAU,MAAA,EAAU,SAAU,wBAAyB,EAChFA,EAAAA,IACd,SACA,CACE,MAAO,CACL,WAAY,OACZ,SAAU,OACV,OAAQ,yBACR,QAAS,cACT,WAAY,OACZ,aAAc,QAAA,EAEhB,QAAS,IAAMQ,EAAS5oB,GAAM,CAACA,CAAC,EAChC,SAAU2oB,EAAO,aAAe,YAAA,CAClC,CACF,EACC,EACaP,EAAAA,IAAI,MAAO,CAAE,MAAO,CAAE,OAAQ,QAAA,EAAY,EAC1DO,EAAuBP,EAAAA,IAAI,MAAO,CAAE,SAA0BA,EAAAA,IAC5D,MACA,CACE,MAAO,CACL,SAAU,OACV,OAAQ,gBACR,aAAc,SACd,QAAS,QACT,MAAO,MACP,SAAU,MAAA,EAEZ,SAAUzT,EAAM,QAA0ByT,MAAI,OAAQ,CAAE,SAAUzT,EAAM,OAAA,CAAS,EAAI,IAAA,CACvF,CACF,CAAG,EAAI,IAAA,EACN,CACL,CCzFA,SAASoU,GAAW,CAAE,SAAAlB,EAAU,SAAAmB,EAAW,IAAI,EAAI,CACjD,OAAOC,GAAW,EAAqBb,EAAAA,IAAIc,GAAe,SAAU,CAAE,SAAArB,CAAQ,CAAE,EAAoBO,EAAAA,IAAIc,GAAe,SAAU,CAAE,SAAUF,CAAQ,CAAE,CACzJ,CACA,SAASC,IAAc,CACrB,OAAOC,GAAe,qBACpBC,GACA,IAAM,GACN,IAAM,EACV,CACA,CACA,SAASA,IAAY,CACnB,MAAO,IAAM,CACb,CACF;;;;;;;;GCJA,IAAIC,GAAQ/pB,EACZ,SAASgqB,GAAGC,EAAGC,EAAG,CAChB,OAAQD,IAAMC,IAAYD,IAAN,GAAW,EAAIA,IAAM,EAAIC,IAAQD,IAAMA,GAAKC,IAAMA,CACxE,CACA,IAAIC,GAA0B,OAAO,OAAO,IAA7B,WAAkC,OAAO,GAAKH,GAC3DI,GAAWL,GAAM,SACjBM,GAAYN,GAAM,UAClBO,GAAkBP,GAAM,gBACxBQ,GAAgBR,GAAM,cACxB,SAASS,GAAuBV,EAAWW,EAAa,CACtD,IAAI3oB,EAAQ2oB,EAAW,EACrBC,EAAYN,GAAS,CAAE,KAAM,CAAE,MAAOtoB,EAAO,YAAa2oB,CAAW,EAAI,EACzEE,EAAOD,EAAU,CAAC,EAAE,KACpBE,EAAcF,EAAU,CAAC,EAC3BJ,OAAAA,GACE,UAAY,CACVK,EAAK,MAAQ7oB,EACb6oB,EAAK,YAAcF,EACnBI,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,CAChE,EACI,CAACb,EAAWhoB,EAAO2oB,CAAW,CAClC,EACEJ,GACE,UAAY,CACV,OAAAQ,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,EACnDb,EAAU,UAAY,CAC3Be,GAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,CAClE,CAAO,CACP,EACI,CAACb,CAAS,CACd,EACES,GAAczoB,CAAK,EACZA,CACT,CACA,SAAS+oB,GAAuBF,EAAM,CACpC,IAAIG,EAAoBH,EAAK,YAC7BA,EAAOA,EAAK,MACZ,GAAI,CACF,IAAII,EAAYD,EAAiB,EACjC,MAAO,CAACX,GAASQ,EAAMI,CAAS,CACpC,MAAkB,CACd,MAAO,EACX,CACA,CACA,SAASC,GAAuBlB,EAAWW,EAAa,CACtD,OAAOA,EAAW,CACpB,CACA,IAAIQ,GACc,OAAO,OAAvB,KACgB,OAAO,OAAO,SAA9B,KACgB,OAAO,OAAO,SAAS,cAAvC,IACID,GACAR,GACNU,GAAA,qBACanB,GAAM,uBAAjB,OAAwCA,GAAM,qBAAuBkB,GC9DrEE,GAAA,QAAiBnrB;;;;;;;;GCQnB,IAAI+pB,GAAQ/pB,EACVirB,GAAOG,GACT,SAASpB,GAAGC,EAAGC,EAAG,CAChB,OAAQD,IAAMC,IAAYD,IAAN,GAAW,EAAIA,IAAM,EAAIC,IAAQD,IAAMA,GAAKC,IAAMA,CACxE,CACA,IAAIC,GAA0B,OAAO,OAAO,IAA7B,WAAkC,OAAO,GAAKH,GAC3DqB,GAAuBJ,GAAK,qBAC5BK,GAASvB,GAAM,OACfM,GAAYN,GAAM,UAClBwB,GAAUxB,GAAM,QAChBQ,GAAgBR,GAAM,cACxByB,GAAA,iCAA2C,SACzC1B,EACAW,EACAgB,EACA1V,EACAmN,EACA,CACA,IAAIwI,EAAUJ,GAAO,IAAI,EACzB,GAAaI,EAAQ,UAAjB,KAA0B,CAC5B,IAAIf,EAAO,CAAE,SAAU,GAAI,MAAO,IAAI,EACtCe,EAAQ,QAAUf,CACtB,MAASA,EAAOe,EAAQ,QACtBA,EAAUH,GACR,UAAY,CACV,SAASI,EAAiBC,EAAc,CACtC,GAAI,CAACC,EAAS,CAIZ,GAHAA,EAAU,GACVC,EAAmBF,EACnBA,EAAe7V,EAAS6V,CAAY,EACrB1I,IAAX,QAAsByH,EAAK,SAAU,CACvC,IAAIoB,EAAmBpB,EAAK,MAC5B,GAAIzH,EAAQ6I,EAAkBH,CAAY,EACxC,OAAQI,EAAoBD,CAC1C,CACU,OAAQC,EAAoBJ,CACtC,CAEQ,GADAG,EAAmBC,EACf7B,GAAS2B,EAAkBF,CAAY,EAAG,OAAOG,EACrD,IAAIE,EAAgBlW,EAAS6V,CAAY,EACzC,OAAe1I,IAAX,QAAsBA,EAAQ6I,EAAkBE,CAAa,GACvDH,EAAmBF,EAAeG,IAC5CD,EAAmBF,EACXI,EAAoBC,EACpC,CACM,IAAIJ,EAAU,GACZC,EACAE,EACAE,EACaT,IAAX,OAA+B,KAAOA,EAC1C,MAAO,CACL,UAAY,CACV,OAAOE,EAAiBlB,GAAa,CAC/C,EACiByB,IAAT,KACI,OACA,UAAY,CACV,OAAOP,EAAiBO,GAAwB,CAC9D,CACA,CACA,EACI,CAACzB,EAAagB,EAAmB1V,EAAUmN,CAAO,CACtD,EACE,IAAIphB,EAAQupB,GAAqBvB,EAAW4B,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAClE,OAAArB,GACE,UAAY,CACVM,EAAK,SAAW,GAChBA,EAAK,MAAQ7oB,CACnB,EACI,CAACA,CAAK,CACV,EACEyoB,GAAczoB,CAAK,EACZA,CACT,ECjFEqqB,GAAA,QAAiBnsB,qBCDnB,SAASosB,GAASzqB,EAAOoU,EAAYpV,GAAMA,EAAGiC,EAAU,GAAI,CAC1D,MAAMypB,EAAQzpB,EAAQ,OAAS0pB,GAQ/B,OAPcC,GAAAA,iCACZ5qB,EAAM,UACN,IAAMA,EAAM,MACZ,IAAMA,EAAM,MACZoU,EACAsW,CACJ,CAEA,CACA,SAASC,GAAQE,EAAMC,EAAM,CAC3B,GAAI,OAAO,GAAGD,EAAMC,CAAI,EACtB,MAAO,GAET,GAAI,OAAOD,GAAS,UAAYA,IAAS,MAAQ,OAAOC,GAAS,UAAYA,IAAS,KACpF,MAAO,GAET,GAAID,aAAgB,KAAOC,aAAgB,IAAK,CAC9C,GAAID,EAAK,OAASC,EAAK,KAAM,MAAO,GACpC,SAAW,CAACxsB,EAAG4I,CAAC,IAAK2jB,EACnB,GAAI,CAACC,EAAK,IAAIxsB,CAAC,GAAK,CAAC,OAAO,GAAG4I,EAAG4jB,EAAK,IAAIxsB,CAAC,CAAC,EAAG,MAAO,GAEzD,MAAO,EACT,CACA,GAAIusB,aAAgB,KAAOC,aAAgB,IAAK,CAC9C,GAAID,EAAK,OAASC,EAAK,KAAM,MAAO,GACpC,UAAW5jB,KAAK2jB,EACd,GAAI,CAACC,EAAK,IAAI5jB,CAAC,EAAG,MAAO,GAE3B,MAAO,EACT,CACA,GAAI2jB,aAAgB,MAAQC,aAAgB,KAC1C,OAAID,EAAK,QAAO,IAAOC,EAAK,QAAO,EAGrC,MAAMC,EAAQC,GAAWH,CAAI,EAC7B,GAAIE,EAAM,SAAWC,GAAWF,CAAI,EAAE,OACpC,MAAO,GAET,QAAS7jB,EAAI,EAAGA,EAAI8jB,EAAM,OAAQ9jB,IAChC,GAAI,CAAC,OAAO,UAAU,eAAe,KAAK6jB,EAAMC,EAAM9jB,CAAC,CAAC,GAAK,CAAC,OAAO,GAAG4jB,EAAKE,EAAM9jB,CAAC,CAAC,EAAG6jB,EAAKC,EAAM9jB,CAAC,CAAC,CAAC,EACpG,MAAO,GAGX,MAAO,EACT,CACA,SAAS+jB,GAAW1Y,EAAK,CACvB,OAAO,OAAO,KAAKA,CAAG,EAAE,OACtB,OAAO,sBAAsBA,CAAG,CACpC,CACA,CCpDA,MAAM2Y,GAAgBC,EAAAA,cAAoB,IAAI,EAC9C,SAASC,IAAmB,CAC1B,OAAI,OAAO,SAAa,IACfF,GAEL,OAAO,uBACF,OAAO,wBAEhB,OAAO,uBAAyBA,GACzBA,GACT,CCRA,SAASG,EAAU1pB,EAAM,CACvB,MAAMvB,EAAQkrB,aAAiBF,IAAkB,EACjD,OACKzpB,GAAA,MAAAA,EAAM,KAGJvB,CACT,CCNA,SAASmrB,EAAe5pB,EAAM,CAC5B,MAAM6pB,EAAgBH,EAAU,CAC9B,MAAM1pB,GAAA,YAAAA,EAAM,UAAW,MAC3B,CAAG,EACK4S,GAAS5S,GAAA,YAAAA,EAAM,SAAU6pB,EACzBC,EAAiB7B,EAAAA,OAAO,MAAM,EACpC,OAAOc,GAASnW,EAAO,QAAU1R,GAAU,CACzC,GAAIlB,GAAA,MAAAA,EAAM,OAAQ,CAChB,GAAIA,EAAK,mBAAqB4S,EAAO,QAAQ,yBAA0B,CACrE,MAAMmX,EAAWrlB,EACfolB,EAAe,QACf9pB,EAAK,OAAOkB,CAAK,CAC3B,EACQ,OAAA4oB,EAAe,QAAUC,EAClBA,CACT,CACA,OAAO/pB,EAAK,OAAOkB,CAAK,CAC1B,CACA,OAAOA,CACT,CAAC,CACH,CCvBA,MAAM8oB,GAAeR,EAAAA,cAAoB,MAAM,EACzCS,GAAoBT,EAAAA,cACxB,MACF,ECAA,SAASU,EAASlqB,EAAM,CACtB,MAAMmqB,EAAiBR,EAAAA,WACrB3pB,EAAK,KAAOiqB,GAAoBD,EACpC,EAiBE,OAhBuBJ,EAAe,CACpC,OAAS1oB,GAAU,CACjB,MAAMgG,EAAQhG,EAAM,QAAQ,KACzB5D,GAAM0C,EAAK,KAAOA,EAAK,OAAS1C,EAAE,QAAUA,EAAE,KAAO6sB,CAC9D,EAKM,GAJA1iB,EACE,GAAGzH,EAAK,aAAe,KAAS,CAACkH,GACjC,kBAAkBlH,EAAK,KAAO,yBAAyBA,EAAK,IAAI,IAAM,kBAAkB,EAChG,EACUkH,IAAU,OAGd,OAAOlH,EAAK,OAASA,EAAK,OAAOkH,CAAK,EAAIA,CAC5C,EACA,kBAAmBlH,EAAK,iBAC5B,CAAG,CAEH,CCxBA,SAASoqB,GAAcpqB,EAAM,CAC3B,OAAOkqB,EAAS,CACd,KAAMlqB,EAAK,KACX,OAAQA,EAAK,OACb,kBAAmBA,EAAK,kBACxB,OAAS0K,GACA1K,EAAK,OAASA,EAAK,OAAO0K,EAAE,UAAU,EAAIA,EAAE,UAEzD,CAAG,CACH,CCTA,SAAS2f,GAAcrqB,EAAM,CAC3B,KAAM,CAAE,OAAAsqB,EAAQ,GAAGhK,CAAI,EAAKtgB,EAC5B,OAAOkqB,EAAS,CACd,GAAG5J,EACH,OAAS,GACAgK,EAASA,EAAO,EAAE,UAAU,EAAI,EAAE,UAE/C,CAAG,CACH,CCRA,SAASC,GAAUvqB,EAAM,CACvB,OAAOkqB,EAAS,CACd,KAAMlqB,EAAK,KACX,YAAaA,EAAK,YAClB,kBAAmBA,EAAK,kBACxB,OAAQA,EAAK,OACb,OAASkH,GAAU,CACjB,MAAMyF,EAAS3M,EAAK,SAAW,GAAQkH,EAAM,OAASA,EAAM,cAC5D,OAAOlH,EAAK,OAASA,EAAK,OAAO2M,CAAM,EAAIA,CAC7C,CACJ,CAAG,CACH,CCXA,SAAS6d,GAAUxqB,EAAM,CACvB,OAAOkqB,EAAS,CACd,KAAMlqB,EAAK,KACX,OAAQA,EAAK,OACb,YAAaA,EAAK,YAClB,kBAAmBA,EAAK,kBACxB,OAASkH,GACAlH,EAAK,OAASA,EAAK,OAAOkH,EAAM,MAAM,EAAIA,EAAM,MAE7D,CAAG,CACH,CCJA,MAAM+f,GAAkB,OAAO,OAAW,IAAcwD,EAAAA,gBAAwBC,EAAAA,UAChF,SAASC,GAAYlsB,EAAO,CAC1B,MAAMmsB,EAAMC,EAAAA,OAAa,CACvB,MAAApsB,EACA,KAAM,IACV,CAAG,EACKqsB,EAAUF,EAAI,QAAQ,MAC5B,OAAInsB,IAAUqsB,IACZF,EAAI,QAAU,CACZ,MAAAnsB,EACA,KAAMqsB,CACZ,GAESF,EAAI,QAAQ,IACrB,CACA,SAASG,GAAwBH,EAAKI,EAAUC,EAA8B,CAAA,EAAI1rB,EAAU,GAAI,CAC9FmrB,EAAAA,UAAgB,IAAM,CACpB,GAAI,CAACE,EAAI,SAAWrrB,EAAQ,UAAY,OAAO,sBAAyB,WACtE,OAEF,MAAM2rB,EAAW,IAAI,qBAAqB,CAAC,CAAChjB,CAAK,IAAM,CACrD8iB,EAAS9iB,CAAK,CAChB,EAAG+iB,CAA2B,EAC9B,OAAAC,EAAS,QAAQN,EAAI,OAAO,EACrB,IAAM,CACXM,EAAS,WAAU,CACrB,CACF,EAAG,CAACF,EAAUC,EAA6B1rB,EAAQ,SAAUqrB,CAAG,CAAC,CACnE,CACA,SAASO,GAAgBP,EAAK,CAC5B,MAAMQ,EAAWP,EAAAA,OAAa,IAAI,EAClCQ,OAAAA,EAAAA,oBAA0BT,EAAK,IAAMQ,EAAS,QAAS,CAAA,CAAE,EAClDA,CACT,CCrCA,SAASE,GAAYC,EAAc,CACjC,MAAM3Y,EAAS8W,EAAS,EACxB,OAAO8B,EAAAA,YACJjsB,GACQqT,EAAO,SAAS,CACrB,GAAGrT,EACH,KAAMA,EAAQ,OAAQgsB,GAAA,YAAAA,EAAc,KAC5C,CAAO,EAEH,CAACA,GAAA,YAAAA,EAAc,KAAM3Y,CAAM,CAC/B,CACA,CCPA,SAAS6Y,GAAalsB,EAASmsB,EAAc,CAC3C,MAAM9Y,EAAS8W,EAAS,EAClB,CAACiC,EAAiBC,CAAkB,EAAIzF,EAAAA,SAAe,EAAK,EAC5D0F,EAAmBhB,EAAAA,OAAa,EAAK,EACrCO,EAAWD,GAAgBO,CAAY,EACvC,CAEJ,YAAAI,EACA,cAAAC,EACA,cAAAC,EACA,GAAArc,EACA,QAASsc,EACT,aAAcC,EACd,mBAAAjM,EACA,QAAAG,EACA,gBAAA+L,EACA,YAAA9L,EACA,eAAAZ,EAEA,SAAA0F,EACA,OAAAiH,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,QAAAC,EACA,QAAAC,EACA,aAAAC,EACA,aAAAC,EACA,aAAAC,EACA,cAAAhpB,EAEA,OAAQipB,EACR,OAAQC,EACR,KAAMC,GACN,MAAOC,EACP,KAAMC,EACN,eAAgBC,EAChB,eAAgBC,GAChB,KAAM7N,GACN,cAAA8N,GACA,GAAGC,EACP,EAAM9tB,EACEolB,GAAgBiF,EAAe,CACnC,OAASlf,GAAMA,EAAE,SAAS,OAC1B,kBAAmB,EACvB,CAAG,EACKkB,GAAOrM,EAAQ,KACf+tB,GAAWC,EAAAA,QACf,KACS,CAAE,GAAGhuB,EAAS,KAAAqM,EAAI,GAG3B,CACEgH,EACA+R,GACA/Y,GACArM,EAAQ,cACRA,EAAQ,KACRA,EAAQ,GACRA,EAAQ,OACRA,EAAQ,OACRA,EAAQ,MACRA,EAAQ,KACRA,EAAQ,cACd,CACA,EACQoD,EAAO4qB,EAAAA,QACX,IAAM3a,EAAO,cAAc,CAAE,GAAG0a,EAAQ,CAAE,EAC1C,CAAC1a,EAAQ0a,EAAQ,CACrB,EACQE,EAAaD,EAAAA,QAAc,IAAM,CACrC,GAAIlB,EACF,OAEF,IAAInpB,EAAOP,EAAK,eAAiBA,EAAK,eAAe,IAAI,KAAOA,EAAK,IAAI,KACrE8qB,EAAW,GACf,OAAI7a,EAAO,SACL1P,EAAK,WAAW0P,EAAO,MAAM,EAC/B1P,EAAO0P,EAAO,QAAQ,WAAW1P,EAAK,QAAQ0P,EAAO,OAAQ,EAAE,CAAC,GAAK,IAErE6a,EAAW,IAGR,CAAE,KAAAvqB,EAAM,SAAAuqB,CAAQ,CACzB,EAAG,CAACpB,EAAU1pB,EAAK,eAAgBA,EAAK,IAAKiQ,EAAO,OAAQA,EAAO,OAAO,CAAC,EACrE8a,GAAeH,EAAAA,QAAc,IAAM,CACvC,GAAIC,GAAA,MAAAA,EAAY,SACd,OAAOA,EAAW,KAEpB,GAAI,CACF,WAAI,IAAI7d,CAAE,EACHA,CACT,MAAQ,CACR,CAEF,EAAG,CAACA,EAAI6d,CAAU,CAAC,EACbhW,GAAUjY,EAAQ,gBAAkBmuB,GAAe,GAAQzB,GAAerZ,EAAO,QAAQ,eACzF+a,GAAezB,GAAoBtZ,EAAO,QAAQ,qBAAuB,EACzEgb,GAAWhE,EAAe,CAC9B,OAASlf,GAAM,CACb,GAAIgjB,GAAc,MAAO,GACzB,GAAI1B,GAAA,MAAAA,EAAe,OAMjB,GAAI,CALc1c,GAChB5E,EAAE,SAAS,SACX/H,EAAK,SACLiQ,EAAO,QACjB,EAEU,MAAO,OAEJ,CACL,MAAMib,EAAmBze,GACvB1E,EAAE,SAAS,SACXkI,EAAO,QACjB,EACckb,EAAgB1e,GACpBzM,EAAK,SACLiQ,EAAO,QACjB,EAEQ,GAAI,EADqBib,EAAiB,WAAWC,CAAa,IAAMD,EAAiB,SAAWC,EAAc,QAAUD,EAAiBC,EAAc,MAAM,IAAM,MAErK,MAAO,EAEX,CACA,QAAI9B,GAAA,YAAAA,EAAe,gBAAiB,KAK9B,CAJe9lB,GAAUwE,EAAE,SAAS,OAAQ/H,EAAK,OAAQ,CAC3D,QAAS,EAACqpB,GAAA,MAAAA,EAAe,OACzB,gBAAiB,EAACA,GAAA,MAAAA,EAAe,kBAC3C,CAAS,EAEQ,GAGPA,GAAA,MAAAA,EAAe,YACVthB,EAAE,SAAS,OAAS/H,EAAK,KAE3B,EACT,CACJ,CAAG,EACKorB,EAAYvC,EAAAA,YAAkB,IAAM,CACxC5Y,EAAO,aAAa,CAAE,GAAG0a,EAAQ,CAAE,EAAE,MAAOjY,GAAQ,CAClD,QAAQ,KAAKA,CAAG,EAChB,QAAQ,KAAKyP,EAAc,CAC7B,CAAC,CACH,EAAG,CAAClS,EAAQ0a,EAAQ,CAAC,EACfU,GAA4BxC,EAAAA,YAC/BtjB,GAAU,CACLA,GAAA,MAAAA,EAAO,gBACT6lB,EAAS,CAEb,EACA,CAACA,CAAS,CACd,EACEhD,GACEK,EACA4C,GACA/C,GACA,CAAE,SAAU,CAAC,CAACoB,GAAc7U,KAAY,UAAW,CACvD,EACEkT,EAAAA,UAAgB,IAAM,CAChBmB,EAAiB,SAGjB,CAACQ,GAAY7U,KAAY,WAC3BuW,EAAS,EACTlC,EAAiB,QAAU,GAE/B,EAAG,CAACQ,EAAU0B,EAAWvW,EAAO,CAAC,EACjC,MAAMyW,GAAe1wB,GAAM,CACzB,MAAM2wB,EAAgB3wB,EAAE,cAAc,aAAa,QAAQ,EACrD4wB,EAAkB/B,IAAW,OAASA,EAAS8B,EACrD,GAAI,CAAC7B,GAAY,CAAC+B,GAAY7wB,CAAC,GAAK,CAACA,EAAE,mBAAqB,CAAC4wB,GAAmBA,IAAoB,UAAY5wB,EAAE,SAAW,EAAG,CAC9HA,EAAE,eAAc,EAChB8wB,GAAAA,UAAU,IAAM,CACdzC,EAAmB,EAAI,CACzB,CAAC,EACD,MAAMlsB,GAAQkT,EAAO,UAAU,aAAc,IAAM,CACjDlT,GAAK,EACLksB,EAAmB,EAAK,CAC1B,CAAC,EACDhZ,EAAO,SAAS,CACd,GAAG0a,GACH,QAAAlN,EACA,YAAAC,EACA,mBAAAJ,EACA,gBAAAkM,EACA,eAAA1M,EACA,cAAA7b,CACR,CAAO,CACH,CACF,EACA,GAAI8pB,GACF,MAAO,CACL,GAAGL,GACH,IAAKjC,EACL,KAAMsC,GACN,GAAGvI,GAAY,CAAE,SAAAA,CAAQ,EACzB,GAAGiH,GAAU,CAAE,OAAAA,CAAM,EACrB,GAAGC,GAAY,CAAE,SAAAA,CAAQ,EACzB,GAAGC,GAAS,CAAE,MAAAA,CAAK,EACnB,GAAGC,GAAa,CAAE,UAAAA,CAAS,EAC3B,GAAGC,GAAW,CAAE,QAAAA,CAAO,EACvB,GAAGC,GAAW,CAAE,QAAAA,CAAO,EACvB,GAAGC,GAAgB,CAAE,aAAAA,CAAY,EACjC,GAAGC,GAAgB,CAAE,aAAAA,CAAY,EACjC,GAAGC,GAAgB,CAAE,aAAAA,CAAY,CACvC,EAEE,MAAM0B,GAAeC,GAAM,CACrBlC,GACA7U,IACFuW,EAAS,CAEb,EACMS,GAAmBF,GACnBG,GAAelxB,GAAM,CACzB,GAAI,EAAA8uB,GAAY,CAAC7U,IACjB,GAAI,CAACmW,GACHI,EAAS,MACJ,CACL,MAAMW,EAAcnxB,EAAE,OACtB,GAAIoxB,GAAW,IAAID,CAAW,EAC5B,OAEF,MAAM9Q,EAAK,WAAW,IAAM,CAC1B+Q,GAAW,OAAOD,CAAW,EAC7BX,EAAS,CACX,EAAGJ,EAAY,EACfgB,GAAW,IAAID,EAAa9Q,CAAE,CAChC,CACF,EACMgR,GAAerxB,GAAM,CACzB,GAAI8uB,GAAY,CAAC7U,IAAW,CAACmW,GAAc,OAC3C,MAAMe,EAAcnxB,EAAE,OAChBqgB,EAAK+Q,GAAW,IAAID,CAAW,EACjC9Q,IACF,aAAaA,CAAE,EACf+Q,GAAW,OAAOD,CAAW,EAEjC,EACMG,GAAsBjB,GAAWrpB,EAAiBunB,EAAa,CAAA,CAAE,GAAKgD,GAAuBC,GAC7FC,GAAwBpB,GAAWmB,GAAsBxqB,EAAiBwnB,EAAe,CAAA,CAAE,GAAKgD,GAChGE,GAAoB,CACxB1C,EACAsC,GAAoB,UACpBG,GAAsB,SAC1B,EAAI,OAAO,OAAO,EAAE,KAAK,GAAG,EACpBE,IAAiB5C,GAASuC,GAAoB,OAASG,GAAsB,QAAU,CAC3F,GAAG1C,EACH,GAAGuC,GAAoB,MACvB,GAAGG,GAAsB,KAC7B,EACE,MAAO,CACL,GAAG3B,GACH,GAAGwB,GACH,GAAGG,GACH,KAAMxB,GAAA,YAAAA,EAAY,KAClB,IAAKpC,EACL,QAAS+D,GAAgB,CAAC3C,EAASyB,EAAW,CAAC,EAC/C,QAASkB,GAAgB,CAAC1C,EAAS6B,EAAW,CAAC,EAC/C,aAAca,GAAgB,CAACzC,EAAc+B,EAAW,CAAC,EACzD,aAAcU,GAAgB,CAACxC,EAAciC,EAAW,CAAC,EACzD,aAAcO,GAAgB,CAACvC,EAAc4B,EAAgB,CAAC,EAC9D,SAAU,CAAC,CAACnC,EACZ,OAAAD,EACA,GAAG8C,IAAiB,CAAE,MAAOA,EAAa,EAC1C,GAAGD,IAAqB,CAAE,UAAWA,EAAiB,EACtD,GAAG5C,GAAY+C,GACf,GAAGxB,IAAYyB,GACf,GAAG1D,GAAmB2D,EAC1B,CACA,CACA,MAAMP,GAAsB,CAAA,EACtBD,GAAuB,CAAE,UAAW,QAAQ,EAC5CM,GAAwB,CAAE,KAAM,OAAQ,gBAAiB,EAAI,EAC7DC,GAAsB,CAAE,cAAe,SAAU,eAAgB,MAAM,EACvEC,GAA6B,CAAE,qBAAsB,eAAe,EACpEX,GAA6B,IAAI,QACjC1D,GAA8B,CAClC,WAAY,OACd,EACMkE,GAAmBI,GAAchyB,GAAM,CAC3C,UAAWiyB,KAAWD,EACpB,GAAKC,EACL,IAAIjyB,EAAE,iBAAkB,OACxBiyB,EAAQjyB,CAAC,EAEb,EAMMkyB,GAAOC,EAAAA,WACX,CAACnK,EAAOqF,IAAQ,CACd,KAAM,CAAE,SAAA+E,EAAU,GAAGrP,CAAI,EAAKiF,EACxB,CACJ,KAAMqK,EACN,IAAKxE,EACL,GAAGyE,CACT,EAAQpE,GAAanL,EAAMsK,CAAG,EACpBzF,EAAW,OAAO7E,EAAK,UAAa,WAAaA,EAAK,SAAS,CACnE,SAAUuP,EAAU,aAAa,IAAM,QAC7C,CAAK,EAAIvP,EAAK,SACV,OAAIqP,IAAa,QACf,OAAOE,EAAU,SAEZhK,EAAAA,cACL8J,GAAsB,IACtB,CACE,GAAGE,EACH,IAAKzE,CACb,EACMjG,CACN,CACE,CACF,EACA,SAASiJ,GAAY,EAAG,CACtB,MAAO,CAAC,EAAE,EAAE,SAAW,EAAE,QAAU,EAAE,SAAW,EAAE,SACpD,CCnQA,MAAM0B,WAAc/K,EAAU,CAI5B,YAAYxlB,EAAS,CACnB,MAAMA,CAAO,EACb,KAAK,SAAYS,GACRkqB,EAAS,CACd,OAAQlqB,GAAA,YAAAA,EAAM,OACd,KAAM,KAAK,GACX,kBAAmBA,GAAA,YAAAA,EAAM,iBACjC,CAAO,EAEH,KAAK,gBAAmBA,GACfkqB,EAAS,CACd,GAAGlqB,EACH,KAAM,KAAK,GACX,OAAS1C,GAAM0C,GAAA,MAAAA,EAAM,OAASA,EAAK,OAAO1C,EAAE,OAAO,EAAIA,EAAE,OACjE,CAAO,EAEH,KAAK,UAAa0C,GACTwqB,GAAU,CACf,OAAQxqB,GAAA,YAAAA,EAAM,OACd,kBAAmBA,GAAA,YAAAA,EAAM,kBACzB,KAAM,KAAK,EACnB,CAAO,EAEH,KAAK,UAAaA,GACTuqB,GAAU,CACf,OAAQvqB,GAAA,YAAAA,EAAM,OACd,kBAAmBA,GAAA,YAAAA,EAAM,kBACzB,KAAM,KAAK,EACnB,CAAO,EAEH,KAAK,cAAiBA,GACbqqB,GAAc,CAAE,GAAGrqB,EAAM,KAAM,KAAK,GAAI,EAEjD,KAAK,cAAiBA,GACboqB,GAAc,CAAE,GAAGpqB,EAAM,KAAM,KAAK,GAAI,EAEjD,KAAK,YAAc,IACVsrB,GAAY,CAAE,KAAM,KAAK,QAAQ,CAAE,EAE5C,KAAK,KAAO9E,GAAe,WACzB,CAACjB,EAAOqF,IACiBlF,EAAAA,IAAI+J,GAAM,CAAE,IAAA7E,EAAK,KAAM,KAAK,SAAU,GAAGrF,EAAO,CAE/E,EACI,KAAK,SAAW,OAAO,IAAI,YAAY,CACzC,CACF,CACA,SAASwK,GAAYxwB,EAAS,CAC5B,OAAO,IAAIuwB,GAETvwB,CACJ,CACA,CAOA,MAAMywB,WAAkB3K,EAAc,CAIpC,YAAY9lB,EAAS,CACnB,MAAMA,CAAO,EACb,KAAK,SAAYS,GACRkqB,EAAS,CACd,OAAQlqB,GAAA,YAAAA,EAAM,OACd,KAAM,KAAK,GACX,kBAAmBA,GAAA,YAAAA,EAAM,iBACjC,CAAO,EAEH,KAAK,gBAAmBA,GACfkqB,EAAS,CACd,GAAGlqB,EACH,KAAM,KAAK,GACX,OAAS1C,GAAM0C,GAAA,MAAAA,EAAM,OAASA,EAAK,OAAO1C,EAAE,OAAO,EAAIA,EAAE,OACjE,CAAO,EAEH,KAAK,UAAa0C,GACTwqB,GAAU,CACf,OAAQxqB,GAAA,YAAAA,EAAM,OACd,kBAAmBA,GAAA,YAAAA,EAAM,kBACzB,KAAM,KAAK,EACnB,CAAO,EAEH,KAAK,UAAaA,GACTuqB,GAAU,CACf,OAAQvqB,GAAA,YAAAA,EAAM,OACd,kBAAmBA,GAAA,YAAAA,EAAM,kBACzB,KAAM,KAAK,EACnB,CAAO,EAEH,KAAK,cAAiBA,GACbqqB,GAAc,CAAE,GAAGrqB,EAAM,KAAM,KAAK,GAAI,EAEjD,KAAK,cAAiBA,GACboqB,GAAc,CAAE,GAAGpqB,EAAM,KAAM,KAAK,GAAI,EAEjD,KAAK,YAAc,IACVsrB,GAAY,CAAE,KAAM,KAAK,QAAQ,CAAE,EAE5C,KAAK,KAAO9E,GAAe,WACzB,CAACjB,EAAOqF,IACiBlF,EAAAA,IAAI+J,GAAM,CAAE,IAAA7E,EAAK,KAAM,KAAK,SAAU,GAAGrF,EAAO,CAE/E,EACI,KAAK,SAAW,OAAO,IAAI,YAAY,CACzC,CACF,CACA,SAAS0K,GAAgB1wB,EAAS,CAChC,OAAO,IAAIywB,GAAUzwB,CAAO,CAC9B,CC9KA,SAAS2wB,GAAgBjvB,EAAM,CAC7B,OAAI,OAAOA,GAAS,SACX,IAAIkvB,GAAUlvB,EAAM,CACzB,OAAQ,EACd,CAAK,EAAE,YAAYA,CAAI,EAEd,IAAIkvB,GAAUlvB,EAAM,CACzB,OAAQ,EACZ,CAAG,EAAE,WACL,CACA,MAAMkvB,EAAU,CACd,YAAYlvB,EAAMmvB,EAAO,CACvB,KAAK,KAAOnvB,EACZ,KAAK,YAAe1B,GAAY,CAE5B,KAAK,OAGP,MAAMqK,EAAQmmB,GAAYxwB,CAAO,EACjC,OAAAqK,EAAM,OAAS,GACRA,CACT,EACA,KAAK,OAASwmB,GAAA,YAAAA,EAAO,MACvB,CACF,CAQA,MAAMC,EAAU,CACd,YAAYrwB,EAAM,CAChB,KAAK,SAAY6jB,GACRqG,EAAS,CACd,OAAQrG,GAAA,YAAAA,EAAO,OACf,KAAM,KAAK,QAAQ,GACnB,kBAAmBA,GAAA,YAAAA,EAAO,iBAClC,CAAO,EAEH,KAAK,gBAAmBA,GACfqG,EAAS,CACd,KAAM,KAAK,QAAQ,GACnB,OAAS5sB,GAAMumB,GAAA,MAAAA,EAAO,OAASA,EAAM,OAAOvmB,EAAE,OAAO,EAAIA,EAAE,OACnE,CAAO,EAEH,KAAK,UAAaumB,GACT2G,GAAU,CACf,OAAQ3G,GAAA,YAAAA,EAAO,OACf,kBAAmBA,GAAA,YAAAA,EAAO,kBAC1B,KAAM,KAAK,QAAQ,EAC3B,CAAO,EAEH,KAAK,UAAaA,GACT0G,GAAU,CACf,OAAQ1G,GAAA,YAAAA,EAAO,OACf,kBAAmBA,GAAA,YAAAA,EAAO,kBAC1B,KAAM,KAAK,QAAQ,EAC3B,CAAO,EAEH,KAAK,cAAiBA,GACbwG,GAAc,CAAE,GAAGxG,EAAO,KAAM,KAAK,QAAQ,GAAI,EAE1D,KAAK,cAAiBA,GACbuG,GAAc,CAAE,GAAGvG,EAAO,KAAM,KAAK,QAAQ,GAAI,EAE1D,KAAK,YAAc,IAAM,CACvB,MAAMjR,EAAS8W,EAAS,EACxB,OAAO4B,GAAY,CAAE,KAAM1Y,EAAO,WAAW,KAAK,QAAQ,EAAE,EAAE,SAAU,CAC1E,EACA,KAAK,QAAU5S,EACf,KAAK,SAAW,OAAO,IAAI,YAAY,CACzC,CACF,CASA,SAASswB,GAAoB1S,EAAI,CAC/B,OAAI,OAAOA,GAAO,SACT,IAAIyS,GAAUzS,CAAE,EAEjB5d,GAAS,IAAIqwB,GAAU,CAAE,GAAAzS,EAAI,GAAG5d,EAAM,CAChD,CC5FA,SAASuwB,IAAe,CACtB,MAAM3d,EAAS8W,EAAS,EAClB8G,EAAqB3F,EAAAA,OAAa,CAAE,OAAAjY,EAAQ,QAAS,EAAK,CAAE,EAC5D,CAAC+Y,EAAiBC,CAAkB,EAAIzF,EAAAA,SAAe,EAAK,EAC5D,CAAE,kBAAAsK,EAAmB,UAAAC,CAAS,EAAK9G,EAAe,CACtD,OAASlf,IAAO,CACd,UAAWA,EAAE,UACb,kBAAmBA,EAAE,QAAQ,KAAMpN,GAAMA,EAAE,SAAW,SAAS,CACrE,GACI,kBAAmB,EACvB,CAAG,EACKqzB,EAAoBhG,GAAY+F,CAAS,EACzCE,EAAeF,GAAa/E,GAAmB8E,EAC/CI,EAAuBlG,GAAYiG,CAAY,EAC/CE,EAAgBJ,GAAaD,EAC7BM,EAAwBpG,GAAYmG,CAAa,EACvD,OAAAle,EAAO,gBAAmB3T,GAAO,CAC/B2sB,EAAmB,EAAI,EACvBoF,EAAAA,gBAAsB,IAAM,CAC1B/xB,EAAE,EACF2sB,EAAmB,EAAK,CAC1B,CAAC,CACH,EACAlB,EAAAA,UAAgB,IAAM,CACpB,MAAMhrB,EAAQkT,EAAO,QAAQ,UAAUA,EAAO,IAAI,EAC5C9R,EAAe8R,EAAO,cAAc,CACxC,GAAIA,EAAO,eAAe,SAC1B,OAAQ,GACR,OAAQ,GACR,KAAM,GACN,MAAO,GACP,uBAAwB,EAC9B,CAAK,EACD,OAAI3G,GAAc2G,EAAO,eAAe,UAAU,IAAM3G,GAAcnL,EAAa,UAAU,GAC3F8R,EAAO,eAAe,CAAE,GAAG9R,EAAc,QAAS,EAAI,CAAE,EAEnD,IAAM,CACXpB,EAAK,CACP,CACF,EAAG,CAACkT,EAAQA,EAAO,OAAO,CAAC,EAC3BqU,GAAgB,IAAM,CACpB,GAEE,OAAO,OAAW,KAAerU,EAAO,KAAO4d,EAAmB,QAAQ,SAAW5d,GAAU4d,EAAmB,QAAQ,QAE1H,OAEFA,EAAmB,QAAU,CAAE,OAAA5d,EAAQ,QAAS,EAAI,GACpC,SAAY,CAC1B,GAAI,CACF,MAAMA,EAAO,KAAI,CACnB,OAASyC,EAAK,CACZ,QAAQ,MAAMA,CAAG,CACnB,CACF,GACO,CACT,EAAG,CAACzC,CAAM,CAAC,EACXqU,GAAgB,IAAM,CAChB0J,GAAqB,CAACD,GACxB9d,EAAO,KAAK,CACV,KAAM,SAEN,GAAGiJ,GAAsBjJ,EAAO,KAAK,CAC7C,CAAO,CAEL,EAAG,CAAC+d,EAAmB/d,EAAQ8d,CAAS,CAAC,EACzCzJ,GAAgB,IAAM,CAChB8J,GAAyB,CAACD,GAC5Ble,EAAO,KAAK,CACV,KAAM,qBACN,GAAGiJ,GAAsBjJ,EAAO,KAAK,CAC7C,CAAO,CAEL,EAAG,CAACke,EAAeC,EAAuBne,CAAM,CAAC,EACjDqU,GAAgB,IAAM,CACpB,GAAI4J,GAAwB,CAACD,EAAc,CACzC,MAAMK,EAAapV,GAAsBjJ,EAAO,KAAK,EACrDA,EAAO,KAAK,CACV,KAAM,aACN,GAAGqe,CACX,CAAO,EACDre,EAAO,QAAQ,SAAUlI,IAAO,CAC9B,GAAGA,EACH,OAAQ,OACR,iBAAkBA,EAAE,QAC5B,EAAQ,EACEumB,EAAW,aACb3d,GAAiBV,CAAM,CAE3B,CACF,EAAG,CAACge,EAAcC,EAAsBje,CAAM,CAAC,EACxC,IACT,CC7FA,SAASse,GAAc3L,EAAO,CAC5B,MAAM4L,EAAWvH,EAAe,CAC9B,OAASlf,GAAM,aAAaA,EAAE,SAAS,QAAQ,IAAIA,EAAE,MAAM,EAC/D,CAAG,EACD,OAAuBgb,EAAAA,IACrBJ,GACA,CACE,YAAa,IAAM6L,EACnB,QAAS,CAAClf,EAAO+T,IAAc,OAC7B,GAAIrV,EAAWsB,CAAK,GAClBzS,EAAA+lB,EAAM,UAAN,MAAA/lB,EAAA,KAAA+lB,EAAgBtT,EAAO+T,OAEvB,OAAM/T,CAEV,EACA,eAAgB,CAAC,CAAE,MAAAA,KAAY,OAC7B,GAAItB,EAAWsB,CAAK,EAClB,OAAOzS,EAAA+lB,EAAM,WAAN,YAAA/lB,EAAA,KAAA+lB,EAAiBtT,GAExB,MAAMA,CAEV,EACA,SAAUsT,EAAM,QACtB,CACA,CACA,CACA,SAAS6L,IAAwB,CAC/B,OAAuB1L,EAAAA,IAAI,IAAK,CAAE,SAAU,WAAW,CAAE,CAC3D,CC/BA,SAAS2L,GAAa9L,EAAO,CAC3B,OAAuBG,EAAAA,IAAI4L,EAAAA,SAAU,CAAE,SAAU/L,EAAM,QAAQ,CAAE,CACnE,CCAA,SAASgM,GAAoB3e,EAAQhJ,EAAOD,EAAM,CAChD,OAAKC,EAAM,QAAQ,wBAYQA,EAAM,QAAQ,kBAAmB,CAAE,GAAGD,EAAM,EAXjEiJ,EAAO,QAAQ,+BACUA,EAAO,QAAQ,yBAA0B,CAAE,GAAGjJ,EAAM,EAQ1D+b,EAAAA,IAAI0L,GAAuB,EAAE,CAGxD,CCfA,SAASI,GAAW,CAAE,SAAArM,GAAY,OAChC,MAAMvS,EAAS8W,EAAS,EACxB,OAAK9W,EAAO,SAGW8S,EAAAA,IACrB,SACA,CACE,OAAOlmB,EAAAoT,EAAO,QAAQ,MAAf,YAAApT,EAAoB,MAC3B,wBAAyB,CACvB,OAAQ2lB,EAAW,kCAC3B,CACA,CACA,EAVW,IAWX,CCZA,SAASsM,IAAoB,CAC3B,MAAM7e,EAAS8W,EAAS,EAIxB,GAHI,CAAC9W,EAAO,mBAAqB,CAACA,EAAO,UAGrC,OAAOA,EAAO,QAAQ,mBAAsB,YAI1C,CAHkBA,EAAO,QAAQ,kBAAkB,CACrD,SAAUA,EAAO,cACvB,CAAK,EAEC,OAAO,KAIX,MAAM8e,GADS9e,EAAO,QAAQ,yBAA2BtB,IAClCsB,EAAO,cAAc,EACtCV,EAAcwf,IAAYpgB,GAA+BsB,EAAO,cAAc,EAAI8e,EAAU,OAC5FC,EAAuB,CAC3B,WAAA7gB,GACA,wBAAyB,EAC7B,EACE,OAAIoB,IACFyf,EAAqB,IAAMzf,GAENwT,EAAAA,IACrB8L,GACA,CACE,SAAU,IAAI7f,GAAc,SAAQ,CAAE,KAAK,KAAK,UAAUggB,CAAoB,CAAC,GACrF,CACA,CACA,CCnBA,MAAMC,GAAQC,EAAAA,KAAW,SAAmB,CAC1C,QAAA9c,CACF,EAAG,SACD,MAAMnC,EAAS8W,EAAS,EAClBoI,EAAalI,EAAe,CAChC,OAASlf,GAAM,CACb,MAAMxD,EAAQwD,EAAE,QAAQ,KAAMpN,GAAMA,EAAE,KAAOyX,CAAO,EACpD,OAAAtN,EACEP,CAEF,EACO,CACL,QAASA,EAAM,QACf,IAAKA,EAAM,IACX,gBAAiBA,EAAM,eAC/B,CACI,EACA,kBAAmB,EACvB,CAAG,EACK0C,EAAQgJ,EAAO,WAAWkf,EAAW,OAAO,EAC5CC,EAAmBnoB,EAAM,QAAQ,kBAAoBgJ,EAAO,QAAQ,wBACpEof,EAAiBD,EAAmCrM,EAAAA,IAAIqM,EAAkB,CAAA,CAAE,EAAI,KAChFE,EAAsBroB,EAAM,QAAQ,gBAAkBgJ,EAAO,QAAQ,sBACrEsf,EAAetoB,EAAM,QAAQ,SAAWgJ,EAAO,QAAQ,eACvDuf,EAAyBvoB,EAAM,OAEnCA,EAAM,QAAQ,qBAAqBpK,EAAAoT,EAAO,QAAQ,gBAAf,YAAApT,EAA8B,QAAQ,WACvEoK,EAAM,QAAQ,kBACZwoB,EAAgBN,EAAW,MAAQ,IAASA,EAAW,MAAQ,YAC/DO,GAEH,CAACzoB,EAAM,QAAUA,EAAM,QAAQ,gBAAkBwoB,KAAmBxoB,EAAM,QAAQ,gBAAkBmoB,MAAqBtyB,EAAAmK,EAAM,QAAQ,iBAAd,YAAAnK,EAA8B,UAAW2yB,IAAkBE,WAAiBjB,GAElMkB,EAAwBN,EAAsB3M,GAAgB+L,GAC9DmB,EAA2BL,EAAyBjB,GAAgBG,GACpEF,EAAWvH,EAAe,CAC9B,OAASlf,GAAMA,EAAE,QACrB,CAAG,EACK+nB,EAAgB7I,EAAe,CACnC,OAASlf,GAAM,OACb,MAAMrJ,EAAQqJ,EAAE,QAAQ,UAAWpN,GAAMA,EAAE,KAAOyX,CAAO,EACzD,OAAOvV,EAAAkL,EAAE,QAAQrJ,EAAQ,CAAC,IAAnB,YAAA7B,EAAsB,OAC/B,CACJ,CAAG,EACKkzB,EAAiB9oB,EAAM,OAASA,EAAM,QAAQ,gBAAkBynB,GAAeA,GACrF,OAAuBjL,EAAAA,KAAKsM,EAAgB,CAAE,SAAU,CACtChN,EAAAA,IAAIsE,GAAa,SAAU,CAAE,MAAOjV,EAAS,SAA0B2Q,EAAAA,IAAI2M,EAA0B,CAAE,SAAUL,EAAgB,SAA0BtM,EAAAA,IACzK6M,EACA,CACE,YAAa,IAAMpB,EACnB,eAAgBc,GAAuBxM,GACvC,QAAS,CAACxT,EAAO+T,IAAc,CAC7B,GAAIrV,EAAWsB,CAAK,EAAG,MAAMA,EAE7BigB,GAAA,MAAAA,EAAejgB,EAAO+T,EACxB,EACA,SAA0BN,EAAAA,IACxB8M,EACA,CACE,SAAWvgB,GAAU,CACnB,GAAI,CAACkgB,GAA0BlgB,EAAM,SAAWA,EAAM,UAAY6f,EAAW,SAAW,CAAC7f,EAAM,SAAW,CAACrI,EAAM,OAC/G,MAAMqI,EACR,OAAO4T,EAAAA,cAAoBsM,EAAwBlgB,CAAK,CAC1D,EACA,SAAUmgB,GAAiBN,EAAW,gBAAkCpM,EAAAA,IAAIW,GAAY,CAAE,SAAU2L,EAAgB,SAA0BtM,EAAAA,IAAIiN,GAAY,CAAE,QAAA5d,EAAS,CAAC,CAAE,EAAoB2Q,MAAIiN,GAAY,CAAE,QAAA5d,CAAO,CAAE,CACvO,CACA,CACA,CACA,CAAK,CAAE,CAAC,CAAE,EACN0d,IAAkBle,GAAe3B,EAAO,QAAQ,kBAAoCwT,OAAKkL,EAAAA,SAAU,CAAE,SAAU,CAC7F5L,EAAAA,IAAIkN,GAAY,EAAE,EAClBlN,EAAAA,IAAI+L,GAAmB,CAAA,CAAE,CAC/C,CAAK,CAAE,EAAI,IACX,EAAK,CACL,CAAC,EACD,SAASmB,IAAa,CACpB,MAAMhgB,EAAS8W,EAAS,EAClBmJ,EAAkBhI,EAAAA,OACtB,MACJ,EACE,OAAuBnF,EAAAA,IACrB,SACA,CACE,yBAA0B,GAC1B,IAAMlU,GAAO,CACPA,IAAOqhB,EAAgB,UAAY,QAAUA,EAAgB,QAAQ,OAASjgB,EAAO,eAAe,QACtGA,EAAO,KAAK,CACV,KAAM,aACN,GAAGiJ,GAAsBjJ,EAAO,KAAK,CACjD,CAAW,EACDigB,EAAgB,QAAUjgB,EAAO,eAErC,CACN,EACIA,EAAO,eAAe,MAAM,SAChC,CACA,CACA,MAAM+f,GAAad,EAAAA,KAAW,SAAwB,CACpD,QAAA9c,CACF,EAAG,aACD,MAAMnC,EAAS8W,EAAS,EAClB,CAAE,MAAAxiB,EAAO,IAAA1F,EAAK,QAAAqU,CAAO,EAAK+T,EAAe,CAC7C,OAASlf,GAAM,CACb,MAAM+O,EAAS/O,EAAE,QAAQ,KAAMpN,GAAMA,EAAE,KAAOyX,CAAO,EAC/C+d,EAAWrZ,EAAO,QAClBsZ,EAAYngB,EAAO,WAAWkgB,CAAQ,EAAE,QAAQ,aAAelgB,EAAO,QAAQ,mBAC9EogB,EAAcD,GAAA,YAAAA,EAAY,CAC9B,QAASD,EACT,WAAYrZ,EAAO,WACnB,OAAQA,EAAO,cACf,OAAQA,EAAO,aACvB,GAEM,MAAO,CACL,IAFWuZ,EAAc,KAAK,UAAUA,CAAW,EAAI,OAGvD,QAASF,EACT,MAAO,CACL,GAAIrZ,EAAO,GACX,OAAQA,EAAO,OACf,MAAOA,EAAO,MACd,QAASA,EAAO,QAChB,cAAeA,EAAO,cACtB,gBAAiBA,EAAO,eAClC,CACA,CACI,EACA,kBAAmB,EACvB,CAAG,EACK7P,EAAQgJ,EAAO,WAAWiD,CAAO,EACjCod,EAAM1F,EAAAA,QAAc,IAAM,CAC9B,MAAM2F,EAAOtpB,EAAM,QAAQ,WAAagJ,EAAO,QAAQ,iBACvD,OAAIsgB,EACqBxN,MAAIwN,EAAM,CAAA,EAAI1xB,CAAG,EAEnBkkB,EAAAA,IAAIyN,GAAQ,EAAE,CACvC,EAAG,CAAC3xB,EAAKoI,EAAM,QAAQ,UAAWgJ,EAAO,QAAQ,gBAAgB,CAAC,EAClE,GAAI1L,EAAM,gBACR,MAAM1H,EAAAoT,EAAO,SAAS1L,EAAM,EAAE,IAAxB,YAAA1H,EAA2B,aAAa,sBAEhD,GAAI0H,EAAM,cACR,MAAMzH,EAAAmT,EAAO,SAAS1L,EAAM,EAAE,IAAxB,YAAAzH,EAA2B,aAAa,kBAEhD,GAAIyH,EAAM,SAAW,UAAW,CAC9B,MAAMksB,EAAexpB,EAAM,QAAQ,cAAgBgJ,EAAO,QAAQ,oBAClE,GAAIwgB,EAAc,CAChB,MAAMC,EAAczgB,EAAO,SAAS1L,EAAM,EAAE,EAC5C,GAAImsB,GAAe,CAACA,EAAY,aAAa,mBACvC,CAACzgB,EAAO,SAAU,CACpB,MAAM0gB,EAAoBhtB,GAAuB,EACjD+sB,EAAY,aAAa,kBAAoBC,EAC7C,WAAW,IAAM,CACfA,EAAkB,QAAO,EACzBD,EAAY,aAAa,kBAAoB,MAC/C,EAAGD,CAAY,CACjB,CAEJ,CACA,MAAMzzB,EAAAiT,EAAO,SAAS1L,EAAM,EAAE,IAAxB,YAAAvH,EAA2B,aAAa,WAChD,CACA,GAAIuH,EAAM,SAAW,WACnB,OAAAO,EAAUkJ,EAAWzJ,EAAM,KAAK,CAA8B,EACvDqqB,GAAoB3e,EAAQhJ,EAAO1C,EAAM,KAAK,EAEvD,GAAIA,EAAM,SAAW,aACnB,MAAAO,EAAUkN,EAAWzN,EAAM,KAAK,CAA8B,GACxDuD,EAAAmI,EAAO,SAAS1L,EAAM,EAAE,IAAxB,YAAAuD,EAA2B,aAAa,YAEhD,GAAIvD,EAAM,SAAW,QAAS,CAC5B,GAAI0L,EAAO,SAAU,CACnB,MAAM2gB,GAAuB3pB,EAAM,QAAQ,gBAAkBgJ,EAAO,QAAQ,wBAA0B6S,GACtG,OAAuBC,EAAAA,IACrB6N,EACA,CACE,MAAOrsB,EAAM,MACb,MAAO,OACP,KAAM,CACJ,eAAgB,EAC5B,CACA,CACA,CACI,CACA,MAAMA,EAAM,KACd,CACA,OAAO+rB,CACT,CAAC,EACKE,GAAStB,EAAAA,KAAW,UAAsB,CAC9C,MAAMjf,EAAS8W,EAAS,EAClB3U,EAAU4U,EAAAA,WAAiBK,EAAY,EACvCnU,EAAU+T,EAAe,CAC7B,OAASlf,UAAM,OAAAlL,EAAAkL,EAAE,QAAQ,KAAMpN,GAAMA,EAAE,KAAOyX,CAAO,IAAtC,YAAAvV,EAAyC,QAC5D,CAAG,EACKoK,EAAQgJ,EAAO,WAAWiD,CAAO,EACjC2d,EAAuB5J,EAAe,CAC1C,OAASlf,GAAM,CAEb,MAAMwL,EADUxL,EAAE,QACU,KAAMpN,GAAMA,EAAE,KAAOyX,CAAO,EACxD,OAAAtN,EACEyO,CAEF,EACOA,EAAY,cACrB,CACJ,CAAG,EACKud,EAAe7J,EAAe,CAClC,OAASlf,GAAM,OACb,MAAM8W,EAAU9W,EAAE,QACZrJ,EAAQmgB,EAAQ,UAAWlkB,GAAMA,EAAE,KAAOyX,CAAO,EACvD,OAAOvV,EAAAgiB,EAAQngB,EAAQ,CAAC,IAAjB,YAAA7B,EAAoB,EAC7B,CACJ,CAAG,EACKwyB,EAAiBpf,EAAO,QAAQ,wBAA0C8S,EAAAA,IAAI9S,EAAO,QAAQ,wBAAyB,CAAA,CAAE,EAAI,KAClI,GAAI4gB,EACF,OAAOjC,GAAoB3e,EAAQhJ,EAAO,MAAM,EAElD,GAAI,CAAC6pB,EACH,OAAO,KAET,MAAMC,EAA4BhO,EAAAA,IAAIkM,GAAO,CAAE,QAAS6B,CAAY,CAAE,EACtE,OAAI5d,IAAYtB,EACSmR,EAAAA,IAAI4M,EAAAA,SAAgB,CAAE,SAAUN,EAAgB,SAAU0B,EAAW,EAEvFA,CACT,CAAC,ECjOD,SAASC,IAAU,CACjB,MAAM/gB,EAAS8W,EAAS,EAElBqI,EADYnf,EAAO,WAAW2B,CAAW,EACZ,QAAQ,kBAAoB3B,EAAO,QAAQ,wBACxEof,EAAiBD,EAAmCrM,EAAAA,IAAIqM,EAAkB,CAAA,CAAE,EAAI,KAChF6B,EAAmBhhB,EAAO,UAAY,OAAO,SAAa,KAAeA,EAAO,IAAMye,GAAeiB,EAAAA,SACrGzd,EAAwBuR,EAAAA,KAAKwN,EAAkB,CAAE,SAAU5B,EAAgB,SAAU,CACzF,CAACpf,EAAO,UAA4B8S,MAAI6K,GAAc,CAAA,CAAE,EACxC7K,EAAAA,IAAImO,GAAc,CAAA,CAAE,CACxC,EAAK,EACH,OAAOjhB,EAAO,QAAQ,UAA4B8S,EAAAA,IAAI9S,EAAO,QAAQ,UAAW,CAAE,SAAUiC,CAAK,CAAE,EAAIA,CACzG,CACA,SAASgf,IAAe,CACtB,MAAMjhB,EAAS8W,EAAS,EAClB3U,EAAU6U,EAAe,CAC7B,OAASlf,GAAM,OACb,OAAOlL,EAAAkL,EAAE,QAAQ,CAAC,IAAX,YAAAlL,EAAc,EACvB,CACJ,CAAG,EACK2xB,EAAWvH,EAAe,CAC9B,OAASlf,GAAMA,EAAE,QACrB,CAAG,EACKopB,EAAiB/e,EAA0B2Q,EAAAA,IAAIkM,GAAO,CAAE,QAAA7c,CAAO,CAAE,EAAI,KAC3E,OAAuB2Q,MAAIsE,GAAa,SAAU,CAAE,MAAOjV,EAAS,SAAUnC,EAAO,QAAQ,2BAA6BkhB,EAAiCpO,EAAAA,IACzJJ,GACA,CACE,YAAa,IAAM6L,EACnB,eAAgB1L,GAChB,QAAUxT,GAAU,CAKHA,EAAM,SAAWA,EAAM,SAAQ,CAChD,EACA,SAAU6hB,CAChB,CACA,EAAK,CACL,CC/CK,MAACC,GAAgBx0B,GACb,IAAIy0B,GAAOz0B,CAAO,EAE3B,MAAMy0B,WAAe5X,EAAW,CAC9B,YAAY7c,EAAS,CACnB,MAAMA,CAAO,CACf,CACF,CACI,OAAO,WAAe,KACxB,WAAW,gBAAkB2wB,GAC7B,WAAW,oBAAsBI,IACxB,OAAO,OAAW,MAC3B,OAAO,gBAAkBJ,GACzB,OAAO,oBAAsBI,ICZ/B,SAAS2D,GAAsB,CAC7B,OAAArhB,EACA,SAAAuS,EACA,GAAG7E,CACL,EAAG,CACG,OAAO,KAAKA,CAAI,EAAE,OAAS,GAC7B1N,EAAO,OAAO,CACZ,GAAGA,EAAO,QACV,GAAG0N,EACH,QAAS,CACP,GAAG1N,EAAO,QAAQ,QAClB,GAAG0N,EAAK,OAChB,CACA,CAAK,EAEH,MAAMiJ,EAAgBE,GAAgB,EAChCyK,EAA2BxO,EAAAA,IAAI6D,EAAc,SAAU,CAAE,MAAO3W,EAAQ,SAAAuS,EAAU,EACxF,OAAIvS,EAAO,QAAQ,KACM8S,EAAAA,IAAI9S,EAAO,QAAQ,KAAM,CAAE,SAAUshB,EAAU,EAEjEA,CACT,CACA,SAASC,GAAe,CAAE,OAAAvhB,EAAQ,GAAG0N,GAAQ,CAC3C,OAAuBoF,MAAIuO,GAAuB,CAAE,OAAArhB,EAAQ,GAAG0N,EAAM,SAA0BoF,MAAIiO,GAAS,CAAA,CAAE,EAAG,CACnH,CC1BA,SAASS,GAAYp0B,EAAM,CACzB,OAAO4pB,EAAe,CACpB,OAAS1oB,GAAuDA,EAAM,QAC1E,CAAG,CACH","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]}